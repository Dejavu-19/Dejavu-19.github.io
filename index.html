<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-loading-bar.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dejavi-19.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"manual"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Stay gold">
<meta property="og:type" content="website">
<meta property="og:title" content="Dejavu&#39;s Notebook">
<meta property="og:url" content="https://dejavi-19.github.io/index.html">
<meta property="og:site_name" content="Dejavu&#39;s Notebook">
<meta property="og:description" content="Stay gold">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Dejavu">
<meta property="article:tag" content="python">
<meta property="article:tag" content="java">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://dejavi-19.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Dejavu's Notebook</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	<a href="https://github.com/Dejavu-19" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Dejavu's Notebook</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Alea iacta est</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–&emsp;&emsp;é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äºåšä¸»</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡&emsp;&emsp;ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†&emsp;&emsp;ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’&emsp;&emsp;æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/12/14/Design/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/14/Design/" class="post-title-link" itemprop="url">Design</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-12-14 03:10:42" itemprop="dateCreated datePublished" datetime="2020-12-14T03:10:42+09:00">2020-12-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-02-08 21:27:49" itemprop="dateModified" datetime="2021-02-08T21:27:49+09:00">2021-02-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OOD"><a href="#OOD" class="headerlink" title="OOD"></a>OOD</h1><p>Design File search with Name and Extension API</p>
<p>Design CD rental system</p>
<p><a href="https://wdxtub.com/interview/14520596997643.html" target="_blank" rel="noopener">https://wdxtub.com/interview/14520596997643.html</a></p>
<p><a href="https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md" target="_blank" rel="noopener">https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md</a></p>
<p><a href="https://www.1point3acres.com/bbs/thread-526497-1-1.html" target="_blank" rel="noopener">https://www.1point3acres.com/bbs/thread-526497-1-1.html</a></p>
<h2 id="380-Insert-Delete-GetRandom-O-1-â­"><a href="#380-Insert-Delete-GetRandom-O-1-â­" class="headerlink" title="380. Insert Delete GetRandom O(1)â­"></a><a href="https://leetcode.com/problems/insert-delete-getrandom-o1/" target="_blank" rel="noopener">380. Insert Delete GetRandom O(1)â­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[<span class="string">"RandomizedSet"</span>, <span class="string">"insert"</span>, <span class="string">"remove"</span>, <span class="string">"insert"</span>, <span class="string">"getRandom"</span>, <span class="string">"remove"</span>, <span class="string">"insert"</span>, <span class="string">"getRandom"</span>]</span><br><span class="line">[[], [<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">2</span>], [], [<span class="number">1</span>], [<span class="number">2</span>], []]</span><br><span class="line">Output</span><br><span class="line">[<span class="keyword">null</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="number">2</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">RandomizedSet randomizedSet = <span class="keyword">new</span> RandomizedSet();</span><br><span class="line">randomizedSet.insert(<span class="number">1</span>); <span class="comment">// Inserts 1 to the set. Returns true as 1 was inserted successfully.</span></span><br><span class="line">randomizedSet.remove(<span class="number">2</span>); <span class="comment">// Returns false as 2 does not exist in the set.</span></span><br><span class="line">randomizedSet.insert(<span class="number">2</span>); <span class="comment">// Inserts 2 to the set, returns true. Set now contains [1,2].</span></span><br><span class="line">randomizedSet.getRandom(); <span class="comment">// getRandom() should return either 1 or 2 randomly.</span></span><br><span class="line">randomizedSet.remove(<span class="number">1</span>); <span class="comment">// Removes 1 from the set, returns true. Set now contains [2].</span></span><br><span class="line">randomizedSet.insert(<span class="number">2</span>); <span class="comment">// 2 was already in the set, so return false.</span></span><br><span class="line">randomizedSet.getRandom(); <span class="comment">// Since 2 is the only number in the set, getRandom() will always return 2.</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>HashMap + ArrayList <a href="https://leetcode.com/problems/insert-delete-getrandom-o1/solution/" target="_blank" rel="noopener">Expalanation</a></p>
</li>
<li><p>implement the structure which provides the following operations in <em>average</em> \mathcal{O}(1)O(1) time:</p>
<ul>
<li>Insert</li>
<li>Delete</li>
<li>GetRandom</li>
</ul>
</li>
<li><p>Hashmap provides Insert and Delete in average constant time, although has problems with GetRandom.</p>
</li>
<li><p>Array List has indexes and could provide Insert and GetRandom in average constant time, though has problems with Delete.</p>
</li>
<li><p>To delete a value at arbitrary index takes linear time. The solution here is to always delete the last value:</p>
<ul>
<li>Swap the element to delete with the last one.</li>
<li>Pop the last element out.</li>
</ul>
<p>For that, one has to compute an index of each element in constant time, and hence needs a hashmap which stores <code>element -&gt; its index</code> dictionary.</p>
<p>Both ways converge into the same combination of data structures:</p>
<ul>
<li>Hashmap <code>element -&gt; its index</code>.</li>
<li>Array List of elements.</li>
</ul>
</li>
</ol>
<p><img src="https://leetcode.com/problems/insert-delete-getrandom-o1/Figures/380/structure2.png" alt=""></p>
<p><img src="https://leetcode.com/problems/insert-delete-getrandom-o1/Figures/380/delete.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, Integer&gt; map;</span><br><span class="line">    List&lt;Integer&gt; list;</span><br><span class="line">    Random rand;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        rand = <span class="keyword">new</span> Random();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Inserts a value to the set. Returns true if the set did not already contain the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        map.put(val, list.size());</span><br><span class="line">        list.add(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Removes a value from the set. Returns true if the set contained the specified element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> last = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> idx = map.get(val);</span><br><span class="line">        list.set(idx, last);</span><br><span class="line">        map.put(last, idx);</span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">        map.remove(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Get a random element from the set. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> list.get(rand.nextInt(list.size()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Randomlization"><a href="#Randomlization" class="headerlink" title="Randomlization"></a>Randomlization</h3><h3 id="Unsolved-519-Random-Flip-MatrixğŸ‚"><a href="#Unsolved-519-Random-Flip-MatrixğŸ‚" class="headerlink" title="Unsolved 519. Random Flip MatrixğŸ‚"></a><a href="https://leetcode.com/problems/random-flip-matrix/" target="_blank" rel="noopener">Unsolved 519. Random Flip MatrixğŸ‚</a></h3><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer, Integer&gt; map;</span><br><span class="line"><span class="keyword">int</span> m, n, total;</span><br><span class="line">Random rand;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span> n_rows, <span class="keyword">int</span> n_cols)</span> </span>&#123;</span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    rand = <span class="keyword">new</span> Random();</span><br><span class="line">    m = n_rows;</span><br><span class="line">    n = n_cols;</span><br><span class="line">    reset();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] flip() &#123;</span><br><span class="line">    <span class="keyword">int</span> i = rand.nextInt(total--);</span><br><span class="line">    <span class="keyword">int</span> x = map.getOrDefault(i, i);</span><br><span class="line">    map.put(i, map.getOrDefault(total, total));</span><br><span class="line">    map.put(total, x);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x / n, x % n&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reset</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    total = m * n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="382-Linked-List-Random-Nodeâœ¨"><a href="#382-Linked-List-Random-Nodeâœ¨" class="headerlink" title="382. Linked List Random Nodeâœ¨"></a><a href="https://leetcode.com/problems/linked-list-random-node/" target="_blank" rel="noopener">382. Linked List Random Nodeâœ¨</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¤ç§ç”Ÿæˆå¯¹è±¡æ–¹å¼ï¼šå¸¦ç§å­å’Œä¸å¸¦ç§å­(ä¸¤ç§æ–¹å¼çš„åŒºåˆ«è§æ³¨è§£)</span></span><br><span class="line">Random random = <span class="keyword">new</span> Random();</span><br><span class="line">Integer res = random.nextInt(n);</span><br><span class="line"></span><br><span class="line">Integer res = (<span class="keyword">int</span>)(Math.random() * n);</span><br><span class="line"></span><br><span class="line">random.nextInt() ä¸º java.util.Randomç±»ä¸­çš„æ–¹æ³•ï¼›</span><br><span class="line">Math.random() ä¸º java.lang.Math ç±»ä¸­çš„é™æ€æ–¹æ³•ã€‚</span><br><span class="line">Math.random() æ–¹æ³•ç”Ÿæˆ[<span class="number">0</span>, <span class="number">1</span>)èŒƒå›´å†…çš„<span class="keyword">double</span>ç±»å‹éšæœºæ•°ï¼›Randomç±»ä¸­çš„nextXxxxç³»åˆ—æ–¹æ³•ç”Ÿæˆ<span class="number">0</span>ï¼nçš„éšæœºæ•°ï¼›</span><br><span class="line">Math.random() çº¿ç¨‹å®‰å…¨ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒèƒ½è¢«è°ƒç”¨ï¼›</span><br><span class="line">å¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œåˆ™ä½¿ç”¨(<span class="keyword">int</span>)(Math.random()*n)çš„æ–¹å¼ç”Ÿæˆéšæœºæ•°å³å¯ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-2"><a href="#Solution1-2" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> ArrayList&lt;Integer&gt; range = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">/** <span class="doctag">@param</span> head The linked list's head.</span></span><br><span class="line"><span class="comment">        Note that the head is guaranteed to be not null, so it contains at least one node. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (head != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.range.add(head.val);</span><br><span class="line">        head = head.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Returns a random node's value. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pick = (<span class="keyword">int</span>) (Math.random() * range.size());</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.range.get(pick);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>æ€è·¯ï¼šè“„æ°´æ± ã€‚å¯ä»¥è¯æ˜ï¼Œç¬¬ i ä¸ªæ•°ï¼Œå¦‚æœéšæœºæ•°&lt;1/iï¼Œåˆ™ä¸ºè§£ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨&lt;=1/(1+i)ã€‚</li>
<li><a href="https://leetcode.com/problems/linked-list-random-node/discuss/85659/Brief-explanation-for-Reservoir-Sampling" target="_blank" rel="noopener">è¯¦è§£</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ListNode head = <span class="keyword">null</span>;</span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.head = head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="keyword">this</span>.head.val;</span><br><span class="line">    ListNode node = <span class="keyword">this</span>.head.next;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (node != <span class="keyword">null</span>) &#123;</span><br><span class="line">        dou ble x = r.nextDouble();</span><br><span class="line">        <span class="keyword">double</span> y = k / (k + i * <span class="number">1.0</span>);</span><br><span class="line">        <span class="keyword">if</span> (x &lt;= y)</span><br><span class="line">            result = node.val;</span><br><span class="line">        i++;</span><br><span class="line">        node = node.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="353-Design-Snake-Gameâœ¨"><a href="#353-Design-Snake-Gameâœ¨" class="headerlink" title="353. Design Snake Gameâœ¨"></a><a href="https://leetcode.com/problems/design-snake-game" target="_blank" rel="noopener">353. Design Snake Gameâœ¨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Given width = <span class="number">3</span>, height = <span class="number">2</span>, and food = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">1</span>]].</span><br><span class="line">Snake snake = <span class="keyword">new</span> Snake(width, height, food);</span><br><span class="line"><span class="function">Initially the snake appears at <span class="title">position</span> <span class="params">(<span class="number">0</span>,<span class="number">0</span>)</span> and the food <span class="title">at</span> <span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span>.</span></span><br><span class="line"><span class="function">|S| | |</span></span><br><span class="line"><span class="function">| | |F|</span></span><br><span class="line"><span class="function">snake.<span class="title">move</span><span class="params">(<span class="string">"R"</span>)</span></span>; -&gt; Returns <span class="number">0</span></span><br><span class="line">| |S| |</span><br><span class="line">| | |F|</span><br><span class="line">snake.move(<span class="string">"D"</span>); -&gt; Returns <span class="number">0</span></span><br><span class="line">| | | |</span><br><span class="line">| |S|F|</span><br><span class="line">snake.move(<span class="string">"R"</span>); -&gt; Returns <span class="number">1</span> (Snake eats the first food and right after that, <span class="function">the second food appears <span class="title">at</span> <span class="params">(<span class="number">0</span>,<span class="number">1</span>)</span> )</span></span><br><span class="line"><span class="function">| |F| |</span></span><br><span class="line"><span class="function">| |S|S|</span></span><br><span class="line"><span class="function">snake.<span class="title">move</span><span class="params">(<span class="string">"U"</span>)</span></span>; -&gt; Returns <span class="number">1</span></span><br><span class="line">| |F|S|</span><br><span class="line">| | |S|</span><br><span class="line">snake.move(<span class="string">"L"</span>); -&gt; Returns <span class="number">2</span> (Snake eats the second food)</span><br><span class="line">| |S|S|</span><br><span class="line">| | |S|</span><br><span class="line">snake.move(<span class="string">"U"</span>); -&gt; Returns -<span class="number">1</span> (Game over because snake collides with border)</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-3"><a href="#Solution1-3" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå…ˆææ¸…æ¥šåœºæ™¯ï¼šåˆå§‹çŠ¶æ€ï¼›æ­»äº¡çŠ¶æ€ï¼›ç§»åŠ¨çŠ¶æ€ã€‚ç„¶åè®¾è®¡ä¸»è¦åŠ¨ä½œï¼ˆmoveï¼‰ã€‚äºŒç»´å›¾å¯ä»¥è½¬ä¸ºä¸€ç»´æ•°ç»„è¡¨ç¤ºï¼Œç”¨ Deque ä¿å­˜è›‡ä½“ï¼Œå¹¶ç”¨ Set åšç´¢å¼•ï¼Œå› ä¸ºæ€»æ˜¯å…ˆè¿›åå‡ºï¼Œä¸”ä¸ä¼šæœ‰é‡å¤æ•°å­—ï¼ˆæ³¨æ„åƒä¸œè¥¿æ—¶ä¼šæœ‰ æš‚æ—¶çš„é‡å¤ï¼Œäº›æ—¶éœ€è¦å…ˆä» Set ä¸­ç§»é™¤å°¾å·´ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜ä¸”åƒäº†ä¸œè¥¿ï¼Œå†æŠŠå°¾å·´åŠ å›æ¥ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SnakeGame</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> width;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line">    <span class="keyword">int</span>[][] food;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> k=<span class="number">0</span>;</span><br><span class="line">    Point cur;</span><br><span class="line">    LinkedList&lt;Point&gt; shake;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SnakeGame</span><span class="params">(<span class="keyword">int</span> width, <span class="keyword">int</span> height, <span class="keyword">int</span>[][] food)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.width=width;</span><br><span class="line">        <span class="keyword">this</span>.height=height;</span><br><span class="line">        <span class="keyword">this</span>.food=food;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.k=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.shake=<span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        shake.addFirst(<span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(String direction)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// the new head is based on the current head</span></span><br><span class="line">        <span class="comment">// the tail is removed, but can be returned back if food is found</span></span><br><span class="line">        Point head = shake.getFirst();</span><br><span class="line">        Point newHead = <span class="keyword">new</span> Point(head.i, head.j);        </span><br><span class="line">        Point tail = shake.removeLast(); </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(direction.equals(<span class="string">"U"</span>))&#123;</span><br><span class="line">            newHead.i--;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(direction.equals(<span class="string">"D"</span>))&#123;</span><br><span class="line">            newHead.i++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(direction.equals(<span class="string">"L"</span>))&#123;</span><br><span class="line">            newHead.j--;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            newHead.j++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(newHead.i&lt;<span class="number">0</span> || newHead.i==height || newHead.j&lt;<span class="number">0</span> || newHead.j==width || shake.contains(newHead)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        shake.addFirst(newHead);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(k&lt;food.length &amp;&amp; food[k][<span class="number">0</span>]==newHead.i &amp;&amp; food[k][<span class="number">1</span>]==newHead.j)&#123;            </span><br><span class="line">            shake.addLast(tail); <span class="comment">// return tail back</span></span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> k;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        Point(<span class="keyword">int</span> i, <span class="keyword">int</span> j)&#123;</span><br><span class="line">            <span class="keyword">this</span>.i=i;</span><br><span class="line">            <span class="keyword">this</span>.j=j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;&#125; <span class="comment">// todo: implement</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// todo: implement</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SnakeGame</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2D position info is encoded to 1D and stored as two copies </span></span><br><span class="line">    Set&lt;Integer&gt; set; <span class="comment">// this copy is good for fast loop-up for eating body case</span></span><br><span class="line">    Deque&lt;Integer&gt; body; <span class="comment">// this copy is good for updating tail</span></span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">int</span>[][] food;</span><br><span class="line">    <span class="keyword">int</span> foodIndex;</span><br><span class="line">    <span class="keyword">int</span> width;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SnakeGame</span><span class="params">(<span class="keyword">int</span> width, <span class="keyword">int</span> height, <span class="keyword">int</span>[][] food)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.width = width;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">        <span class="keyword">this</span>.food = food;</span><br><span class="line">        set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        set.add(<span class="number">0</span>); <span class="comment">//intially at [0][0]</span></span><br><span class="line">        body = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        body.offerLast(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(String direction)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//case 0: game already over: do nothing</span></span><br><span class="line">        <span class="keyword">if</span> (score == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// compute new head</span></span><br><span class="line">        <span class="keyword">int</span> rowHead = body.peekFirst() / width;</span><br><span class="line">        <span class="keyword">int</span> colHead = body.peekFirst() % width;</span><br><span class="line">        <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"U"</span> : rowHead--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"D"</span> : rowHead++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"L"</span> : colHead--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span> :  colHead++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> head = rowHead * width + colHead;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//case 1: out of boundary or eating body</span></span><br><span class="line">        set.remove(body.peekLast()); <span class="comment">// new head is legal to be in old tail's position, remove from set temporarily </span></span><br><span class="line">        <span class="keyword">if</span> (rowHead &lt; <span class="number">0</span> || rowHead == height || colHead &lt; <span class="number">0</span> || colHead == width || set.contains(head)) &#123;</span><br><span class="line">            <span class="keyword">return</span> score = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// add head for case2 and case3</span></span><br><span class="line">        set.add(head); </span><br><span class="line">        body.offerFirst(head);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//case2: eating food, keep tail, add head</span></span><br><span class="line">        <span class="keyword">if</span> (foodIndex &lt; food.length &amp;&amp; rowHead == food[foodIndex][<span class="number">0</span>] &amp;&amp; colHead == food[foodIndex][<span class="number">1</span>]) &#123;</span><br><span class="line">            set.add(body.peekLast()); <span class="comment">// old tail does not change, so add it back to set</span></span><br><span class="line">            foodIndex++;</span><br><span class="line">            <span class="keyword">return</span> ++score;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//case3: normal move, remove tail, add head</span></span><br><span class="line">        body.pollLast();</span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-348-Design-Tic-Tac-Toeâ­"><a href="#Unsolved-348-Design-Tic-Tac-Toeâ­" class="headerlink" title="Unsolved 348. Design Tic-Tac-Toeâ­"></a><a href="https://leetcode.com/problems/design-tic-tac-toe/" target="_blank" rel="noopener">Unsolved 348. Design Tic-Tac-Toeâ­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[<span class="string">"TicTacToe"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>, <span class="string">"move"</span>]</span><br><span class="line">[[<span class="number">3</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>]]</span><br><span class="line">Output</span><br><span class="line">[<span class="keyword">null</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">TicTacToe ticTacToe = <span class="keyword">new</span> TicTacToe(<span class="number">3</span>);</span><br><span class="line">Assume that player <span class="number">1</span> is <span class="string">"X"</span> and player <span class="number">2</span> is <span class="string">"O"</span> in the board.</span><br><span class="line">ticTacToe.move(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| | |</span><br><span class="line">| | | |    <span class="comment">// Player 1 makes a move at (0, 0).</span></span><br><span class="line">| | | |</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">0</span>, <span class="number">2</span>, <span class="number">2</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| | | |    <span class="comment">// Player 2 makes a move at (0, 2).</span></span><br><span class="line">| | | |</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| | | |    <span class="comment">// Player 1 makes a move at (2, 2).</span></span><br><span class="line">| | |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| |O| |    <span class="comment">// Player 2 makes a move at (1, 1).</span></span><br><span class="line">| | |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">| |O| |    <span class="comment">// Player 1 makes a move at (2, 0).</span></span><br><span class="line">|X| |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>); <span class="comment">// return 0 (no one wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">|O|O| |    <span class="comment">// Player 2 makes a move at (1, 0).</span></span><br><span class="line">|X| |X|</span><br><span class="line"></span><br><span class="line">ticTacToe.move(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// return 1 (player 1 wins)</span></span><br><span class="line">|X| |O|</span><br><span class="line">|O|O| |    <span class="comment">// Player 1 makes a move at (2, 1).</span></span><br><span class="line">|X|X|X|</span><br></pre></td></tr></table></figure>

<h3 id="Solution0"><a href="#Solution0" class="headerlink" title="Solution0:"></a>Solution0:</h3><ol>
<li>brute force</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// O(n) solution</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TicTacToe</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] grid;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicTacToe</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        grid = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Player &#123;player&#125; makes a move at (&#123;row&#125;, &#123;col&#125;).</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> row The row of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> col The column of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> player The player, can be either 1 or 2.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@return</span> The current winning condition, can be either:</span></span><br><span class="line"><span class="comment">                0: No one wins.</span></span><br><span class="line"><span class="comment">                1: Player 1 wins.</span></span><br><span class="line"><span class="comment">                2: Player 2 wins. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// validation TODO</span></span><br><span class="line">        <span class="keyword">if</span> (row &gt;= grid.length || col &gt;= grid.length) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// out of the grid</span></span><br><span class="line">        <span class="keyword">if</span> (grid[row][col] != <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// cell is used</span></span><br><span class="line">        </span><br><span class="line">        grid[row][col] = player == <span class="number">1</span> ? <span class="number">1</span> : <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (checkVerticallyWin(col, player)) <span class="keyword">return</span> player;</span><br><span class="line">        <span class="keyword">if</span> (checkHorizontallyWin(row, player)) <span class="keyword">return</span> player;</span><br><span class="line">        <span class="keyword">if</span> (checkDiagonallyWin(row, col, player)) <span class="keyword">return</span> player;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkVerticallyWin</span><span class="params">(<span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][col] != player) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkHorizontallyWin</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[row][j] != player) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkDiagonallyWin</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (row != col &amp;&amp; row+col != grid.length-<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">boolean</span> topLeftToBottomRight = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">boolean</span> topRightToBottomLeft = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][i] != player) topLeftToBottomRight = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][grid.length-<span class="number">1</span>-i] != player) topRightToBottomLeft = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> topRightToBottomLeft || topLeftToBottomRight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// TC: O(n)</span></span><br><span class="line"><span class="comment">// AS: O(n^2)</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-4"><a href="#Solution1-4" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>ä¸ n åé—®é¢˜æ€è·¯ä¸€è‡´ï¼Œé‡ç‚¹åœ¨åˆ¤æ–­æ¨ªã€ç«–ã€æ–œå››ä¸ªæ–¹å‘ä¸Šæ˜¯å¦å·²ç»è¾¾åˆ°æŒ‡å®šæ•°é‡çš„ç›¸åº”æ£‹å­ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TicTacToe</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] rows;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] cols;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> diagonal;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> antiDiagonal;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TicTacToe</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        rows = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        cols = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Player &#123;player&#125; makes a move at (&#123;row&#125;, &#123;col&#125;).</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> row The row of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> col The column of the board.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@param</span> player The player, can be either 1 or 2.</span></span><br><span class="line"><span class="comment">        <span class="doctag">@return</span> The current winning condition, can be either:</span></span><br><span class="line"><span class="comment">                0: No one wins.</span></span><br><span class="line"><span class="comment">                1: Player 1 wins.</span></span><br><span class="line"><span class="comment">                2: Player 2 wins. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> player)</span> </span>&#123;</span><br><span class="line">         <span class="comment">/* player 1 is 1, player 2 is -1 */</span></span><br><span class="line">        <span class="keyword">int</span> toAdd = player == <span class="number">1</span>? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">        <span class="comment">/* update the current move onto the corresponding row and column */</span></span><br><span class="line">        rows[row] += toAdd;</span><br><span class="line">        cols[col] += toAdd;</span><br><span class="line">        <span class="keyword">if</span> (row == col) &#123;</span><br><span class="line">            diagonal += toAdd;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (col == (cols.length - row - <span class="number">1</span>)) &#123;</span><br><span class="line">            antiDiagonal += toAdd;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* when sum of the current certain row or column is n or -n</span></span><br><span class="line"><span class="comment">            we know a player has won */</span></span><br><span class="line">        <span class="keyword">int</span> size = rows.length;</span><br><span class="line">        <span class="keyword">if</span> (Math.abs(rows[row]) == size </span><br><span class="line">            || Math.abs(cols[col]) == size </span><br><span class="line">            || Math.abs(diagonal) == size</span><br><span class="line">            || Math.abs(antiDiagonal) == size) &#123;</span><br><span class="line">            <span class="keyword">return</span> player;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-LRU-Cache-AE-â­"><a href="#Unsolved-LRU-Cache-AE-â­" class="headerlink" title="Unsolved LRU Cache(AE)â­"></a>Unsolved LRU Cache(AE)â­</h2><p><img src="https://zxi.mytechroad.com/blog/wp-content/uploads/2017/09/146-ep50.png" alt=""></p>
<p>DoublyLinkedList (track sequence) + Hashtable (access value)</p>
<h3 id="Solution1-5"><a href="#Solution1-5" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    Map&lt;String, DoublyLinkedlistNode&gt; cache = <span class="keyword">new</span> HashMap&lt;String, DoublyLinkedListNode&gt;;</span><br><span class="line">    <span class="keyword">int</span> maxSize;</span><br><span class="line">    <span class="keyword">int</span> currentSize;</span><br><span class="line">    DoublyLinkedlistNode listOfMostRecent = <span class="keyword">new</span> DoublyLinkedlistNode;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> maxSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.maxSize = maxSize &gt; <span class="number">1</span> ? maxSize : <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertKeyValuePair</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (!cache.contasinsKey(key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (currentSize == maxSize) &#123;</span><br><span class="line">    	evictLeastRecent();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	    currentSize++;</span><br><span class="line">    &#125;</span><br><span class="line">    cache.put(key, <span class="keyword">new</span> DoublyLinkedListNode(key, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	    replaceKey(key, value);</span><br><span class="line">    &#125;</span><br><span class="line">    undateMostRecent(cache.get(key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> LRUResult <span class="title">getValueFromKey</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (!cache.containsKey(key)) &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> LRUResult(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    updateMostRecent(cache.get(key));</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> LRUResult(<span class="keyword">true</span>, cache.get(key).value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getMostRecentKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Write your code here.</span></span><br><span class="line">    <span class="keyword">if</span> (listOfMostRecent.head == <span class="keyword">null</span>) &#123;</span><br><span class="line">	    <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> listOfMostRecent.head.key;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">evictLeastRecent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String keyToRemove = listOfMostRecent.tail.key;</span><br><span class="line">    listOfMostRecent.removeTail();</span><br><span class="line">    cache.remove(keyToMove);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateMostRecent</span><span class="params">(DoublyLinkedListNode node)</span> </span>&#123;</span><br><span class="line">	listOfMostRecent.setHeadTo(node);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">replaceKey</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.cache.containsKey(key)) &#123;</span><br><span class="line">	    <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cache.get(key).value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DoublyLinkedList</span> </span>&#123;</span><br><span class="line">    DoublyLinkedListNode head = <span class="keyword">null</span>;</span><br><span class="line">    DoublyLinkedListNode tail = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHeadTo</span><span class="params">(DoublyLinkedListNode node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (head == node) &#123;</span><br><span class="line">	        <span class="keyword">return</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line">            head = node;</span><br><span class="line">            tail = node;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (head == tail) &#123;</span><br><span class="line">            tail.prev = node;</span><br><span class="line">            head = node;</span><br><span class="line">            head.next = tail;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (tail == node) &#123;</span><br><span class="line">            removeTail();</span><br><span class="line">        &#125;</span><br><span class="line">        node.removeBindings();</span><br><span class="line">        head.prev = node;</span><br><span class="line">        node.next = head;</span><br><span class="line">        head = node;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tail == <span class="keyword">null</span>) &#123;</span><br><span class="line">	        <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tail == head) &#123;</span><br><span class="line">            head = <span class="keyword">null</span>;</span><br><span class="line">            tail = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = tail.prev;</span><br><span class="line">        tail.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> calss <span class="title">DoublyLinkedListNode</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        String key;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        DoublyLinkedListNode prev = <span class="keyword">null</span>;</span><br><span class="line">        DoublyLinkedListNode next = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DoublyLinkedListNode</span><span class="params">(String key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeBindings</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (prev != <span class="keyword">null</span>) &#123;</span><br><span class="line">            	prev.next = next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (next != <span class="keyword">null</span>) &#123;</span><br><span class="line">	            next.prev = prev;</span><br><span class="line">            &#125;</span><br><span class="line">            prev = <span class="keyword">null</span>;</span><br><span class="line">            next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUResult</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> found;</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUResult</span><span class="params">(<span class="keyword">boolean</span> found, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">this</span>.found = found;</span><br><span class="line">	    <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="146-LRU-Cacheâœ¨"><a href="#146-LRU-Cacheâœ¨" class="headerlink" title="146. LRU Cacheâœ¨"></a><a href="https://leetcode.com/problems/lru-cache/" target="_blank" rel="noopener">146. LRU Cacheâœ¨</a></h3><p>Design and implement a data structure for <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU" target="_blank" rel="noopener">Least Recently Used (LRU) cache</a>. It should support the following operations: get and put</p>
<h3 id="Solution1-6"><a href="#Solution1-6" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>æ€è·¯ï¼šåˆ©ç”¨LinkedHashMapçš„ç§»é™¤æœ€è€å…ƒç´ ã€‚</p>
</li>
<li><p>å¦‚æœä¸èƒ½ç”¨è¯¥æ•°æ®ç»“æ„ï¼Œå¯ä½¿ç”¨åŒé“¾è¡¨+HashMap(key-&gt;node)ç›¸ç»“ åˆçš„æ–¹å¼ã€‚</p>
</li>
<li><p>æ¯æ¬¡putä¸­getæ—¶ï¼ŒåŒæ—¶æŠŠç›¸åº”è¯ç§»åŠ¨ï¼ˆæˆ–æ·»åŠ ï¼‰åˆ°é˜Ÿå°¾ï¼Œå¹¶ä¸”æŠŠåŸæ¥ä½ç½®çš„å‰åä¸¤å…ƒç´ ç›¸è”ã€‚</p>
</li>
<li><p>The problem can be solved with a hashtable that keeps track of the keys and its values in the double linked list. One interesting property about double linked list is that the node can remove itself without other reference. In addition, it takes constant time to add and remove nodes from the head or tail.</p>
</li>
<li><p>One particularity about the double linked list that I implemented is that I create a pseudo head and tail to mark the boundary, so that we donâ€™t need to check the NULL node during the update. This makes the code more concise and clean, and also it is good for the performance.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    Node prev;</span><br><span class="line">    Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">        <span class="keyword">this</span>.prev = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">this</span>.next = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DoublyLinkedList</span> </span>&#123;</span><br><span class="line">    Node head;</span><br><span class="line">    Node tail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DoublyLinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> Node();</span><br><span class="line">        tail = <span class="keyword">new</span> Node();</span><br><span class="line">        <span class="keyword">this</span>.head.next = <span class="keyword">this</span>.tail;</span><br><span class="line">        <span class="keyword">this</span>.tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertHead</span><span class="params">(Node n)</span> </span>&#123;</span><br><span class="line">        n.prev = head;</span><br><span class="line">        n.next = head.next;</span><br><span class="line">        head.next.prev = n;</span><br><span class="line">        head.next = n;    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Node n)</span> </span>&#123;</span><br><span class="line">        n.prev.next = n.next;</span><br><span class="line">        n.next.prev = n.prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node n = tail.prev;</span><br><span class="line">        <span class="keyword">int</span> key = n.key;</span><br><span class="line">        remove(n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, Node&gt; cache;</span><br><span class="line">    DoublyLinkedList list;</span><br><span class="line">    <span class="keyword">int</span> capacity;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        <span class="keyword">this</span>.cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.list = <span class="keyword">new</span> DoublyLinkedList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!cache.containsKey(key)) </span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;    </span><br><span class="line">        update(key, cache.get(key));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cache.get(key).value;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> key, Node n)</span> </span>&#123;    </span><br><span class="line">        list.remove(n);</span><br><span class="line">        list.insertHead(n);</span><br><span class="line">        cache.put(key, n);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node n = <span class="keyword">new</span> Node(key, value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cache.containsKey(key))</span><br><span class="line">            list.remove(cache.get(key));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cache.size() &gt;= capacity) &#123;</span><br><span class="line">            <span class="keyword">int</span> k = list.removeTail();</span><br><span class="line">            cache.remove(k);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        list.insertHead(n);</span><br><span class="line">        cache.put(key, n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-1"><a href="#Solution2-1" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        Node prev;</span><br><span class="line">        Node next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addNode</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = head.next;</span><br><span class="line">        head.next.prev = node;</span><br><span class="line">        head.next = node;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        Node p = node.prev;</span><br><span class="line">        Node n = node.next;</span><br><span class="line">        p.next = n;</span><br><span class="line">        n.prev = p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToHead</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        remove(node);</span><br><span class="line">        addNode(node);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">popTail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node p = tail.prev;</span><br><span class="line">        remove(p);</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, Node&gt; cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="keyword">private</span> Node head;</span><br><span class="line">    <span class="keyword">private</span> Node tail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.size = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line"></span><br><span class="line">        head = <span class="keyword">new</span> Node();</span><br><span class="line">        tail = <span class="keyword">new</span> Node();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        Node node = cache.get(key);</span><br><span class="line">        <span class="keyword">if</span>(node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        moveToHead(node);</span><br><span class="line">        <span class="keyword">return</span> node.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        Node node = cache.get(key);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node newNode = <span class="keyword">new</span> Node();</span><br><span class="line">            newNode.key = key;</span><br><span class="line">            newNode.value = value;</span><br><span class="line"></span><br><span class="line">            cache.put(key, newNode);</span><br><span class="line">            addNode(newNode);</span><br><span class="line"></span><br><span class="line">            size++;</span><br><span class="line">            <span class="keyword">if</span> (size &gt; capacity) &#123;</span><br><span class="line">                Node tail = popTail();</span><br><span class="line">                cache.remove(tail.key);</span><br><span class="line">                size--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node.value = value;</span><br><span class="line">            moveToHead(node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-460-LFU-Cacheâ­"><a href="#Unsolved-460-LFU-Cacheâ­" class="headerlink" title="Unsolved 460. LFU Cacheâ­"></a><a href="https://leetcode.com/problems/lfu-cache/" target="_blank" rel="noopener">Unsolved 460. LFU Cacheâ­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LFUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key,value,freq;</span><br><span class="line">        Node prev,next;</span><br><span class="line">        Node(<span class="keyword">int</span> key,<span class="keyword">int</span> value)&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">            <span class="keyword">this</span>.freq = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DLinkedList</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> freq;</span><br><span class="line">        Node head,tail;</span><br><span class="line">        DLinkedList(<span class="keyword">int</span> freq)&#123;</span><br><span class="line">            <span class="keyword">this</span>.freq =  freq;</span><br><span class="line">            head = <span class="keyword">new</span> Node(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">            tail = <span class="keyword">new</span> Node(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">            head.next = tail;</span><br><span class="line">            tail.prev = head;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(Node node)</span></span>&#123;</span><br><span class="line">            Node t = head.next;</span><br><span class="line">            head.next = node;</span><br><span class="line">            node.prev = head;</span><br><span class="line">            node.next = t;</span><br><span class="line">            t.prev = node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> head.next==tail;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(Node node)</span></span>&#123;</span><br><span class="line">            node.next.prev = node.prev;</span><br><span class="line">            node.prev.next = node.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function">Node <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            Node node = tail.prev;</span><br><span class="line">            delete(node);</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> capacity,size,minFreq;</span><br><span class="line">    HashMap&lt;Integer,Node&gt; keyMap;</span><br><span class="line">    HashMap&lt;Integer,DLinkedList&gt; freqMap;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LFUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        <span class="keyword">this</span>.size = minFreq = <span class="number">0</span>;</span><br><span class="line">        keyMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        freqMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        freqMap.put(<span class="number">0</span>,<span class="keyword">new</span> DLinkedList(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">_update</span><span class="params">(Node node)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> freq = node.freq;</span><br><span class="line">        freqMap.get(freq).delete(node);</span><br><span class="line">        node.freq ++;</span><br><span class="line">        freqMap.computeIfAbsent(node.freq,k-&gt;<span class="keyword">new</span> DLinkedList(node.freq)).add(node);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (freqMap.get(minFreq).isEmpty()) minFreq++;</span><br><span class="line">        <span class="keyword">return</span> node.value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!keyMap.containsKey(key)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        Node node = keyMap.get(key);</span><br><span class="line">        <span class="keyword">return</span>  _update(node);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(capacity==<span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (keyMap.containsKey(key))&#123;</span><br><span class="line">            Node node = keyMap.get(key);</span><br><span class="line">            node.value = value;</span><br><span class="line">            _update(node);</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(size&gt;=capacity)&#123;</span><br><span class="line">            Node old = freqMap.get(minFreq).pop();</span><br><span class="line">            keyMap.remove(old.key);</span><br><span class="line">            size --;</span><br><span class="line">        &#125;</span><br><span class="line">        Node node = <span class="keyword">new</span> Node(key,value);</span><br><span class="line">        freqMap.get(<span class="number">0</span>).add(node);</span><br><span class="line">        keyMap.put(key,node);</span><br><span class="line">        minFreq = <span class="number">0</span>;</span><br><span class="line">        size ++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Unsolved-706-Design-HashMapâœ¨"><a href="#Unsolved-706-Design-HashMapâœ¨" class="headerlink" title="Unsolved 706. Design HashMapâœ¨"></a><a href="https://leetcode.com/problems/design-hashmap/" target="_blank" rel="noopener">Unsolved 706. Design HashMapâœ¨</a></h2><h3 id="Solution1-7"><a href="#Solution1-7" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Some of the questions which can be asked to the interviewer before implementing the solution</p>
<p>For simplicity, are the keys integers only?<br>For collision resolution, can we use chaining?<br>Do we have to worry about load factors?<br>Can we assume inputs are valid or do we have to validate them?<br>Can we assume this fits memory?</p>
</li>
<li><p>Collisions are resolved using linked list</p>
</li>
</ol>
<p><a href="https://leetcode.com/problems/design-hashmap/solution/" target="_blank" rel="noopener">https://leetcode.com/problems/design-hashmap/solution/</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashMap</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ListNode[] nodes = <span class="keyword">new</span> ListNode[<span class="number">10000</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = idx(key);</span><br><span class="line">        <span class="keyword">if</span> (nodes[i] == <span class="keyword">null</span>)</span><br><span class="line">            nodes[i] = <span class="keyword">new</span> ListNode(-<span class="number">1</span>, -<span class="number">1</span>);</span><br><span class="line">        ListNode prev = find(nodes[i], key);</span><br><span class="line">        <span class="keyword">if</span> (prev.next == <span class="keyword">null</span>)</span><br><span class="line">            prev.next = <span class="keyword">new</span> ListNode(key, value);</span><br><span class="line">        <span class="keyword">else</span> prev.next.val = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = idx(key);</span><br><span class="line">        <span class="keyword">if</span> (nodes[i] == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        ListNode node = find(nodes[i], key);</span><br><span class="line">        <span class="keyword">return</span> node.next == <span class="keyword">null</span> ? -<span class="number">1</span> : node.next.val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = idx(key);</span><br><span class="line">        <span class="keyword">if</span> (nodes[i] == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        ListNode prev = find(nodes[i], key);</span><br><span class="line">        <span class="keyword">if</span> (prev.next == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        prev.next = prev.next.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">idx</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123; <span class="keyword">return</span> Integer.hashCode(key) % nodes.length;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode <span class="title">find</span><span class="params">(ListNode bucket, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        ListNode node = bucket, prev = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (node != <span class="keyword">null</span> &amp;&amp; node.key != key) &#123;</span><br><span class="line">            prev = node;</span><br><span class="line">            node = node.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ListNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> key, val;</span><br><span class="line">        ListNode next;</span><br><span class="line"></span><br><span class="line">        ListNode(<span class="keyword">int</span> key, <span class="keyword">int</span> val) &#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-588-Design-In-Memory-File-Systemâ­"><a href="#Unsolved-588-Design-In-Memory-File-Systemâ­" class="headerlink" title="Unsolved 588. Design In-Memory File Systemâ­"></a><a href="https://leetcode.com/problems/design-in-memory-file-system/" target="_blank" rel="noopener">Unsolved 588. Design In-Memory File Systemâ­</a></h2><h3 id="Solution1-8"><a href="#Solution1-8" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileSystem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> FileNode root;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FileSystem</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> FileNode(<span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">ls</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findNode(path).getList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mkdir</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">        findNode(path);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addContentToFile</span><span class="params">(String filePath, String content)</span> </span>&#123;</span><br><span class="line">        findNode(filePath).addContent(content);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">readContentFromFile</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> findNode(filePath).getContent();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//-- private method section --//</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> FileNode <span class="title">findNode</span><span class="params">(String path)</span></span>&#123;</span><br><span class="line">        String[] files = path.split(<span class="string">"/"</span>);</span><br><span class="line"></span><br><span class="line">        FileNode cur = root;</span><br><span class="line">        <span class="keyword">for</span>(String file : files)&#123;</span><br><span class="line">            <span class="keyword">if</span>(file.length() == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            cur.children.putIfAbsent(file, <span class="keyword">new</span> FileNode(file));</span><br><span class="line">            cur = cur.children.get(file);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cur.isFile()) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cur;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Private class</span></span><br><span class="line">   <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">FileNode</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> TreeMap&lt;String, FileNode&gt; children;</span><br><span class="line">        <span class="keyword">private</span> StringBuilder file;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">FileNode</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">            children = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">            file = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> file.toString();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addContent</span><span class="params">(String content)</span></span>&#123;</span><br><span class="line">            file.append(content);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> file.length() &gt; <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getList</span><span class="params">()</span></span>&#123;</span><br><span class="line">            List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="keyword">if</span>(isFile())&#123;</span><br><span class="line">                list.add(getName());</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                list.addAll(children.keySet());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="OOP-Object-Oriented-Programming"><a href="#OOP-Object-Oriented-Programming" class="headerlink" title="OOP : Object-Oriented Programming"></a>OOP : Object-Oriented Programming</h1><p>ä»€ä¹ˆæ˜¯å¯¹è±¡Object? ä¸‡ç‰©çš†å¯¹è±¡</p>
<p>å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸º</p>
<p>ä»€ä¹ˆæ˜¯ç±»Classï¼Ÿç±»æ˜¯å¯¹è±¡çš„è“å›¾</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨Javaä¸­ï¼Œç±»æ˜¯å¯¹ç°å®å¯¹è±¡çš„æŠ½è±¡</span></span><br><span class="line">Class Student &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”¨ç±»åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">//ä»€ä¹ˆæ˜¯å®ä¾‹instance</span></span><br><span class="line"><span class="comment">//å®ä¾‹å°±æ˜¯å¯¹è±¡, s1æ˜¯Studentç±»çš„ä¸€ä¸ªå¯¹è±¡/å®ä¾‹</span></span><br><span class="line">Student s1 = <span class="keyword">new</span> Student();</span><br></pre></td></tr></table></figure>

<p>ä»€ä¹ˆæ˜¯OOP?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨å¯¹è±¡æ„å»ºç¨‹åº</span></span><br><span class="line">Class Dog &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out,println(<span class="string">"Brak!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Class Cat &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out,println(<span class="string">"Meow~"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> CLass Main &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Dog d1 = <span class="keyword">new</span> Dog();</span><br><span class="line">        d1.speak();</span><br><span class="line">        Cat c1 = <span class="keyword">new</span> Cat();</span><br><span class="line">        c1.speak();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Classçš„å‘½å</p>
<ol>
<li><strong>é¦–å­—æ¯å¤§å†™UpperCamelCase</strong> </li>
<li>eg.MyClass</li>
</ol>
<p>æˆå‘˜å˜é‡</p>
<ol>
<li>åˆå«åŸŸfield</li>
<li>è¡¨ç¤ºå¯¹è±¡çš„å±æ€§</li>
<li>å‘½åè§„åˆ™å’Œå˜é‡åç›¸åŒ</li>
</ol>
<p>æˆå‘˜å‡½æ•°member function</p>
<ol>
<li>åˆå«æ–¹æ³•method</li>
<li>è¡¨ç¤ºå¯¹è±¡çš„è¡Œä¸º</li>
<li>å‘½åæ—¶ï¼Œç¬¬ä¸€ä¸ªä½†ä»å¿…é¡»æ˜¯åŠ¨è¯</li>
</ol>
<p>æ„é€ å‡½æ•°Constructor</p>
<ol>
<li>default constructor</li>
<li>parameterized constructor</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//default constructor</span></span><br><span class="line">Class Node &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//equal to   </span></span><br><span class="line">Class Node &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//parameterized constructor</span></span><br><span class="line">Class Node &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>-å¯ä»¥åœ¨å¯¹è±¡å¤–éƒ¨è¢«è®¿é—®</span><br><span class="line"><span class="keyword">private</span>-åªèƒ½åœ¨å¯¹è±¡å†…éƒ¨è¢«è®¿é—®</span><br><span class="line"><span class="keyword">static</span>-é™æ€ï¼Œè¡¨ç¤ºfieldæˆ–methodä¸å±äºå¯¹è±¡ï¼Œ æ‰€æœ‰è¿™ä¸ªç±»çš„å¯¹è±¡å…±äº«è¿™ä¸ªå¯¹è±¡æˆ–æ–¹æ³•</span><br><span class="line">    </span><br><span class="line">Class Student &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getScore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> score;  <span class="comment">//this is allowed</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(score);  <span class="comment">//this is not allowed</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœä¸€ä¸ªæ–¹æ³•æˆ–å±æ€§staticï¼Œ é‚£ä¹ˆå®ƒä¸å†å±äºæ‰€åœ¨çš„å¯¹è±¡ã€‚æ‰€ä»¥åœ¨staticæ–¹æ³•ä¸­ï¼Œ è®¿é—®å¯¹è±¡çš„å±æ€§æ˜¯ä¸å…è®¸çš„</span></span><br></pre></td></tr></table></figure>

<h1 id="OOD-1"><a href="#OOD-1" class="headerlink" title="OOD"></a>OOD</h1><h2 id="OOA-vs-OOD-vs-OOP"><a href="#OOA-vs-OOD-vs-OOP" class="headerlink" title="OOA vs. OOD vs. OOP"></a>OOA vs. OOD vs. OOP</h2><p>åŸºæœ¬ä»£è¡¨äº†é¢è¯•çš„ä¸‰ä¸ªæµç¨‹æ­¥éª¤ï¼š</p>
<ol>
<li><p>OOA (Analyze) : é¢å‘å¯¹è±¡åˆ†æ</p>
</li>
<li><p>OOD(Design) : é¢å‘å¯¹è±¡è®¾è®¡</p>
</li>
<li><p>OOP(Programming) : é¢å‘å¯¹è±¡ç¼–ç¨‹</p>
</li>
</ol>
<p>å‡ºé¢˜é—®æ³•</p>
<ul>
<li>Can you design an elevator system? (è®¾è®¡ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿ) â€¢ Little amount of coding </li>
<li>Can you design scheduler for elevator system? (è®¾è®¡ç³»ç»Ÿä¸­çš„ä¸€ä¸ªéƒ¨åˆ†) â€¢ Need implementation</li>
</ul>
<p>OODåœ¨é¢è¯•å½“ä¸­å¾ˆé‡è¦ - å°¤å…¶å¯¹äºInternå’ŒEntry level </p>
<p>é¢˜ç›®æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆ - Everything is an object</p>
<h2 id="OODé¢è¯•ä¸­çš„é™·é˜±"><a href="#OODé¢è¯•ä¸­çš„é™·é˜±" class="headerlink" title="OODé¢è¯•ä¸­çš„é™·é˜±"></a>OODé¢è¯•ä¸­çš„é™·é˜±</h2><h3 id="èµ·æ‰‹å¼çš„é™·é˜±"><a href="#èµ·æ‰‹å¼çš„é™·é˜±" class="headerlink" title="èµ·æ‰‹å¼çš„é™·é˜±"></a>èµ·æ‰‹å¼çš„é™·é˜±</h3><h4 id="å…ˆä¸‹æ‰‹ä¸ºå¼º"><a href="#å…ˆä¸‹æ‰‹ä¸ºå¼º" class="headerlink" title="å…ˆä¸‹æ‰‹ä¸ºå¼º"></a>å…ˆä¸‹æ‰‹ä¸ºå¼º</h4><p>ä¾‹å­: Okay, for a parking lot, we need multiple levels. Also letâ€™s make it able to park bicycles. </p>
<p>å¿Œï¼šè‡ªè¯´è‡ªè¯ï¼Œä¾ƒä¾ƒè€Œè°ˆ </p>
<p>å®œï¼šå…ˆé€šè¿‡å’Œé¢è¯•å®˜çš„äº¤æµè·å¾—æœ‰æ•ˆä¿¡æ¯ï¼Œç•™ä¸‹ä¸€ä¸ªå¥½çš„feedbackï¼Œæœ‰ä¸€ä¸ªå¥½çš„äº¤æµ</p>
<p>é¢è¯•å®˜æ˜¯ç”²æ–¹ï¼Œä¸è¦Assumeå¤ªå¤šè‡ªé¡¾è‡ªè°ˆï¼Œä¸€ä¸‡ä¸ªé¢è¯•å®˜å¿ƒä¸­æƒ³çš„æ˜¯ä¸€ä¸‡ä¸ªç”µæ¢¯ç³»ç»Ÿï¼Œè¦æ ¹æ®å¯¹æ–¹çš„éœ€æ±‚ç¡®å®šæœ‰æ•ˆä¿¡æ¯è¿›è€Œè®¾è®¡</p>
<h4 id="æŒ‡é¹¿ä¸ºé©¬"><a href="#æŒ‡é¹¿ä¸ºé©¬" class="headerlink" title="æŒ‡é¹¿ä¸ºé©¬"></a>æŒ‡é¹¿ä¸ºé©¬</h4><p>ä¾‹å­: Letâ€™s say you need to support 5000 people to park in this parking lot, morning and night will be your peak hourâ€¦ I can try to use this algorithm/data structure to find the closest spot. </p>
<p>å¿Œï¼šAlgorithm, OOD, System design å‚»å‚»åˆ†ä¸æ¸…æ¥šæ˜¯å“ªç±»é¢˜ï¼Œæ˜¯ç®—æ³•è¿˜æ˜¯OODè¿˜æ˜¯System Design </p>
<p>å®œï¼šè¯¢é—®æ¸…æ¥šé¢˜ç›®è¦æ±‚</p>
<p>å¯ä»¥ç›´æ¥é—®ä½ å¸Œæœ›æˆ‘implementä¸€ä¸ªç®—æ³•æ¥æ”¯æŒparking loté‡Œçš„æŸä¸€ä¸ªfeatureï¼Ÿ/è®¾è®¡ä¸€ä¸ªparking lotï¼Ÿ/è¿˜æ˜¯ä¸€ä¸ªSystemå¯ä»¥handleä¸åŒæ—¶æœŸçš„trafficï¼Ÿ</p>
<h3 id="è§£é¢˜ä¸­çš„é™·é˜±"><a href="#è§£é¢˜ä¸­çš„é™·é˜±" class="headerlink" title="è§£é¢˜ä¸­çš„é™·é˜±"></a>è§£é¢˜ä¸­çš„é™·é˜±</h3><h4 id="æœå‡ºå¤•æ”¹"><a href="#æœå‡ºå¤•æ”¹" class="headerlink" title="æœå‡ºå¤•æ”¹"></a>æœå‡ºå¤•æ”¹</h4><p>ä¾‹å­: Oh, wait a second, I think I can optimize the process by modifying/removing this class </p>
<p>å¿Œï¼šæ€è·¯æ··ä¹±ï¼Œåå¤ä¿®æ”¹ </p>
<p>å®œï¼šå…ˆç»™é¢è¯•å®˜å‘ˆç°ä¸€ä¸ªViableçš„æˆæœ</p>
<p>å»ºè®®å…ˆæŠŠè§£æ³•å†™å¥½ï¼Œå³ä¾¿æ˜¯brute forceä¸æ˜¯å¾ˆå·§å¦™ä¹Ÿæ²¡é—®é¢˜ï¼Œå…ˆå®Œæ•´å†™å‡ºä¸€ä¸ªè§£æ³•å†å»æ…¢æ…¢ä¿®æ”¹ã€‚</p>
<h3 id="æ”¶æ‰‹å¼çš„é™·é˜±"><a href="#æ”¶æ‰‹å¼çš„é™·é˜±" class="headerlink" title="æ”¶æ‰‹å¼çš„é™·é˜±"></a>æ”¶æ‰‹å¼çš„é™·é˜±</h3><h4 id="è™å¤´è›‡å°¾"><a href="#è™å¤´è›‡å°¾" class="headerlink" title="è™å¤´è›‡å°¾"></a>è™å¤´è›‡å°¾</h4><p>å¿Œï¼šè™å¤´è›‡å°¾ï¼ŒåŠŸäºä¸€ç¯‘ </p>
<p>å®œï¼šæ£€æŸ¥ä½ çš„è®¾è®¡ï¼Œæ˜¯å¦èƒ½å¤Ÿæ”¯æŒæ‰€éœ€çš„åŠŸèƒ½ï¼Œè€ƒè™‘test case</p>
<h2 id="å¦‚ä½•è¯„åˆ¤ä¸€è½®OODé¢è¯•"><a href="#å¦‚ä½•è¯„åˆ¤ä¸€è½®OODé¢è¯•" class="headerlink" title="å¦‚ä½•è¯„åˆ¤ä¸€è½®OODé¢è¯•"></a>å¦‚ä½•è¯„åˆ¤ä¸€è½®OODé¢è¯•</h2><h3 id="S-O-L-I-DåŸåˆ™"><a href="#S-O-L-I-DåŸåˆ™" class="headerlink" title="S.O.L.I.DåŸåˆ™"></a>S.O.L.I.DåŸåˆ™</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â€¢ S â€“ Single responsibility principle</span><br><span class="line">â€¢ O â€“ Open close principle</span><br><span class="line">â€¢ L â€“ Liskov substitution principle</span><br><span class="line">â€¢ I â€“ Interface segregation principle</span><br><span class="line">â€¢ D â€“ Dependency inversion principle</span><br></pre></td></tr></table></figure>

<h3 id="S"><a href="#S" class="headerlink" title="S."></a>S.</h3><p>Single responsibility principle å•ä¸€è´£ä»»åŸåˆ™ </p>
<p>ä¸€ä¸ªç±»åº”è¯¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªå»æ”¹å˜ä»–çš„ç†ç”±ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€é¡¹å·¥ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿åäº†SåŸåˆ™ï¼Œåªåº”è¯¥è´Ÿè´£è®¡ç®—Areaï¼Œè€Œä¸ç”¨å¦å¤–printå‡ºæ¥</span></span><br><span class="line"><span class="comment">//å› ä¸ºæœªæ¥å¦‚æœéœ€è¦åŸºäºä¸åŒç²¾åº¦print Areaçš„æ—¶å€™(ä¸åŒçš„printéœ€æ±‚çš„æ—¶å€™)ï¼Œä¼šéœ€è¦åå¤ä¿®æ”¹code</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String printAreaAccruateToOneDecimalPlace &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt; å¥½çš„åšæ³•,ä¸åŒåŠŸèƒ½æ‹†åˆ†æˆä¸¤ä¸ªç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Printer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">print</span><span class="params">(AreaCalculator ac)</span> </span>&#123;</span><br><span class="line">        System.out.println(ac.getResult());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="O"><a href="#O" class="headerlink" title="O."></a>O.</h3><p>Open close principle å¼€æ”¾å°é—­åŸåˆ™</p>
<p>å¯¹è±¡æˆ–å®ä½“åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ (Open to extension, close to modification)ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿åäº†OåŸåˆ™ï¼Œæœªæ¥æ‰©å±•æœ‰åœ†å½¢äº”è¾¹å½¢çš„æ—¶å€™éœ€è¦ä¸æ–­ä¿®æ”¹code</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Triangle t)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Rectangle r)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt; å¥½çš„åšæ³•,abstract, å°†æ¥æœ‰æ‰©å±•çš„æ—¶å€™ï¼ŒAreaCalculatorä¸éœ€è¦ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="L"><a href="#L" class="headerlink" title="L."></a>L.</h3><p>Liskov substitution principle é‡Œæ°æ›¿æ¢åŸåˆ™</p>
<p>ä»»ä½•ä¸€ä¸ªå­ç±»æˆ–æ´¾ç”Ÿç±»åº”è¯¥å¯ä»¥æ›¿æ¢å®ƒä»¬çš„åŸºç±»æˆ–çˆ¶ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateVolumn</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//çŸ©å½¢å­ç±» -&gt; è¿åäº†LåŸåˆ™ï¼Œ çŸ©å½¢ä¸èƒ½å¤Ÿè®¡ç®—ä½“ç§¯ï¼Œä¸èƒ½æ›¿æ¢çˆ¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­£æ–¹ä½“å­ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cube</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="I"><a href="#I" class="headerlink" title="I."></a>I.</h3><p>Interface segregation principle æ¥å£åˆ†ç¦»åŸåˆ™</p>
<p>ä¸åº”è¯¥å¼ºè¿«ä¸€ä¸ªç±»å®ç°å®ƒç”¨ä¸ä¸Šçš„æ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateVolumn</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//çŸ©å½¢å­ç±» -&gt; è¿åäº†IåŸåˆ™ï¼Œæˆ‘ä»¬å¼ºè¿«Rectangleå»å®ç°äº†calculateVolumnæ¥å£ï¼Œè¿åäº†ä½†æ˜¯codeè¿˜æ˜¯workçš„ï¼Œç¼–è¯‘ä¸ä¼šå‡ºé—®é¢˜ï¼Œä½†æ˜¯é¢è¯•çš„æ—¶å€™è¿™æ ·ä¼šè¿åè®¾è®¡åŸåˆ™ï¼Œé¢è¯•æ‰£åˆ†</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­£æ–¹ä½“å­ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cube</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="comment">//..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="D"><a href="#D" class="headerlink" title="D"></a>D</h3><p>Dependency inversion principle ä¾èµ–åè½¬åŸåˆ™ </p>
<p>æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºå…·ä½“å®ç°ï¼Œå…·ä½“å®ç°åº”è¯¥ä¾èµ–äºæŠ½è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123;  <span class="comment">//inputæ˜¯ä¸€ä¸ªshape</span></span><br><span class="line">        <span class="keyword">if</span> (s == Triangle) &#123;  <span class="comment">//ä¾èµ–äºå…·ä½“çš„codeè¿›è¡Œè®¡ç®—if Triangle else Rectangle</span></span><br><span class="line">            <span class="keyword">this</span>.result = b * h / <span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s == Rectangle) &#123;</span><br><span class="line">            <span class="keyword">this</span>.result = l * w;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¦‚æœå‡ºç°äº†åœ†å½¢éœ€è¦é‡å¤ä¿®æ”¹</span></span><br><span class="line"><span class="comment">//ä¸Šé¢è™½ç„¶æ»¡è¶³äº†Open closeä½†æ˜¯åŸºäºDåŸåˆ™</span></span><br><span class="line"><span class="comment">//-&gt; å¥½çš„åšæ³•</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Interface,å…·æœ‰è®¡ç®—Areaçš„åŠŸèƒ½ï¼Œ interfaceå¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œ ä¸‹é¢çš„classæ‰æ˜¯çœŸæ­£è°ƒç”¨è§£å†³é—®é¢˜çš„éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Shape</span> </span>&#123;  <span class="comment">//æ¥å£æ˜¯ä¸€ä¸ªæŠ½è±¡çš„class</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Triangle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getArea</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b * h / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AreaCalculator</span> </span>&#123;  <span class="comment">//ä¾èµ–äºæŠ½è±¡æ¥å£</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> result;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">float</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">float</span> <span class="title">calculateArea</span><span class="params">(Shape s)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.result = s.getArea();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœæˆ‘ä»¬æœªæ¥æœ‰æ–°çš„å½¢çŠ¶å¦‚åœ†å½¢ï¼Œå¯ä»¥å†™ä¸€ä¸ªCircle implements Shapeè¿™ä¸ªinterface</span></span><br></pre></td></tr></table></figure>

<p>Abstract Class-Interfaceçš„åŒºåˆ«(javaçš„æ¦‚å¿µ)</p>
<p>å¯ä»¥å½“æˆä¸€ä¸ªçˆ¶ç±»Abstract Classï¼Œå¯¹ä»¥ä¸€ä¸ªå­ç±»åªèƒ½æ‹¥æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œextendsä¸€ä¸ªä¹‹åä¸èƒ½é‡å¤extends</p>
<p>å¦‚æœæ˜¯interfaceå¯ä»¥åŒæ—¶implementså¾ˆå¤šæ¥å£</p>
<h2 id="é¢è¯•ä¸­åº”è¯¥æ€ä¹ˆåšï¼Ÿ"><a href="#é¢è¯•ä¸­åº”è¯¥æ€ä¹ˆåšï¼Ÿ" class="headerlink" title="é¢è¯•ä¸­åº”è¯¥æ€ä¹ˆåšï¼Ÿ"></a>é¢è¯•ä¸­åº”è¯¥æ€ä¹ˆåšï¼Ÿ</h2><p>Can you design an elevator system for this building?</p>
<h3 id="å¥”é›·æ‰‹-5Cè§£é¢˜æ³•"><a href="#å¥”é›·æ‰‹-5Cè§£é¢˜æ³•" class="headerlink" title="å¥”é›·æ‰‹ - 5Cè§£é¢˜æ³•"></a>å¥”é›·æ‰‹ - 5Cè§£é¢˜æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â€¢ Clarify</span><br><span class="line">â€¢ Core objects</span><br><span class="line">â€¢ Cases</span><br><span class="line">â€¢ Classes</span><br><span class="line">â€¢ Correctness</span><br></pre></td></tr></table></figure>

<h3 id="Clarify"><a href="#Clarify" class="headerlink" title="Clarify"></a>Clarify</h3><p>è¯´äººè¯ï¼šé€šè¿‡å’Œé¢è¯•å®˜äº¤æµï¼Œå»é™¤é¢˜ç›®ä¸­çš„æ­§ä¹‰ï¼Œç¡®å®šç­”é¢˜èŒƒå›´ </p>
<p>Example: Glass of water ?</p>
<p>æ¸…æ¥šæ­§ä¹‰ï¼Œç¡®å®šå¯¹æ–¹æ„å›¾ä¸éœ€æ±‚ã€‚</p>
<ul>
<li>What</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. é’ˆå¯¹é¢˜ç›®ä¸­çš„å…³é”®å­—æ¥æé—®ï¼Œå¸®åŠ©è‡ªå·±æ›´å¥½çš„ç¡®å®šç­”é¢˜èŒƒå›´ã€‚ å¤§å¤šæ•°çš„å…³é”®å­—ä¸ºåè¯ï¼Œé€šè¿‡åè¯çš„å±æ€§æ¥è€ƒè™‘</span><br><span class="line"><span class="number">2</span>. Evaluatorï¼Œ Buildingï¼Ÿ</span><br><span class="line"><span class="number">3</span>. å…³é”®å­—<span class="number">1</span>ï¼šElevator</span><br><span class="line">å±æ€§ï¼Ÿ</span><br><span class="line">å¯èƒ½éœ€è¦è€ƒè™‘è·å–æ¯è¾†ç”µæ¢¯çš„ç›®å‰æ‰¿è½½é‡é‡ï¼Œsize?å…³é—¨çš„æ—¶å€™æ£€æŸ¥æœ‰æ²¡æœ‰è¶…é‡</span><br><span class="line">æ˜¯å¦éœ€è¦è®¾è®¡ä¸¤ç§ç±»ï¼Œå¦‚æœéœ€è¦å®ƒä»¬ä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</span><br><span class="line">- å®¢æ¢¯å’Œè´§æ¢¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸€ä¸ªç±»å®¢æ¢¯Atrstairs è´§æ¢¯GoodsElevator</span><br><span class="line">é’ˆå¯¹æœ¬é¢˜ï¼šæ‰€æœ‰ç”µæ¢¯å¢å‡ä¸ºç›¸åŒè§„æ ¼</span><br><span class="line"></span><br><span class="line">å…³é”®å­—<span class="number">2</span>ï¼šBuilding</span><br><span class="line">å±æ€§ï¼Ÿ</span><br><span class="line">æ¥¼æœ‰å¤šå¤§/æ¥¼æœ‰å¤šé«˜/æ¥¼å†…èƒ½å®¹çº³å¤šå°‘äººï¼Ÿ</span><br><span class="line">- é€šç”¨å±æ€§ï¼Œå¯¹äºé¢˜ç›®å¸®åŠ©ä¸å¤§</span><br><span class="line"></span><br><span class="line">æ˜¯å¦æœ‰å¤šå¤„èƒ½æ­ä¹˜çš„ç”µæ¢¯å£ï¼Ÿ</span><br><span class="line">- å½“æ”¶åˆ°ä¸€ä¸ªæ­ä¹˜ç”µæ¢¯çš„è¯·æ±‚æ—¶ï¼Œæœ‰å¤šå°‘ç”µæ¢¯èƒ½å¤Ÿå“åº”ï¼Ÿ</span><br><span class="line">- å·¦è¾¹<span class="number">5</span>å°å“åº”request å³è¾¹<span class="number">5</span>å°å“åº”request</span><br><span class="line">é’ˆå¯¹æœ¬é¢˜ï¼šæ¯å±‚ä»…ä¸€å¤„èƒ½æ­ä¹˜ï¼Œæ‰€æœ‰ç”µæ¢¯å‡å¯å“åº”</span><br></pre></td></tr></table></figure>

<ul>
<li>How</li>
</ul>
<p>é’ˆå¯¹é—®é¢˜ä¸»é¢˜çš„è§„åˆ™æ¥æé—®ï¼Œå¸®åŠ©è‡ªå·±æ˜ç¡®è§£é¢˜æ–¹å‘ã€‚ </p>
<p>*æ­¤ç±»é—®é¢˜æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œä½ å¯ä»¥æå‡ºä¸€äº›è§£å†³æ–¹æ³•ï¼Œé€šè¿‡é¢è¯•å®˜çš„ååº”ï¼Œ é€‰æ‹©ä¸€ä¸ªä½ æ¯”è¾ƒæœ‰ä¿¡å¿ƒï¼ˆç®€å•ï¼‰çš„æ–¹æ¡ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ç”µæ¢¯æœ‰å“ªäº›è§„åˆ™ï¼Ÿ</span><br><span class="line">å½“æŒ‰ä¸‹æŒ‰é’®æ—¶ï¼Œå“ªä¸€å°ç”µæ¢¯ä¼šç›¸åº”ï¼Ÿ</span><br><span class="line">å¯ä»¥å…ˆæå‡ ä¸ªæ–¹æ¡ˆï¼Œé€‰ä¸€ä¸ªè‡ªå·±è§‰å¾—åšèµ·æ¥æœ€ç®€å•çš„æ–¹æ³•è·Ÿé¢è¯•å®˜è®¨è®º</span><br><span class="line">- ä¼˜å…ˆçº§ï¼šåŒæ–¹å‘ &gt; é™æ­¢ &gt; åå‘</span><br><span class="line">- ä¸€åŠè´Ÿè´£å¥‡æ•°æ¥¼å±‚ï¼Œä¸€åŠè´Ÿè´£å¶æ•°æ¥¼å±‚</span><br><span class="line">- â€¦</span><br><span class="line"></span><br><span class="line">å½“ç”µæ¢¯åœ¨è¿è¡Œæ—¶ï¼Œå“ªäº›æŒ‰é”®å¯ä»¥å“åº”ï¼Ÿ</span><br><span class="line">- æ˜¯å¦èƒ½æŒ‰ä¸‹åå‘çš„æ¥¼å±‚</span><br><span class="line"></span><br><span class="line">è§„åˆ™ï¼š</span><br><span class="line">å¯¹äºæœ¬é¢˜ï¼šåŒå‘ &gt; é™æ­¢ &gt; åå‘ï¼Œå½“è¿è¡Œæ—¶ä¸èƒ½æŒ‰ä¸‹åå‘çš„æ¥¼å±‚</span><br><span class="line">ä¿¡æ¯ï¼šç”µæ¢¯è‡³å°‘éœ€è¦ä¸‰ç§çŠ¶æ€ï¼Œå¹¶ä¸”è¦çŸ¥é“å½“å‰åœ¨å“ªä¸€å±‚</span><br></pre></td></tr></table></figure>

<ul>
<li>Who</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è®¾è®¡ç”±äººä¸»å¯¼ VS. è®¾è®¡ç”±ç³»ç»Ÿä¸»å¯¼ï¼Ÿ</span><br><span class="line">Optional, é€šè¿‡æ€è€ƒé¢˜ç›®å½“ä¸­æ˜¯å¦æœ‰äººçš„å‡ºç°ï¼Œæ¥å¸®åŠ©ç¡®å®šè§£é¢˜èŒƒå›´</span><br><span class="line">*ä¸€èˆ¬å¯ä»¥è€ƒè™‘äººçš„è§’è‰²ä»¥åŠäººçš„å±æ€§ï¼Œçœ‹æ˜¯å¦é¢˜ç›®éœ€è¦</span><br><span class="line">æœ€ä¸»è¦é—®æ¸…æ¥šwhatå’Œhowé‡Œçš„é—®é¢˜ï¼Œwhoå¯ä»¥è§†æƒ…å†µå¿½ç•¥ï¼Œæˆ‘ä»¬å°½é‡å¸Œæœ›æ·¡åŒ–äººåœ¨ç³»ç»Ÿé‡Œçš„å½±å“</span><br><span class="line"></span><br><span class="line">ç”µæ¢¯ç³»ç»Ÿå¦‚ä½•è·å–æ¯ä½ä¹˜å®¢çš„</span><br><span class="line">é‡é‡ï¼Ÿ</span><br><span class="line">- Passenger classåŒ…å«é‡é‡</span><br><span class="line">- ç”µæ¢¯èƒ½å¤Ÿè‡ªåŠ¨æ„Ÿåº”å½“å‰é‡é‡</span><br><span class="line">å¯¹äºæœ¬é¢˜ï¼šç”µæ¢¯èƒ½å¤Ÿè‡ªåŠ¨è·å–å½“å‰é‡é‡ï¼Œå¢åŠ ä¸€ä¸ªfunctionè·å–é‡é‡</span><br></pre></td></tr></table></figure>

<h3 id="Core-objects"><a href="#Core-objects" class="headerlink" title="Core objects"></a>Core objects</h3><p>è¯´äººè¯ï¼šç¡®å®šé¢˜ç›®æ‰€æ¶‰åŠçš„ç±»ï¼Œä»¥åŠç±»ä¹‹é—´çš„æ˜ å°„å…³ç³» </p>
<p>ä»€ä¹ˆæ˜¯Core Object ä¸ºäº†å®Œæˆè®¾è®¡ï¼Œéœ€è¦å“ªäº›ç±»ï¼Ÿ</p>
<p>ä¸ºä»€ä¹ˆè¦å®šä¹‰Core Object ? </p>
<ul>
<li>è¿™æ˜¯å’Œé¢è¯•å®˜åˆæ­¥çš„çº¸é¢contract </li>
<li>æ‰¿ä¸Šå¯ä¸‹ï¼Œæ¥è‡ªäºClarifyçš„ç»“æœï¼Œæˆä¸ºUse caseçš„ä¾æ® </li>
<li>ä¸ºç”»ç±»å›¾æ‰“ä¸‹åŸºç¡€</li>
</ul>
<p>å¦‚ä½•å®šä¹‰Core Object ? </p>
<ul>
<li>ä»¥ä¸€ä¸ªObjectä½œä¸ºåŸºç¡€ï¼Œçº¿æ€§æ€è€ƒ ,ElevatorSystem</li>
<li>ç¡®å®šObjectsä¹‹é—´çš„æ˜ å°„å…³ç³»</li>
<li>è€ƒè™‘inputï¼Œoutput </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Request-&gt;ElevatorSystem(- List&lt;Elevator&gt; elevators)-&gt;Elevator-&gt;ElevatorButton</span><br></pre></td></tr></table></figure>

<h3 id="Good-Practice1-Access-modifier"><a href="#Good-Practice1-Access-modifier" class="headerlink" title="Good Practice1 - Access modifier"></a>Good Practice1 - Access modifier</h3><p>Access modifier </p>
<ul>
<li>package </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span></span><br><span class="line">å¦‚æœä»€ä¹ˆéƒ½ä¸å£°æ˜ï¼Œå˜é‡å’Œå‡½æ•°éƒ½æ˜¯<span class="keyword">package</span> level visibleçš„ï¼Œåœ¨åŒä¸€ä¸ª<span class="keyword">package</span>å†…çš„å…¶ä»–ç±»éƒ½å¯ä»¥è®¿é—®</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">String input = <span class="string">"test"</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printInput</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	System.out.println(input);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åœ¨ç±»å›¾ä¸­ï¼Œé¿å…ä½¿ç”¨defaultçš„package level access</span></span><br><span class="line"><span class="comment">//å»ºè®®ä¸è¦å†oodé‡Œä½¿ç”¨package access modifier</span></span><br></pre></td></tr></table></figure>

<ul>
<li>public </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span></span><br><span class="line">å¦‚æœå£°æ˜ä¸º<span class="keyword">public</span>ï¼Œå˜é‡å’Œå‡½æ•°éƒ½æ˜¯<span class="keyword">public</span> level visibleçš„ï¼Œä»»ä½•å…¶ä»–çš„ç±»éƒ½å¯ä»¥è®¿é—®</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//..</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åœ¨ç±»å›¾ä¸­ï¼Œç”¨â€+â€è¡¨ç¤ºä¸€ä¸ªå˜é‡æˆ–è€…å‡½æ•°ä¸ºpublic</span></span><br></pre></td></tr></table></figure>

<ul>
<li>private </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span></span><br><span class="line">å¦‚æœå£°æ˜ä¸º<span class="keyword">private</span>ï¼Œå˜é‡å’Œå‡½æ•°éƒ½æ˜¯<span class="class"><span class="keyword">class</span> <span class="title">level</span> <span class="title">visible</span>çš„ï¼Œè¿™æ˜¯æ‰€æœ‰<span class="title">access</span> <span class="title">modifier</span>ä¸­é™åˆ¶æœ€</span></span><br><span class="line"><span class="class">å¤šçš„ä¸€ä¸ªã€‚ä»…æœ‰å®šä¹‰è¿™äº›å˜é‡å’Œå‡½æ•°çš„ç±»è‡ªå·±å¯ä»¥è®¿é—®ã€‚</span></span><br><span class="line"><span class="class"><span class="title">private</span>ä¹Ÿæ˜¯<span class="title">OOD</span>å½“ä¸­å®ç°å°è£…çš„é‡è¦æ‰‹æ®µ</span></span><br><span class="line"><span class="class"></span></span><br><span class="line">Example:</span><br><span class="line"><span class="function"><span class="keyword">private</span> class <span class="title">AreaCalculator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Logger log;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åœ¨ç±»å›¾ä¸­ï¼Œç”¨â€-â€è¡¨ç¤ºä¸€ä¸ªå˜é‡æˆ–è€…å‡½æ•°ä¸ºprivate</span></span><br></pre></td></tr></table></figure>

<ul>
<li>protected</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span></span><br><span class="line">å¦‚æœå£°æ˜ä¸º<span class="keyword">protected</span>ï¼Œå˜é‡å’Œå‡½æ•°åœ¨èƒ½è¢«å®šä¹‰ä»–ä»¬çš„ç±»è®¿é—®çš„åŸºç¡€ä¸Šï¼Œè¿˜èƒ½å¤Ÿè¢«è¯¥ç±»çš„å­ç±»</span><br><span class="line">æ‰€è®¿é—®ã€‚</span><br><span class="line"><span class="keyword">protected</span>ä¹Ÿæ˜¯OODå½“ä¸­å®ç°ç»§æ‰¿çš„é‡è¦æ‰‹æ®µã€‚</span><br><span class="line">Example:</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AudioPlayer</span> </span>&#123;</span><br><span class="line">	<span class="keyword">protected</span> Speaker speaker;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StreamingAudioPlayer</span> <span class="keyword">extends</span> <span class="title">AudioPlayer</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">openSperker</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		speaker.open();  <span class="comment">//å¯ä»¥ä½¿ç”¨çˆ¶ç±»çš„.open()</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åœ¨ç±»å›¾ä¸­ï¼Œç”¨â€#â€è¡¨ç¤ºä¸€ä¸ªå˜é‡æˆ–è€…å‡½æ•°ä¸ºprotected</span></span><br></pre></td></tr></table></figure>

<h3 id="Cases"><a href="#Cases" class="headerlink" title="Cases"></a>Cases</h3><p>è¯´äººè¯ï¼šç¡®å®šé¢˜ç›®ä¸­æ‰€éœ€è¦å®ç°çš„åœºæ™¯å’ŒåŠŸèƒ½ </p>
<p>ä¸ºä»€ä¹ˆè¦å†™Use cases ? </p>
<p>è¿™æ˜¯ä½ å’Œé¢è¯•å®˜ç™½çº¸é»‘å­—è¾¾æˆçš„ç¬¬äºŒä»½å…±è¯†ï¼ŒæŠŠä½ å°†è¦å®ç°çš„åŠŸèƒ½åˆ—åœ¨ç™½æ¿ä¸Š </p>
<p>å¸®åŠ©ä½ åœ¨è§£é¢˜è¿‡ç¨‹ä¸­ï¼Œç†æ¸…æ¡ä¾‹ï¼Œä¸€ä¸ªä¸€ä¸ªCaseå®ç° </p>
<p>ä½œä¸ºæ£€æŸ¥çš„æ ‡å‡†</p>
<p>æ€ä¹ˆå†™Use cases ? </p>
<p>åˆ©ç”¨å®šä¹‰çš„Core Object, åˆ—ä¸¾å‡ºæ¯ä¸ªObjectå¯¹åº”äº§ç”Ÿçš„use case. </p>
<p>æ¯ä¸ªuse caseåªéœ€è¦å…ˆç”¨ä¸€å¥ç®€å•çš„è¯æ¥æè¿°å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//use cases</span></span><br><span class="line"><span class="comment">//åˆ†æˆä¸€ä¸ªä¸ªcore Objectæ¥æ‰¾use case</span></span><br><span class="line"><span class="comment">//å¯ä»¥å†™å®Œé—®é—®é¢è¯•å®˜ï¼Œæœ‰æ²¡æœ‰å“ªäº›æˆ‘æ²¡æƒ³åˆ°çš„</span></span><br><span class="line"><span class="comment">//æŠŠç±»å›¾ç”»å‡ºæ¥è®¾è®¡åŸºæœ¬ä¸Šå°±å®Œæˆäº†</span></span><br><span class="line"><span class="comment">//å¦‚æœ45miné¢è¯•ï¼Œä½ 30minå°±æŠŠç±»å›¾ç”»å®Œäº†ï¼Œé‚£ä¹ˆé¢è¯•å®˜å¯èƒ½èƒ¡è®©ä½ å®ç°é‡Œé¢æŸä¸ªfeature</span></span><br><span class="line">Elevator</span><br><span class="line">- Take external request</span><br><span class="line">- Take internal request</span><br><span class="line">- Open gate</span><br><span class="line">- Close gate</span><br><span class="line">- Check weight</span><br><span class="line"></span><br><span class="line">ElevatorButton</span><br><span class="line">- Press button</span><br></pre></td></tr></table></figure>

<h3 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h3><p>è¯´äººè¯ï¼šé€šè¿‡ç±»å›¾çš„æ–¹å¼ï¼Œå…·ä½“å¡«å……é¢˜ç›®ä¸­æ¶‰åŠçš„ç±» </p>
<p>Class diagram (ç±»å›¾)</p>
<table>
<thead>
<tr>
<th>Class Name</th>
</tr>
</thead>
<tbody><tr>
<td>Attributes</td>
</tr>
<tr>
<td>Functions</td>
</tr>
</tbody></table>
<p>ä¸ºä»€ä¹ˆè¦ç”»ç±»å›¾ï¼Ÿ </p>
<p>å¯äº¤ä»˜ï¼ŒMinimal Viable Product, å¯ä»¥ä¸Šäº¤ç»™åˆ¥çš„è€ƒå®˜çœ‹</p>
<p>èŠ‚çœæ—¶é—´ï¼Œä¸å®¹æ˜“åœ¨Codingä¸ŠæŒ£æ‰ </p>
<p>å»ºç«‹åœ¨Use caseä¸Šï¼Œå’Œä¹‹å‰çš„æ­¥éª¤å±‚å±‚é€’è¿›ï¼Œæ¡ä¾‹æ¸…æ™°ï¼Œä¾¿äºäº¤æµå’Œä¿®æ”¹</p>
<p>å¦‚æœæ—¶é—´å…è®¸/é¢è¯•å®˜è¦æ±‚ï¼Œä¾¿äºè½¬åŒ–æˆCode</p>
<p>æ€ä¹ˆç”»ç±»å›¾ï¼Ÿ </p>
<p>éå†ä½ æ‰€åˆ—å‡ºçš„use cases - å¯¹äºæ¯ä¸€ä¸ªuse caseï¼Œæ›´åŠ è¯¦ç»†çš„æè¿°è¿™ä¸ªuse caseåœ¨åšä»€ä¹ˆäº‹æƒ…,å¡«å……åˆ°Objecté‡Œ ï¼ˆä¾‹å¦‚ï¼štake external request -&gt; ElevatorSystem takes an external request, and decide to push this request to an appropriate elevatorï¼‰</p>
<p>é’ˆå¯¹è¿™ä¸ªæè¿°ï¼Œåœ¨å·²æœ‰çš„Core objectsé‡Œå¡«å……è¿›æ‰€éœ€è¦çš„ä¿¡æ¯</p>
<p>Use case: Handle request </p>
<p><strong>ElevatorSystem</strong> takes an <strong>external request</strong>, and decide to push this request to an appropriate <strong>elevator</strong></p>
<h3 id="Good-practice2-Exception"><a href="#Good-practice2-Exception" class="headerlink" title="Good practice2  - Exception"></a>Good practice2  - Exception</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Good practice</span><br><span class="line">å¦‚ä½•çŸ¥é“ä¸€ä¸ªå‡½æ•°ï¼Œæ˜¯å¦æˆåŠŸå®Œæˆä»»åŠ¡ï¼Ÿ</span><br><span class="line">-  Use <span class="keyword">boolean</span> instead of <span class="keyword">void</span> æˆåŠŸçš„è¯è¿”å›<span class="keyword">true</span>, å¦åˆ™è¿”å›<span class="keyword">false</span></span><br><span class="line"></span><br><span class="line">å¦‚ä½•çŸ¥é“æ˜¯ä»€ä¹ˆåœ°æ–¹å‡ºé”™ï¼Ÿ</span><br><span class="line">- Use exceptions  eg. InvalidExternalRequestException</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Challenge</span><br><span class="line"></span><br><span class="line">å¦‚æœç”µæ¢¯ç›®å‰åœ¨1Lï¼Œæœ‰äººæŒ‰ä¸‹äº†5Lå‘ä¸Šï¼Œä¹‹ååˆæœ‰äººæŒ‰ä¸‹äº†3Lå‘ä¸Šï¼Œ ç”µæ¢¯ä¼šæ€æ ·è¡ŒåŠ¨ï¼Ÿ </span><br><span class="line"></span><br><span class="line">stops will be &#123;5,3&#125; Expected is: &#123;3,5&#125; </span><br><span class="line"></span><br><span class="line">Solution1: sort stops every time we add to it.</span><br><span class="line"></span><br><span class="line">Solution2: use priority queue instead of list</span><br><span class="line"></span><br><span class="line">å¦‚æœç”µæ¢¯ç›®å‰åœ¨1Lï¼Œæœ‰äººæŒ‰ä¸‹äº†5Lå‘ä¸Šï¼Œä¹‹ååˆæœ‰äººæŒ‰ä¸‹äº†3Lå‘ä¸Šï¼Œ</span><br><span class="line">ç´§æ¥ç€è¿™å°ç”µæ¢¯åˆè¢«åˆ†é…äº†ä¸€ä¸ª2Lå‘ä¸‹çš„requestã€‚è¿™å°ç”µæ¢¯ä¼šå¦‚ä½•è¡Œ</span><br><span class="line">åŠ¨ï¼Ÿ</span><br><span class="line">stops will be &#123;2ï¼Œ3ï¼Œ5&#125;</span><br><span class="line">Expected is: &#123;3ï¼Œ5ï¼Œ2&#125;</span><br><span class="line">Solution: keep 2 lists for different direction</span><br><span class="line"></span><br><span class="line">å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªInternal request æ˜¯å¦ä¸ºValid?</span><br><span class="line">Solution:</span><br><span class="line">If elevator going up</span><br><span class="line">requested level lower than current level</span><br><span class="line">invalid</span><br><span class="line">If elevator going down</span><br><span class="line">requested level higher than current level</span><br><span class="line">invalid</span><br></pre></td></tr></table></figure>

<p>Use case: Take external request </p>
<p>An elevator takes an external request, inserts in its stop list.</p>
<p>Use case: Open gate </p>
<p>An elevator reaches the destination level, open gate</p>
<p>Use case: Close gate </p>
<p>An elevator checks if overweight; close the door; then check stops corresponds to current status; if no stops left, check the reserve direction stops; change status to reserve direction or idle.</p>
<p>Use case: check weight </p>
<p>An elevator checks its current weight and compare with limit to see if overweight</p>
<p>Use case: press button </p>
<p>A button inside elevator is pressed, will generate an internal request and send to the elevator.</p>
<p>ç±»å›¾ï¼Œå…ˆå†™å‡ºCore Objectï¼Œåˆ—å‡ºUse cases</p>
<p>ç„¶åæŒ‰ç…§ï¼ŒUse casesæ ¹æ®è‡ªå·±çš„èŠ‚å¥å®Œå–„ç±»å›¾ï¼Œclass é‡Œçš„å„ç§function</p>
<h3 id="Correctness"><a href="#Correctness" class="headerlink" title="Correctness"></a>Correctness</h3><p>è¯´äººè¯ï¼šæ£€æŸ¥è‡ªå·±çš„è®¾è®¡ï¼Œæ˜¯å¦æ»¡è¶³å…³é”®ç‚¹</p>
<p>ä»ä»¥ä¸‹å‡ æ–¹é¢æ£€æŸ¥ï¼š </p>
<ol>
<li><p>Validate use cases (æ£€æŸ¥æ˜¯å¦æ”¯æŒæ‰€æœ‰çš„use case) </p>
</li>
<li><p>Follow good practice (é¢è¯•å½“ä¸­çš„åŠ åˆ†é¡¹ï¼Œå±•ç°ä¸€ä¸ªç¨‹åºå‘˜çš„ç»éªŒ)  </p>
</li>
<li><p>S.O.L.I.D </p>
</li>
<li><p>Design pattern</p>
</li>
</ol>
<h3 id="Good-Practice-ç»§æ‰¿"><a href="#Good-Practice-ç»§æ‰¿" class="headerlink" title="Good Practice  - ç»§æ‰¿"></a>Good Practice  - ç»§æ‰¿</h3><p>ç»§æ‰¿ æ£€æŸ¥ä½ çš„è®¾è®¡ä¸­ï¼Œæ˜¯å¦æœ‰é‡å¤çš„ç±»ï¼Œå¯ä»¥é‡‡ç”¨ç»§æ‰¿çš„æ–¹å¼æ¥è¡¨ç°</p>
<p>Challenge</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">How <span class="keyword">do</span> you handle an external request?</span><br><span class="line">â€¢ What <span class="keyword">if</span> I want to apply different ways to handle external requests</span><br><span class="line">during different time of a day?</span><br><span class="line">â€¢ Can you implement it in code?</span><br><span class="line"></span><br><span class="line">How <span class="keyword">do</span> you handle an external request?</span><br><span class="line">å¦‚æˆ‘ä»¬æœ€æ—©å’Œé¢è¯•å®˜è®¨è®ºçš„ç»“æœï¼š</span><br><span class="line">åŒæ–¹å‘ &gt; é™æ­¢ &gt; åå‘</span><br><span class="line"></span><br><span class="line">What <span class="keyword">if</span> I want to apply different ways to handle external requests</span><br><span class="line">during different time of a day?</span><br><span class="line">â€¢ Solution <span class="number">1</span>: <span class="keyword">if</span> - <span class="keyword">else</span> -&gt; è¿åäº†OåŸåˆ™</span><br><span class="line">æ›´å¥½çš„åšæ³•ï¼šSolution <span class="number">2</span>: Strategy design pattern</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/11/15/AlgoTogether/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/15/AlgoTogether/" class="post-title-link" itemprop="url">AlgoTogether & Interview.io</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-15 13:14:09" itemprop="dateCreated datePublished" datetime="2020-11-15T13:14:09+09:00">2020-11-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-01-20 16:13:03" itemprop="dateModified" datetime="2021-01-20T16:13:03+09:00">2021-01-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Algotogether"><a href="#Algotogether" class="headerlink" title="Algotogether"></a>Algotogether</h1><h2 id="Week-1-Theme-Complex-Coding"><a href="#Week-1-Theme-Complex-Coding" class="headerlink" title="Week 1 Theme: Complex Coding"></a>Week 1 Theme: Complex Coding</h2><p>You should aim for these goals when working through these problems:</p>
<ol>
<li>Some languages could solve some problems with internal libraries/packages, do NOT use them.</li>
<li>The problems donâ€™t require advance algorithm/data structure, but they either have lots of corner cases or require good coding skills, please try to pass them with 1st attempt.</li>
</ol>
<h3 id="Technique"><a href="#Technique" class="headerlink" title="Technique"></a>Technique</h3><p>Asking <strong>clarifying questions</strong></p>
<ol>
<li>Are they integers?</li>
<li>Is the solution guaranteed?</li>
<li>What if multiple solutions?</li>
<li>Can I assume xxx?</li>
</ol>
<p>Communication with <strong>logical thinking</strong></p>
<ol>
<li>If itâ€™s okay to return any random solution when there are multiple solutions.</li>
<li>Donâ€™t let your interviewer in the dark.</li>
<li>You can talk a naive solution if you can not come up with advanced approach.</li>
</ol>
<p>Briefly analyze the <strong>time/space complexity</strong></p>
<ol>
<li>I think time will be O(n) since xxx</li>
</ol>
<p>Do some <strong>error check</strong> before code</p>
<ol>
<li>Empty input, duplicate nums, special cases</li>
</ol>
<h3 id="Valid-palindrome-presentation"><a href="#Valid-palindrome-presentation" class="headerlink" title="Valid palindrome presentation:"></a>Valid palindrome presentation:</h3><ol>
<li><p><strong><code>Use example</code></strong>,  pseudocode to explain you idea. </p>
<p>Step1, Step2, Step3 make it your language more organized</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"a b;. ab a"</span></span><br><span class="line">-         -</span><br><span class="line">left     right</span><br></pre></td></tr></table></figure>
</li>
<li><p>Initial each <strong><code>variable in a different line</code></strong>;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> right = s.length() - <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨<strong><code>æ³¨é‡Š//xx</code></strong>è®©codeæ›´æ¸…æ¥š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (left &lt;= right) <span class="comment">//traverse the string both from start and end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>If else branch, pay attention</p>
</li>
<li><p><strong><code>Ask interviewer.</code></strong> </p>
<p>Am I clear, Are you following? Is that make sense to you? Should I make more explanation about it?</p>
</li>
</ol>
<h3 id="Decode-String-presentation"><a href="#Decode-String-presentation" class="headerlink" title="Decode String presentation:"></a>Decode String presentation:</h3><ol>
<li><strong><code>Write branch first, then implement</code></strong></li>
<li>Use demo make your way more Can you teach your grandmother to write this code?</li>
<li>Show the two stack work.</li>
<li>Donâ€™t be nervous.</li>
<li>I know StringBuilder is more efficient. Do you want me to make this improvement?</li>
</ol>
<h3 id="Rotate-Image-presentation"><a href="#Rotate-Image-presentation" class="headerlink" title="Rotate Image presentation:"></a>Rotate Image presentation:</h3><ol>
<li>Explain transpose.</li>
<li>Utilize demo.</li>
</ol>
<h3 id="Tic-Tac-Toe-presentation"><a href="#Tic-Tac-Toe-presentation" class="headerlink" title="Tic-Tac-Toe presentation:"></a>Tic-Tac-Toe presentation:</h3><ol>
<li>Remind X is always first.</li>
<li>Explain in each code block.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validTicTacToe</span><span class="params">(String[] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Convert string board into matrix</span></span><br><span class="line">    <span class="keyword">int</span> turns = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] rows = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span>[] cols = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span> diag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> antidiag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span> xwin = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">boolean</span> owin = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//compute the eight lines</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i].charAt(j) == <span class="string">'X'</span>) &#123;</span><br><span class="line">                turns++;</span><br><span class="line">                rows[i]++;</span><br><span class="line">                cols[j]++;</span><br><span class="line">                <span class="keyword">if</span> (i == j) diag++;</span><br><span class="line">                <span class="keyword">if</span> (i + j == <span class="number">2</span>) antidiag++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (board[i].charAt(j) == <span class="string">'O'</span>) &#123;</span><br><span class="line">                turns--;</span><br><span class="line">                rows[i]--;</span><br><span class="line">                cols[j]--;</span><br><span class="line">                <span class="keyword">if</span> (i == j) diag--;</span><br><span class="line">                <span class="keyword">if</span> (i + j == <span class="number">2</span>) antidiag--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//determine who win</span></span><br><span class="line">    xwin = rows[<span class="number">0</span>] == <span class="number">3</span> || rows[<span class="number">1</span>] == <span class="number">3</span> || rows[<span class="number">2</span>] == <span class="number">3</span> || cols[<span class="number">0</span>] == <span class="number">3</span> || cols[<span class="number">1</span>] == <span class="number">3</span> || cols[<span class="number">2</span>] == <span class="number">3</span> || diag == <span class="number">3</span> || antidiag == <span class="number">3</span>;</span><br><span class="line">    owin = rows[<span class="number">0</span>] == -<span class="number">3</span> || rows[<span class="number">1</span>] == -<span class="number">3</span> || rows[<span class="number">2</span>] == -<span class="number">3</span> || cols[<span class="number">0</span>] == -<span class="number">3</span> || cols[<span class="number">1</span>] == -<span class="number">3</span> || cols[<span class="number">2</span>] == -<span class="number">3</span> || diag == -<span class="number">3</span> || antidiag == -<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//X always move first</span></span><br><span class="line">    <span class="keyword">if</span> (xwin &amp;&amp; turns == <span class="number">0</span> || owin &amp;&amp; turns == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">return</span> (turns == <span class="number">0</span> || turns == <span class="number">1</span>) &amp;&amp; (!xwin || !owin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="Invert-Binary-Tree-Mock-Interview"><a href="#Invert-Binary-Tree-Mock-Interview" class="headerlink" title="Invert Binary Tree Mock Interview"></a>Invert Binary Tree Mock Interview</h3><ol>
<li>Never say you are not familar with DFS/BFS(or xxx)</li>
</ol>
<h3 id="Binary-Tree-Maximum-Path-Sum-Mock-Interview"><a href="#Binary-Tree-Maximum-Path-Sum-Mock-Interview" class="headerlink" title="Binary Tree Maximum Path Sum Mock Interview"></a>Binary Tree Maximum Path Sum Mock Interview</h3><ol>
<li>å…ˆæ²Ÿé€šæ€è·¯ï¼ŒInterviewer said direction is right, then start code.</li>
<li>Tell me what is whole path and single path? Donâ€™t have gap in communication.</li>
</ol>
<h2 id="Week-2-Theme-Binary-Searchâ­"><a href="#Week-2-Theme-Binary-Searchâ­" class="headerlink" title="Week 2 Theme: Binary Searchâ­"></a>Week 2 Theme: Binary Searchâ­</h2><p>For most algorithms you have learned from school/programming bootcamp, they probably wonâ€™t be used in real-world projects until you touch really low-level infra. Binary Search is considered a basic algorithm that might be required in a real-world project, so itâ€™s frequently asked in interviews.</p>
<p>Some of the problems here can be solved without binary search (explicitly mentioned in the problem statement), but itâ€™s recommended to solve them with binary search which could significantly improve your programming skill.</p>
<h3 id="Technique-for-interview"><a href="#Technique-for-interview" class="headerlink" title="Technique  for interview"></a>Technique  for interview</h3><p>Problem solving</p>
<ol>
<li>Every company have their own scoring system.</li>
<li>Donâ€™t need to get fulll score to apss interview.</li>
<li>Clean non optimal solution &gt; Mess/Half down optimal solution</li>
<li>Coding style is not major factor, but it helps</li>
<li>Go through approach before coding</li>
</ol>
<p>Communication</p>
<ol>
<li><p>English is important, but not critical</p>
</li>
<li><p>Use all tools to help interviewers understand</p>
<ul>
<li>Whiteboard</li>
<li>Pseudo Code</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>()</span><br><span class="line"><span class="keyword">do</span> xx</span><br><span class="line">retrun xx</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Walk Through some examples, test case</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>When present your solution<ul>
<li>Talk about high level idea before dive into details implementations</li>
<li>Focus on most complicate part</li>
<li>For DP, how demo status transition works before into code</li>
</ul>
</li>
</ol>
<p>Follow up</p>
<ol>
<li>Fine tuning code (want you thinking corner cases, minor mistakes, typo)</li>
<li>Bonus(if you answer correct, hire -&gt; strong hire)</li>
<li>More challenge</li>
<li>Push for better solution</li>
<li>Redirection the interview to non coding area</li>
</ol>
<h3 id="Presentation"><a href="#Presentation" class="headerlink" title="Presentation"></a>Presentation</h3><p><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/" target="_blank" rel="noopener">Search in Rotated Sorted Array</a></p>
<p><a href="https://leetcode.com/problems/koko-eating-bananas/" target="_blank" rel="noopener">Koko Eating Bananas</a></p>
<h2 id="Week-3-Theme-BFS-amp-DFSâ­"><a href="#Week-3-Theme-BFS-amp-DFSâ­" class="headerlink" title="Week 3 Theme: BFS &amp; DFSâ­"></a>Week 3 Theme: BFS &amp; DFSâ­</h2><p>BFS and DFS are considered fundamental in programming skills. Even they are almost not being used in real-world problems, many companies still using them in most of their interviews.</p>
<p>According to the interview results, when interviewers ask BFS / DFS problems, more than 60% of candidates fail with two main reasons:</p>
<ol>
<li>Not able to figure out BFS / DFS solution</li>
<li>Not able to code up the solution</li>
</ol>
<p>Many candidates tend to use DFS over BFS, especially for new grads, but sometimes choosing the correct searching algorithm will significantly improve the performance.</p>
<p>In general, it should be obvious to tell if a particular problem could be solved by BFS or DFS. However, itâ€™s possible that one problem could be solved by both algorithms. In this case, itâ€™s better to evaluate the pros and cons of them first.</p>
<h3 id="Technique-1"><a href="#Technique-1" class="headerlink" title="Technique"></a>Technique</h3><p>The traverse order matter</p>
<ol>
<li>A node depends on all shallower nodes:<ul>
<li>BFS</li>
</ul>
</li>
<li>A node depends on all descendant nodes:<ul>
<li>DFS</li>
</ul>
</li>
<li>More complex dependency<ul>
<li>BFS and DFS that dependency tree/graph</li>
</ul>
</li>
</ol>
<p>Quiz</p>
<ol>
<li>Shortest path from one leaf to another leaf<ul>
<li>DFS</li>
<li>The shortest path goes up from leaf X through a node Y and then down to leaf Z</li>
<li>Path Y to X and path Y to Z must be the two shorest leaf path from Y</li>
<li>The shorest leaf path from Y can be calculated fromthe shorest leaf from Yâ€™s child nodes.</li>
</ul>
</li>
</ol>
<p>DFS</p>
<p>Its recursion form is easy to remember and write. 3 steps in a  recursive DFS function:</p>
<ol>
<li>Take the necessary informations from child nodes.</li>
<li>Compute current node based on current nodeâ€™s information and those from the child nodes.</li>
<li>Return the computation result in the same data stucture.</li>
</ol>
<p>Example:</p>
<ol>
<li>Sum of all node values</li>
<li>Longest path to leaf</li>
</ol>
<p>DFS Review</p>
<ol>
<li>Determine how we are going to compute the result for the current node.</li>
<li>Identify what information we ned from child nodes for computation.</li>
<li>Return the similar information after computing the current node.</li>
<li>Chect if leaf node returns the correct information.</li>
</ol>
<p>BFS</p>
<p>Itâ€™s a little bit harder to remoember and write than DFS. However, it only requires 3 steps just like DFS.</p>
<ol>
<li>Enqueue the root node</li>
<li>Dequeue a node and enqueue all its child nodes.</li>
<li>Repeat indefinitely until the queue is empty.</li>
</ol>
<p>Example:</p>
<ol>
<li><p>Leaf closest to root</p>
<ul>
<li>check it itâ€™s a leaf node</li>
<li>stop if itâ€™s a leaf node</li>
</ul>
</li>
<li><p>Shortest path from point A to point B, can be map in matrix or graph</p>
<ul>
<li>start at point A  as step 1, consider it as root</li>
<li>identify all adjacent points as step 2 candidates, like child node</li>
<li>repeat that for step 3, 4</li>
<li>show when point B is identified as candidate of step X</li>
</ul>
</li>
<li><p>Shortest path from state A to state B</p>
<p>â€‹    More variations:</p>
<ul>
<li>A game started with state A. Can it get state B? how to get state B in least amount of steps?</li>
<li>A game started with state A. Player X and player Y play against each other. Can it get to state B(eg.X winning or Y winning)?</li>
</ul>
</li>
</ol>
<p>BFS Review</p>
<ol>
<li>BFS needs a queue.</li>
<li>The problem might not mention tree or graph.</li>
<li>The problem might involve state transitions.</li>
<li>Memorize visited nodes if itâ€™s a graph.</li>
</ol>
<h3 id="Sliding-Puzzle-presentation"><a href="#Sliding-Puzzle-presentation" class="headerlink" title="Sliding Puzzle presentation"></a>Sliding Puzzle presentation</h3><ol>
<li>Bad : Too many typos. Time complexity, space complexity analyze.</li>
<li>Flow of code is good. Framework first and then implement detail code.  </li>
<li>Explain why you choose this data structure, why not other array, etc. Motavitation. </li>
<li>Use examples.</li>
<li>Line 30 : Comment visualize the current data is great //123450 -&gt; x,y</li>
<li>Explain how you achieve BFSâ€™s level search.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//initial varaible</span></span><br><span class="line">    <span class="keyword">int</span> row = board.length;</span><br><span class="line">    <span class="keyword">int</span> col = board[<span class="number">0</span>].length;</span><br><span class="line">    String start = <span class="string">""</span>;</span><br><span class="line">    String goal = <span class="string">"123450"</span>;</span><br><span class="line">    <span class="comment">//initial start = xxxxx</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j++) &#123;</span><br><span class="line">            start += board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[][] directiosn = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(start);</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//bfs</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i  =<span class="number">0</span>; i &lt; size; i++) &#123;  <span class="comment">//++</span></span><br><span class="line">            String curState = queue.poll(); <span class="comment">//++</span></span><br><span class="line">            <span class="keyword">if</span> (s == goal) &#123;</span><br><span class="line">                <span class="keyword">return</span> cnt;  <span class="comment">//++</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//123450 -&gt; x,y</span></span><br><span class="line">            <span class="keyword">int</span> pos = s.indexOf(<span class="string">"0"</span>);</span><br><span class="line">            <span class="keyword">int</span> x = pos % col;</span><br><span class="line">            <span class="keyword">int</span> y = pos / col;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextX = x + d[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextY = y + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= row || nextY &lt; <span class="number">0</span> || nextY &gt;= col) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> nextPos = nextX * col + nextY;</span><br><span class="line">                <span class="comment">// 0 -&gt; xxxxx</span></span><br><span class="line">                String newString = swap(s, pos, nextPos);</span><br><span class="line">                <span class="keyword">if</span> (visited.contains(newString)) <span class="keyword">continue</span>;</span><br><span class="line">                visited.add(newString);</span><br><span class="line">                queue.add(newString);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">swap</span><span class="params">(String s, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">char</span> temp = chars[i];</span><br><span class="line">    chars[i] = chars[j];</span><br><span class="line">    chars[j] = temp;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Stirng(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Week-4-amp-5-Theme-Data-Structure-I-Basic-Data-Structure-II-advanced"><a href="#Week-4-amp-5-Theme-Data-Structure-I-Basic-Data-Structure-II-advanced" class="headerlink" title="Week 4&amp;5 Theme: Data Structure I (Basic) Data Structure II (advanced)"></a>Week 4&amp;5 Theme: Data Structure I (Basic) Data Structure II (advanced)</h2><h3 id="Technique-2"><a href="#Technique-2" class="headerlink" title="Technique"></a>Technique</h3><p>There are lots of Data Structures we have learned from school. Some of them are considered as basic since</p>
<ol>
<li>They are easier to understand, and</li>
<li>They are used more often in real-world projects.</li>
</ol>
<p>For example, Array, Queue, Stack, Heap, Tree, and Hash.</p>
<p>Some others are considered as advance, for example, Interval Tree, Trie, BST, Graph, etc.</p>
<p>For this week, we will focus on the basic data structures, and talk about advanced data structure next week.</p>
<p>For most of the interview questions, they can be solved by basic data structures. However, sometimes we canâ€™t solve the problem by applying a single data structures, optimization is required. For example:</p>
<ol>
<li>Combine two different data structures together, or</li>
<li>Apply other algorithms on top of it, e.g. Greedy, Sorting, etc.</li>
</ol>
<p>Advanced Data Structure includes a lot of things, but only a few of them are asked frequently in the interview, they are</p>
<ol>
<li>Binary Search Tree</li>
<li>Graph (Shortest Path, Minimal Spanning Tree, Topological Sorting)</li>
<li>Trie</li>
<li>Disjoint Set (aka Union Find Set)</li>
<li>Binary Indexed Tree</li>
<li>Interval Tree (aka Segment Tree, together with Line Sweeping)</li>
</ol>
<p>The above order reflects how often these problems are being asked in the actual interview. Some of these data structures require a <em>template</em>, otherwise, most candidates wonâ€™t able to code it up within 45 minutes, which makes it less likely to be asked in interviews.</p>
<p>However, we still have some records that some companies ask candidates these data structures, e.g</p>
<ol>
<li>Uber, ask Line Sweeping</li>
<li>Google, ask Binary Indexed Tree and Disjoint Set</li>
<li>Facebook and Airbnb, ask Interval Tree</li>
</ol>
<p>Usually, when the interviewer asks these kinds of problems, the actual data structure might not be the one they are expecting. Try to start with a simple data structure before going into the complicate ones.</p>
<p>For example, Binary Indexed Tree is considered as a simple version of Interval Tree; some features of Trie/Disjoint Set could be achieved by using a regular tree/graph, with higher time complexity.</p>
<p>When the interviewer asks you these questions, I would recommend:</p>
<ol>
<li>Explicitly ask the interview what are they looking for. You could provide two solutions, a) complicate data structure but lower time/space complexity, and b) simple data structure with better readability but higher time/space complexity. Talk to the interviewer to see what they are looking for.</li>
<li>If you decide to go with the complicate ones, clarify with the interviewer if they want you to implement the actual data structure. Facebook is allowing you to assume the existence of data structure, but Google / Airbnb wonâ€™t allow that.</li>
<li>If you have to go with the complicate ones, make sure you think through the problem before start coding. If your original solution doesnâ€™t work, you might not have enough to rewrite your code.</li>
</ol>
<p>Data structures</p>
<ol>
<li>Data operations<ul>
<li>store</li>
<li>query</li>
<li>update</li>
</ul>
</li>
<li>Core metrics<ul>
<li>Functionality</li>
<li>Time/Space complexity</li>
<li>Coding complexity</li>
</ul>
</li>
<li>Basic data structures<ul>
<li>Array</li>
<li>Stack &amp; Queue<ul>
<li>PriorityQueue(Heap)</li>
</ul>
</li>
<li>Hash</li>
</ul>
</li>
<li>Advanced data structures<ul>
<li>Tree<ul>
<li>Binary search tree<ul>
<li>Balance tree</li>
</ul>
</li>
<li>Trie</li>
<li>Disjoint Set</li>
<li>Binary Indexed Tree/Interval Tree</li>
</ul>
</li>
<li>Graph<ul>
<li>Directional Graph<ul>
<li>Graph DP</li>
<li>Topological Sorting</li>
<li>Shortest Path</li>
</ul>
</li>
<li>Bidirectional Graph<ul>
<li>Minimal Spanning Tree</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Interview<ul>
<li>Mostly require basic data structures</li>
<li>Might require combing data structures/algorithms<ul>
<li>Stack/Queue</li>
<li>Sorting</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="Basic-data-structures"><a href="#Basic-data-structures" class="headerlink" title="Basic data structures"></a>Basic data structures</h3><h4 id="Stack-and-Queue"><a href="#Stack-and-Queue" class="headerlink" title="Stack and Queue"></a>Stack and Queue</h4><ul>
<li>Tracking order</li>
<li>Stack, FILO</li>
<li>Queue, FIFO</li>
</ul>
<ol>
<li>Implement Stack with Queues</li>
<li>Implement Queue with Stacks</li>
<li>Reverse Polish Notation</li>
</ol>
<h4 id="Priority-Queue-Heap"><a href="#Priority-Queue-Heap" class="headerlink" title="Priority Queue(Heap)"></a>Priority Queue(Heap)</h4><ul>
<li>Tree strcture</li>
<li>Parent node is minimal(or maximal) of its subtree</li>
<li>Tracking running minimal or maximal </li>
</ul>
<ol>
<li>Medium in Array</li>
<li>Shorest Path</li>
</ol>
<h4 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h4><ul>
<li>Converting input objects into keys</li>
<li>Tracking info of keys<ul>
<li>Memorize Recursion(DP)</li>
<li>Visited array in BFS</li>
</ul>
</li>
<li>HashMap(Java/Cpp) or dict(python)</li>
</ul>
<ol>
<li>Implement hash function(start up company)<ul>
<li>Rabin-Karp Algorithm</li>
</ul>
</li>
<li>Comparing strings</li>
</ol>
<h3 id="Advanced-data-structures"><a href="#Advanced-data-structures" class="headerlink" title="Advanced data structures"></a>Advanced data structures</h3><ol>
<li>Many Advanced data structures</li>
<li>only handfulof them are asked</li>
<li>Choose data structure wisely<ul>
<li>Clarity requirment(implement? or assume them exist)</li>
<li>Explain idea</li>
<li>Set exception</li>
</ul>
</li>
<li>Use well-known naming<ul>
<li>Interval Tree -&gt; Segment Tree</li>
<li>Disjoint Set -&gt; Union Find Set</li>
</ul>
</li>
</ol>
<h4 id="Binary-search-tree"><a href="#Binary-search-tree" class="headerlink" title="Binary search tree"></a>Binary search tree</h4><ol>
<li>Preorder/Inorder/Postorder Search<ul>
<li>Given two of the orders, figure out the rest</li>
</ul>
</li>
<li>Balance Tree<ul>
<li>Handle BST degeneration</li>
<li>More complicated</li>
<li>Recommend to use Map/Set/dict</li>
</ul>
</li>
</ol>
<h4 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h4><ol>
<li>Prefix tree</li>
<li>Store multiple strings in O(nm) space<ul>
<li>n is size of alphabet</li>
<li>m is lengh of strings</li>
</ul>
</li>
<li>Query string in O(m) sapce</li>
</ol>
<h4 id="Disjoint-Set"><a href="#Disjoint-Set" class="headerlink" title="Disjoint Set"></a>Disjoint Set</h4><ol>
<li>Given multiples sets<ul>
<li>Query ID of set(find)</li>
<li>Merge multiple sets(union)</li>
</ul>
</li>
<li>Query Equations</li>
</ol>
<h4 id="Binary-Indexed-Tree"><a href="#Binary-Indexed-Tree" class="headerlink" title="Binary Indexed Tree"></a>Binary Indexed Tree</h4><ol>
<li>Add value into array[index]</li>
<li>Replace array[index] with value</li>
<li>Sum array[index1 : idnex2]</li>
</ol>
<h4 id="Interval-Tree"><a href="#Interval-Tree" class="headerlink" title="Interval Tree"></a>Interval Tree</h4><ol>
<li>Replace array[idnex1 : idnex2] with value</li>
<li>Query sum(array[index1 : index2])</li>
</ol>
<h4 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h4><ol>
<li>Topological sorting(Run BFS in directional graph)<ul>
<li>Alien Dictionary</li>
</ul>
</li>
<li>Shorest Path<ul>
<li>Dijkstra</li>
</ul>
</li>
<li>Minimal Spanning Tree<ul>
<li>Prim</li>
<li>Kruskal</li>
</ul>
</li>
</ol>
<h3 id="Presentation-1"><a href="#Presentation-1" class="headerlink" title="Presentation"></a>Presentation</h3><h2 id="Week-6-Theme-Math"><a href="#Week-6-Theme-Math" class="headerlink" title="Week 6 Theme: Math"></a>Week 6 Theme: Math</h2><p>Math actually has many different kinds of problems, they are widely used in interviews, especially for startups.</p>
<p>Some typical topics being asked are:</p>
<ol>
<li>GCD / LCM</li>
<li>Prime numbers</li>
<li>Pigeonhole principle</li>
<li>Geometry</li>
<li>Bit Manipulation</li>
<li>Randomization</li>
<li>Brainteaser</li>
</ol>
<p>On top of basic mathematical theories, some other algorithms might be required to solve the problems, e.g</p>
<ol>
<li>Dynamic Programming</li>
<li>DFS / Recursion</li>
<li>Sorting</li>
</ol>
<h3 id="Technique-3"><a href="#Technique-3" class="headerlink" title="Technique"></a>Technique</h3><ol>
<li>Prime<ul>
<li>Find prime numbers in O(n) space/time</li>
<li>Find prime factors in average O(log n) time</li>
</ul>
</li>
<li>GCD/LCM<ul>
<li>Find GCD /LCM in O(log n) time, O(1) space</li>
</ul>
</li>
<li>Geometry<ul>
<li>Check if two segments intersect into each other</li>
<li>Convex Hull</li>
</ul>
</li>
<li>Bit<ul>
<li>Calculate +-*/ with bitwise operation</li>
<li>Zipping bits into integer</li>
</ul>
</li>
<li>Random<ul>
<li>Shuffle Array</li>
<li>Given a particular randomizer, build a new one on top of<ul>
<li>Given randomizer from [0, 1], build one from [0, 100]</li>
</ul>
</li>
</ul>
</li>
<li>Brain Teasers<ul>
<li>Nim</li>
<li>Triangle<ul>
<li>Given a list of integers, find out how many trios could form a triangle</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="Week-7-Theme-Dynamic-Programmingâ­"><a href="#Week-7-Theme-Dynamic-Programmingâ­" class="headerlink" title="Week 7 Theme: Dynamic Programmingâ­"></a>Week 7 Theme: Dynamic Programmingâ­</h2><h1 id="Mock"><a href="#Mock" class="headerlink" title="Mock"></a>Mock</h1><h2 id="628-Maximum-Product-of-Three-NumbersğŸ’œ"><a href="#628-Maximum-Product-of-Three-NumbersğŸ’œ" class="headerlink" title="628. Maximum Product of Three NumbersğŸ’œ"></a><a href="https://leetcode.com/problems/maximum-product-of-three-numbers/description/" target="_blank" rel="noopener">628. Maximum Product of Three Numbers</a>ğŸ’œ</h2><h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">Output: <span class="number">24</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumProduct</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max1 = Integer.MIN_VALUE, max2 = Integer.MIN_VALUE, max3 = Integer.MIN_VALUE, min1 = Integer.MAX_VALUE, min2 = Integer.MAX_VALUE;</span><br><span class="line">    <span class="comment">//Find the largest 3 numbers &amp;&amp; 2 minimum number(because input can be negetive -9 * -8= 72)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">        <span class="keyword">if</span> (num &gt; max1) &#123;</span><br><span class="line">            max3 = max2;</span><br><span class="line">            max2 = max1;</span><br><span class="line">            max1 = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; max2) &#123;</span><br><span class="line">            max3 = max2;</span><br><span class="line">            max2 = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; max3) &#123;</span><br><span class="line">            max3 = num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (num &lt; min1) &#123;</span><br><span class="line">            min2 = min1;</span><br><span class="line">            min1 = num;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &lt; min2) &#123;</span><br><span class="line">            min2 = num;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(max1*max2*max3, max1*min1*min2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Follow-up"><a href="#Follow-up" class="headerlink" title="Follow up"></a>Follow up</h3><p>what if input is billion and k is thousand? Can you optimize the complexity to log k?</p>
<p>Use heap.</p>
<h3 id="FeedBack"><a href="#FeedBack" class="headerlink" title="FeedBack"></a>FeedBack</h3><ol>
<li>Advice: never jump to the code before clarify your solution to interview and they said yes. </li>
<li>For any question make sure to ask input type input range, in this case you can ask is stream contain 0, negetive number? And when you deal with lots of number may out of bounds, keep in mind this thing.</li>
<li>Ask clarifying question, ex, in this question, stream is actually a generator, you assuming itâ€™s an array make sure to ask if there are any implicit assumption.</li>
<li>When specifying your approach you can use some pseudo code or English explaition your method. And use some simple examples to walk through.</li>
<li>Edge case. 0 / negetive number. Stream size is less than k, size is larger than bound cause over flow errors when you deal with varaibles. Show you are pay attention to details.</li>
<li>Time Space complexity. Show you are confident with these things.</li>
</ol>
<h2 id="Binary-Tree-Anti-clockwise-traverse"><a href="#Binary-Tree-Anti-clockwise-traverse" class="headerlink" title="Binary Tree Anti-clockwise traverse"></a>Binary Tree Anti-clockwise traverse</h2><h3 id="545-Boundary-of-Binary-Tree"><a href="#545-Boundary-of-Binary-Tree" class="headerlink" title="545. Boundary of Binary Tree"></a><a href="https://leetcode.com/problems/boundary-of-binary-tree/" target="_blank" rel="noopener">545. Boundary of Binary Tree</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">       a</span><br><span class="line">    b    c</span><br><span class="line"> d   e   f   g </span><br><span class="line">h i g k l m n o</span><br><span class="line">output: [a, b, c, h, i, k, l, m, n, o, g, c] boundry value list</span><br></pre></td></tr></table></figure>

<h3 id="FeedBack-1"><a href="#FeedBack-1" class="headerlink" title="FeedBack"></a>FeedBack</h3><ol>
<li>Clarifying question, is binary tree, BST, is there special rules, balanced tree, duplicate value node?</li>
<li>Clarify your approach before coding, talk about time space, think about edge cases.</li>
<li>Eyeball the code. Comment if possible, visilize the data.</li>
<li>If you have multiple approach1,2. You can specify that and make a compare, trade off why you want to do this way.</li>
</ol>
<h2 id="Cutting-a-Rod-DP-13"><a href="#Cutting-a-Rod-DP-13" class="headerlink" title="Cutting a Rod | DP-13"></a><a href="https://www.geeksforgeeks.org/cutting-a-rod-dp-13/" target="_blank" rel="noopener">Cutting a Rod | DP-13</a></h2><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><p>Given a rod of length n inches and an array of prices that contains prices of all pieces of size smaller than n. Determine the maximum value obtainable by cutting up the rod and selling the pieces. For example, if length of the rod is 8 and the values of different pieces are given as following, then the maximum obtainable value is 22 (by cutting in two pieces of lengths 2 and 6) </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">length   | <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>  </span><br><span class="line">--------------------------------------------</span><br><span class="line">price    | <span class="number">1</span>   <span class="number">5</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">17</span>  <span class="number">17</span>  <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>And if the prices are as following, then the maximum obtainable value is 24 (by cutting in eight pieces of length 1) </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">length   | <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span>   <span class="number">4</span>   <span class="number">5</span>   <span class="number">6</span>   <span class="number">7</span>   <span class="number">8</span>  </span><br><span class="line">--------------------------------------------</span><br><span class="line">price    | <span class="number">3</span>   <span class="number">5</span>   <span class="number">8</span>   <span class="number">9</span>  <span class="number">10</span>  <span class="number">17</span>  <span class="number">17</span>  <span class="number">20</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// // A Naive recursive solution for Rod cutting problem </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RodCutting</span> </span></span><br><span class="line"><span class="class"></span>&#123; </span><br><span class="line">	<span class="comment">/* Returns the best obtainable price for a rod of length </span></span><br><span class="line"><span class="comment">	n and price[] as prices of different pieces */</span></span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">cutRod</span><span class="params">(<span class="keyword">int</span> price[], <span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">if</span> (n &lt;= <span class="number">0</span>) </span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">		<span class="keyword">int</span> max_val = Integer.MIN_VALUE; </span><br><span class="line"></span><br><span class="line">		<span class="comment">// Recursively cut the rod in different pieces and </span></span><br><span class="line">		<span class="comment">// compare different configurations </span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;n; i++) </span><br><span class="line">			max_val = Math.max(max_val, </span><br><span class="line">							price[i] + cutRod(price, n-i-<span class="number">1</span>)); </span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> max_val; </span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/* Driver program to test above functions */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">17</span>, <span class="number">17</span>, <span class="number">20</span>&#125;; </span><br><span class="line">		<span class="keyword">int</span> size = arr.length; </span><br><span class="line">		System.out.println(<span class="string">"Maximum Obtainable Value is "</span>+ </span><br><span class="line">							cutRod(arr, size)); </span><br><span class="line"></span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">/* This code is contributed by Rajat Mishra */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A Dynamic Programming solution for Rod cutting problem </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RodCutting</span> </span></span><br><span class="line"><span class="class"></span>&#123; </span><br><span class="line">	<span class="comment">/* Returns the best obtainable price for a rod of </span></span><br><span class="line"><span class="comment">	length n and price[] as prices of different pieces */</span></span><br><span class="line">	<span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">cutRod</span><span class="params">(<span class="keyword">int</span> price[],<span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">int</span> val[] = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>]; </span><br><span class="line">		val[<span class="number">0</span>] = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line">		<span class="comment">// Build the table val[] in bottom up manner and return </span></span><br><span class="line">		<span class="comment">// the last entry from the table </span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;=n; i++) </span><br><span class="line">		&#123; </span><br><span class="line">			<span class="keyword">int</span> max_val = Integer.MIN_VALUE; </span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) </span><br><span class="line">				max_val = Math.max(max_val, </span><br><span class="line">								price[j] + val[i-j-<span class="number">1</span>]); </span><br><span class="line">			val[i] = max_val; </span><br><span class="line">		&#125; </span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> val[n]; </span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/* Driver program to test above functions */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span></span><br><span class="line"><span class="function">	</span>&#123; </span><br><span class="line">		<span class="keyword">int</span> arr[] = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">17</span>, <span class="number">17</span>, <span class="number">20</span>&#125;; </span><br><span class="line">		<span class="keyword">int</span> size = arr.length; </span><br><span class="line">		System.out.println(<span class="string">"Maximum Obtainable Value is "</span> + </span><br><span class="line">							cutRod(arr, size)); </span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">/* This code is contributed by Rajat Mishra */</span></span><br></pre></td></tr></table></figure>

<h2 id="Mock1-Top-K-Frequent-Elementsâ­"><a href="#Mock1-Top-K-Frequent-Elementsâ­" class="headerlink" title="Mock1 Top K Frequent Elementsâ­"></a><a href="https://leetcode.com/problems/top-k-frequent-elements/description/" target="_blank" rel="noopener">Mock1 Top K Frequent Elementsâ­</a></h2><p>Question(s) asked : Given a non-empty array of integers, return the k most frequent elements</p>
<h3 id="Before-coding"><a href="#Before-coding" class="headerlink" title="Before coding:"></a>Before coding:</h3><ol>
<li>Reading question.</li>
<li><strong>First consider a brute force</strong> or a naive way to solve it. And briefly analyze the time/space complexity.</li>
<li>Then talk about the approach. But, choose a data structure and why, make a improvement. Heap. N log k</li>
<li>Ask the feedback, thatâ€™s best we can get? I just want to make sure that is the correct direction before start coding.</li>
</ol>
<h3 id="While-coding"><a href="#While-coding" class="headerlink" title="While coding:"></a>While coding:</h3><ol>
<li><strong>Coding with speaking. And organized.</strong></li>
<li>Write function header, based on input, output</li>
<li>First thing create a dictionary, and then I am gonna look through everything here. Then coding..</li>
<li>And now I need a pq, inside of pq, what do I want? I am gonna need xxx. Then coding..</li>
<li>Next thing I am gonna do is xxx. Then coding..</li>
<li>And I have an array for my result</li>
</ol>
<h3 id="After-Coding"><a href="#After-Coding" class="headerlink" title="After Coding:"></a>After Coding:</h3><ol>
<li><strong>Analyze : time complexity/ Space complexity.</strong></li>
<li>Each loop part analyze the time complexity, and finally totally overall time complexity will be xx.</li>
</ol>
<h3 id="Follow-up-can-we-do-this-O-n-time"><a href="#Follow-up-can-we-do-this-O-n-time" class="headerlink" title="Follow up:  can we do this O(n) time?"></a>Follow up:  can we do this O(n) time?</h3><ol>
<li>The only thing I can think on top of my head is if input xxx, maybe we can use a bucket sort.</li>
<li>If interviewer saying some hint, thank you for pointing me.</li>
<li>Make a examples, use a bucket to represent the frequency of element</li>
<li>Let use an example in line xx, allocate an array with space of n at most</li>
<li>Shall we try some code?</li>
</ol>
<h2 id="Mock2-Next-largest-in-BST"><a href="#Mock2-Next-largest-in-BST" class="headerlink" title="Mock2 Next largest in BST"></a>Mock2 Next largest in BST</h2><h3 id="Inorder-Successor-in-BSTâ­"><a href="#Inorder-Successor-in-BSTâ­" class="headerlink" title="Inorder Successor in BSTâ­"></a><a href="https://leetcode.com/problems/inorder-successor-in-bst/" target="_blank" rel="noopener">Inorder Successor in BSTâ­</a></h3><h3 id="Before-coding-1"><a href="#Before-coding-1" class="headerlink" title="Before coding:"></a>Before coding:</h3><ol>
<li><p>I am just doing an example make sure I understand the problem.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">      <span class="number">5</span></span><br><span class="line">     / \</span><br><span class="line">    /   \</span><br><span class="line">   <span class="number">3</span>     <span class="number">7</span></span><br><span class="line">  / \   / \</span><br><span class="line"> /   \ /   \</span><br><span class="line"><span class="number">2</span>    <span class="number">4</span> <span class="number">6</span>    <span class="number">8</span></span><br><span class="line">Given <span class="number">5</span> -&gt; <span class="number">6</span></span><br><span class="line">Gived <span class="number">6</span> -&gt; <span class="number">7</span></span><br><span class="line">Gived <span class="number">8</span> -&gt; none</span><br><span class="line"><span class="comment">//think about the edge case</span></span><br><span class="line">          </span><br><span class="line">Continue to write pseudo-code before coding it out, it still seems to help a lot by being a bridge between translating thoughts into implementation.</span><br></pre></td></tr></table></figure>
</li>
<li><p>Assume BST well formed</p>
</li>
<li><p>So if I think any other edge case I will keep track here.</p>
</li>
<li><p>So I think there is couple of cases here.</p>
</li>
<li><p>First a brute force solution: traverse in-order, store each node in output list. Traverse list &amp; return node after given node. Time :O(n) Space: O(n) we need to traverse and also need to store</p>
</li>
<li><p>BCR(best conceivable runtime) for a time perspective is to hit, we should able to do some binary search, we shouldnâ€™t have to traverse every single node. So I think itâ€™s feasible to shoot for somethink like O(log n). Depend on what we implement if recursively space will be O(log n), iterative approach will be O(1) space.</p>
</li>
<li><p>Walking through the example</p>
</li>
<li><p>Cases: </p>
<ol>
<li>search node has right child -&gt; get smallest element in right subtree</li>
<li>node has no children -&gt; return parent, because it will be next larger element</li>
<li>Search node has no children -&gt; return None</li>
</ol>
</li>
</ol>
<h3 id="Object-oriented-interview"><a href="#Object-oriented-interview" class="headerlink" title="Object-oriented interview"></a>Object-oriented interview</h3><p>Behavioral and OOD concepts</p>
<p>System grokking the system design interview online course</p>
<p>github online  repo</p>
<p><a href="https://github.com/RickSayd/navigating-system-design" target="_blank" rel="noopener">https://github.com/RickSayd/navigating-system-design</a></p>
<p><a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener">https://github.com/donnemartin/system-design-primer</a></p>
<p>Youtube channel success in tech</p>
<p><a href="https://www.youtube.com/channel/UC-vYrOAmtrx9sBzJAf3x_xw" target="_blank" rel="noopener">https://www.youtube.com/channel/UC-vYrOAmtrx9sBzJAf3x_xw</a></p>
<p>Behavioral</p>
<p>practicing with mock interviews and really working with your stories make sure fit the start format in behavior and impactor action and result</p>
<h3 id="While-coding-1"><a href="#While-coding-1" class="headerlink" title="While coding:"></a>While coding:</h3><h3 id="After-Coding-1"><a href="#After-Coding-1" class="headerlink" title="After Coding:"></a>After Coding:</h3><h3 id="Follow-up-1"><a href="#Follow-up-1" class="headerlink" title="Follow up:"></a>Follow up:</h3><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>requirement</p>
<p>phototype, small </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/11/15/leetcode%20125/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/15/leetcode%20125/" class="post-title-link" itemprop="url">leetcode 125</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-15 11:54:49 / ä¿®æ”¹æ—¶é—´ï¼š12:22:42" itemprop="dateCreated datePublished" datetime="2020-11-15T11:54:49+09:00">2020-11-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/28/Princeton%20Algorithms%20week4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/28/Princeton%20Algorithms%20week4/" class="post-title-link" itemprop="url">Princeton Algorithms week4</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-28 22:20:53" itemprop="dateCreated datePublished" datetime="2020-10-28T22:20:53+09:00">2020-10-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week4"><a href="#Princeton-Algorithms-week4" class="headerlink" title="Princeton Algorithms week4"></a>Princeton Algorithms week4</h1><p>Programming Assignment: <a href="https://coursera.cs.princeton.edu/algs4/assignments/8puzzle/specification.php" target="_blank" rel="noopener"><strong><code>8-Puzzle</code></strong></a></p>
<p>Your programming assignment is to implement the famous A* search algorithm to solve a combinatorial problem, and to substantially speed it up with an efficient priority queue implementation.</p>
<p><strong>Job Interview Questions.</strong> Algorithmic interview questions based on the lecture material.</p>
<p><strong>Suggested Readings.</strong> <strong><code>Section 2.4, 3.1</code></strong>, and <strong><code>3.2</code></strong> in <em>Algorithms, 4th edition</em>.</p>
<p><strong>Suggested Readings.</strong> <strong><code>Section 2.2</code></strong> and <strong><code>2.3</code></strong> in <em>Algorithms, 4th edition</em>.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/28/Princeton%20Algorithms%20week4/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/21/Princeton%20Algorithms%20week3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/21/Princeton%20Algorithms%20week3/" class="post-title-link" itemprop="url">Princeton Algorithms week3</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-21 20:01:06" itemprop="dateCreated datePublished" datetime="2020-10-21T20:01:06+09:00">2020-10-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-27 15:31:47" itemprop="dateModified" datetime="2020-10-27T15:31:47+09:00">2020-10-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week3"><a href="#Princeton-Algorithms-week3" class="headerlink" title="Princeton Algorithms week3"></a>Princeton Algorithms week3</h1><p><strong>Suggested Readings.</strong> <strong><code>Section 2.2</code></strong> and <strong><code>2.3</code></strong> in <em>Algorithms, 4th edition</em>.</p>
<p><a href="https://coursera.cs.princeton.edu/algs4/assignments/collinear/specification.php" target="_blank" rel="noopener">assignment</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/21/Princeton%20Algorithms%20week3/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/14/Searching/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/14/Searching/" class="post-title-link" itemprop="url">Searching</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-14 19:01:23" itemprop="dateCreated datePublished" datetime="2020-10-14T19:01:23+09:00">2020-10-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-02-08 21:47:52" itemprop="dateModified" datetime="2021-02-08T21:47:52+09:00">2021-02-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h1><h1 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h1><p><img src="https://camo.githubusercontent.com/17135f6479126d3322eb4c81746c7b7693f8f34b/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f39353930333837382d373235622d346564392d626465642d6263346161653037393261392e6a7067" alt=""></p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸€å±‚ä¸€å±‚åœ°è¿›è¡Œéå†ï¼Œæ¯å±‚éå†éƒ½æ˜¯ä»¥ä¸Šä¸€å±‚éå†çš„ç»“æœä½œä¸ºèµ·ç‚¹ï¼Œéå†ä¸€ä¸ªè·ç¦»èƒ½è®¿é—®åˆ°çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéå†è¿‡çš„èŠ‚ç‚¹ä¸èƒ½å†æ¬¡è¢«éå†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€å±‚ï¼š</span><br><span class="line">- <span class="number">0</span> -&gt; &#123;<span class="number">6</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒå±‚ï¼š</span><br><span class="line">- <span class="number">6</span> -&gt; &#123;<span class="number">4</span>&#125;</span><br><span class="line">- <span class="number">2</span> -&gt; &#123;&#125;</span><br><span class="line">- <span class="number">1</span> -&gt; &#123;&#125;</span><br><span class="line">- <span class="number">5</span> -&gt; &#123;<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸‰å±‚ï¼š</span><br><span class="line">- <span class="number">4</span> -&gt; &#123;&#125;</span><br><span class="line">- <span class="number">3</span> -&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€å±‚éå†çš„èŠ‚ç‚¹éƒ½ä¸æ ¹èŠ‚ç‚¹è·ç¦»ç›¸åŒã€‚è®¾ di è¡¨ç¤ºç¬¬ i ä¸ªèŠ‚ç‚¹ä¸æ ¹èŠ‚ç‚¹çš„è·ç¦»ï¼Œæ¨å¯¼å‡ºä¸€ä¸ªç»“è®ºï¼šå¯¹äºå…ˆéå†çš„èŠ‚ç‚¹ i ä¸åéå†çš„èŠ‚ç‚¹ jï¼Œæœ‰ di &lt;= djã€‚</p>
<p>åˆ©ç”¨è¿™ä¸ªç»“è®ºï¼Œå¯ä»¥æ±‚è§£æœ€çŸ­è·¯å¾„ç­‰ <strong>æœ€ä¼˜è§£</strong> é—®é¢˜ï¼šç¬¬ä¸€æ¬¡éå†åˆ°ç›®çš„èŠ‚ç‚¹ï¼Œå…¶æ‰€ç»è¿‡çš„è·¯å¾„ä¸ºæœ€çŸ­è·¯å¾„ã€‚</p>
<p>åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ BFS åªèƒ½æ±‚è§£æ— æƒå›¾çš„æœ€çŸ­è·¯å¾„ï¼Œæ— æƒå›¾æ˜¯æŒ‡ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„ä»£ä»·éƒ½è®°ä¸º 1ã€‚</p>
<p>åœ¨ç¨‹åºå®ç° BFS æ—¶éœ€è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>é˜Ÿåˆ—ï¼šç”¨æ¥å­˜å‚¨æ¯ä¸€è½®éå†å¾—åˆ°çš„èŠ‚ç‚¹ï¼›</li>
<li>æ ‡è®°ï¼šå¯¹äºéå†è¿‡çš„èŠ‚ç‚¹ï¼Œåº”è¯¥å°†å®ƒæ ‡è®°ï¼Œé˜²æ­¢é‡å¤éå†ã€‚</li>
</ul>
<h2 id="547-Number-of-Provincesâ­"><a href="#547-Number-of-Provincesâ­" class="headerlink" title="547. Number of Provincesâ­"></a><a href="https://leetcode.com/problems/number-of-provinces/" target="_blank" rel="noopener">547. Number of Provincesâ­</a></h2><p>There are <code>n</code> cities. Some of them are connected, while some are not. If city <code>a</code> is connected directly with city <code>b</code>, and city <code>b</code> is connected directly with city <code>c</code>, then city <code>a</code> is connected indirectly with city <code>c</code>.</p>
<p>A <strong>province</strong> is a group of directly or indirectly connected cities and no other cities outside of the group.</p>
<p>You are given an <code>n x n</code> matrix <code>isConnected</code> where <code>isConnected[i][j] = 1</code> if the <code>ith</code> city and the <code>jth</code> city are directly connected, and <code>isConnected[i][j] = 0</code> otherwise.</p>
<p>Return <em>the total number of *</em>provinces***.</p>
<p><img src="https://assets.leetcode.com/uploads/2020/12/24/graph1.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: isConnected = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">Output: <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> n = isConnected.length;</span><br><span class="line">    <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(visited[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            dfs(i, visited, isConnected);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span>[] visited, <span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//find all connection and mark it has been visited(include itselt)</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; isConnected.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (isConnected[i][j] == <span class="number">1</span> &amp;&amp; visited[j] == <span class="number">0</span>) &#123;</span><br><span class="line">            visited[j] = -<span class="number">1</span>;</span><br><span class="line">            dfs(j, visited, isConnected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] visited = <span class="keyword">new</span> <span class="keyword">int</span>[isConnected.length];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; isConnected.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            ans++;</span><br><span class="line">            dfs(i, visited, isConnected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> city, <span class="keyword">int</span>[] visited, <span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    visited[city] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; isConnected.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[i] == <span class="number">0</span> &amp;&amp; isConnected[i][city] == <span class="number">1</span>) &#123;</span><br><span class="line">            visited[i] = <span class="number">1</span>;</span><br><span class="line">            dfs(i, visited, isConnected);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Union Find</li>
<li>This is a typical <code>Union Find</code> problem - a similar problem is <a href="https://leetcode.com/problems/graph-valid-tree/" target="_blank" rel="noopener">Graph Valid Tree</a><br>A bit advanced Union Find problems are <a href="https://leetcode.com/problems/number-of-islands-ii/#/description" target="_blank" rel="noopener">Number of Islands II</a> and <a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/#/description" target="_blank" rel="noopener">Number of Connected Components</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = M.length, cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span>[] root = <span class="keyword">new</span> <span class="keyword">int</span>[m]; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) root[i] = i; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; m; j++)</span><br><span class="line">            <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) unionFind(root, i, j);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        <span class="keyword">if</span> (i == root[i]) cnt++;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unionFind</span> <span class="params">(<span class="keyword">int</span>[] root, <span class="keyword">int</span> v1, <span class="keyword">int</span> v2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (root[v1] != v1) v1 = root[v1]; <span class="comment">//find v1's root</span></span><br><span class="line">    <span class="keyword">while</span> (root[v2] != v2) v2 = root[v2]; <span class="comment">//find v2's root</span></span><br><span class="line">    <span class="keyword">if</span> (root[v1] != root[v2]) root[v2] = v1; <span class="comment">//unite the 2 subtrees </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] parent, rank;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        count = n;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (p != parent[p]) &#123;</span><br><span class="line">            parent[p] = parent[parent[p]];    <span class="comment">// path compression by halving</span></span><br><span class="line">            p = parent[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootP = find(p);</span><br><span class="line">        <span class="keyword">int</span> rootQ = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootP == rootQ) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (rank[rootQ] &gt; rank[rootP]) &#123;</span><br><span class="line">            parent[rootP] = rootQ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            parent[rootQ] = rootP;</span><br><span class="line">            <span class="keyword">if</span> (rank[rootP] == rank[rootQ]) &#123;</span><br><span class="line">                rank[rootP]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = M.length;</span><br><span class="line">    UnionFind uf = <span class="keyword">new</span> UnionFind(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) uf.union(i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> uf.count();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Old-version-547-Friend-Circles"><a href="#Old-version-547-Friend-Circles" class="headerlink" title="Old version 547. Friend Circles"></a>Old version 547. Friend Circles</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">2</span></span><br><span class="line"></span><br><span class="line">Explanation:The <span class="number">0</span>th and <span class="number">1</span>st students are direct friends, so they are in a friend circle.</span><br><span class="line">The <span class="number">2</span>nd student himself is in a friend circle. So <span class="keyword">return</span> <span class="number">2</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>é¢˜ç›®æè¿°ï¼šå¥½å‹å…³ç³»å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œä¾‹å¦‚ç¬¬ 0 ä¸ªäººä¸ç¬¬ 1 ä¸ªäººæ˜¯å¥½å‹ï¼Œé‚£ä¹ˆ M[0] [1] å’Œ M[1] [0] çš„å€¼éƒ½ä¸º 1ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</span><br><span class="line">    n = M.length;</span><br><span class="line">    <span class="keyword">int</span> circleNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] hasVisited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!hasVisited[i]) &#123;</span><br><span class="line">            dfs(M, i, hasVisited);</span><br><span class="line">            circleNum++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> circleNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] M, <span class="keyword">int</span> i, <span class="keyword">boolean</span>[] hasVisited)</span> </span>&#123;</span><br><span class="line">    hasVisited[i] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (M[i][k] == <span class="number">1</span> &amp;&amp; !hasVisited[k]) &#123;</span><br><span class="line">            dfs(M, k, hasVisited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Rotting-Orangesâ­"><a href="#Rotting-Orangesâ­" class="headerlink" title="Rotting Orangesâ­"></a><a href="https://leetcode.com/problems/rotting-oranges/" target="_blank" rel="noopener">Rotting Orangesâ­</a></h2><p><img src="https://assets.leetcode.com/uploads/2019/02/16/oranges.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: [[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">Output: <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-2"><a href="#Solution1-2" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>One of the most distinguished code patterns in BFS algorithms is that often we use a <strong><em>queue</em></strong> data structure to keep track of the candidates that we need to visit during the process.</p>
<p>The main algorithm is built around a loop iterating through the queue. At each iteration, we <em>pop</em> out an element from the head of the queue. Then we do some particular process with the popped element. More importantly, we then <em>append</em> neighbors of the popped element into the queue, to keep the BFS process running.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">orangesRotting</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> minutes = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> fresh = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> r = grid.length;</span><br><span class="line">    <span class="keyword">int</span> c = grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">//Put the position of all rotten oranges in queue, count the number of fresh oranges</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; c; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) fresh++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (grid[i][j] == <span class="number">2</span>) queue.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//edge case, if count of fresh oranges is zero --&gt; return 0 </span></span><br><span class="line">    <span class="keyword">if</span> (fresh == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//bfs starting from initially rotten oranges</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextR = cur[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextC = cur[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nextR &lt; <span class="number">0</span> || nextR &gt;= r || nextC &lt; <span class="number">0</span> || nextC &gt;= c || grid[nextR][nextC] != <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//mark the orange at (x , y) as rotten</span></span><br><span class="line">                grid[nextR][nextC] = <span class="number">2</span>;</span><br><span class="line">                <span class="comment">//decrease the count of fresh oranges by 1</span></span><br><span class="line">                fresh--;</span><br><span class="line">                <span class="comment">//put the new rotten orange at (x , y) in queue</span></span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nextR, nextC&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        minutes++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//node result is minute - 1</span></span><br><span class="line">    <span class="keyword">return</span> fresh == <span class="number">0</span> ? minutes - <span class="number">1</span> : -<span class="number">1</span>;  <span class="comment">//last step do not increase minutes so -1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="127-Word-Ladderâ­ğŸ’œ"><a href="#127-Word-Ladderâ­ğŸ’œ" class="headerlink" title="127. Word Ladderâ­ğŸ’œ"></a><a href="https://leetcode.com/problems/word-ladder/description/" target="_blank" rel="noopener">127. Word Ladderâ­ğŸ’œ</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">"hit"</span>,</span><br><span class="line">endWord = <span class="string">"cog"</span>,</span><br><span class="line">wordList = [<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>,<span class="string">"cog"</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">5</span></span><br><span class="line"></span><br><span class="line">Explanation: As one shortest transformation is <span class="string">"hit"</span> -&gt; <span class="string">"hot"</span> -&gt; <span class="string">"dot"</span> -&gt; <span class="string">"dog"</span> -&gt; <span class="string">"cog"</span>,</span><br><span class="line"><span class="keyword">return</span> its length <span class="number">5</span>.</span><br><span class="line">    </span><br><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">"hit"</span></span><br><span class="line">endWord = <span class="string">"cog"</span></span><br><span class="line">wordList = [<span class="string">"hot"</span>,<span class="string">"dot"</span>,<span class="string">"dog"</span>,<span class="string">"lot"</span>,<span class="string">"log"</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Explanation: The endWord <span class="string">"cog"</span> is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure>

<p><img src="https://leetcode.com/problems/word-ladder/Figures/127/Word_Ladder_1.png" alt=""></p>
<p>é¢˜ç›®æè¿°ï¼šæ‰¾å‡ºä¸€æ¡ä» beginWord åˆ° endWord çš„æœ€çŸ­è·¯å¾„ï¼Œæ¯æ¬¡ç§»åŠ¨è§„å®šä¸ºæ”¹å˜ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”æ”¹å˜ä¹‹åçš„å­—ç¬¦ä¸²å¿…é¡»åœ¨ wordList ä¸­ã€‚</p>
<h3 id="Solution1-3"><a href="#Solution1-3" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>æ€è·¯ï¼šBFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰å› ä¸ºåªè¦æ‰¾æœ€çŸ­çš„å¯èƒ½ï¼Œæ‰€ä»¥æ¯æ¬¡åªæ‰¾ä¸‹ä¸€å±‚çš„æ‰€æœ‰å¯èƒ½ï¼Œå†ä¸€å±‚å±‚é€’è¿›ï¼Œç›´åˆ° æ‰¾åˆ°ã€‚å’Œå¹¿åº¦ä¼˜å…ˆéå†ç±»ä¼¼ï¼Œä½¿ç”¨ä¸€ä¸ª Set ç¼“å­˜ä¸‹ä¸€å±‚å¯èƒ½çš„è¯ï¼Œç„¶ååˆ°ä¸‹ä¸€å±‚é€ä¸€è¯•ã€‚</p>
</li>
<li><p>Time Complexity: O<em>(</em>M^2Ã—N), where Mis the length of each word and N is the total number of words in the input word list.</p>
<p>pace Complexity: O<em>(</em>M^2Ã—N).</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (beginWord.equals(endWord)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">1</span>;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(beginWord);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span>[] current = queue.poll().toCharArray();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; current.length; j++) &#123;</span><br><span class="line">                <span class="keyword">char</span> pre = current[j];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; c++) &#123;</span><br><span class="line">                    current[j] = c;</span><br><span class="line">                    <span class="comment">//char[] -&gt; Stirng : use new String(chars) | String.valueOf(chars)</span></span><br><span class="line">                    String next = <span class="keyword">new</span> String(current);</span><br><span class="line">                    <span class="comment">//when the changed word contained in the wordlist</span></span><br><span class="line">                    <span class="keyword">if</span> (set.contains(next)) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (next.equals(endWord)) &#123;</span><br><span class="line">                            <span class="keyword">return</span> steps + <span class="number">1</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        set.remove(next);</span><br><span class="line">                        queue.add(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//undo the change for next position character</span></span><br><span class="line">                current[j] = pre;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsolved-126-Word-Ladder-IIâ­"><a href="#Unsolved-126-Word-Ladder-IIâ­" class="headerlink" title="Unsolved 126. Word Ladder IIâ­"></a><a href="https://leetcode.com/problems/word-ladder-ii/" target="_blank" rel="noopener">Unsolved 126. Word Ladder IIâ­</a></h3><h3 id="Solution1-4"><a href="#Solution1-4" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>The basic idea is:</p>
<p>1). Use BFS to find the shortest distance between start and end, tracing the distance of crossing nodes from start node to end node, and store nodeâ€™s next level neighbors to HashMap;</p>
<p>2). Use DFS to output paths with the same distance as the shortest distance from distance HashMap: compare if the distance of the next level node equals the distance of the current node + 1.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String start, String end, List&lt;String&gt; wordList) &#123;</span><br><span class="line">    HashSet&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;String&gt;(wordList);</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();         </span><br><span class="line">    HashMap&lt;String, ArrayList&lt;String&gt;&gt; nodeNeighbors = <span class="keyword">new</span> HashMap&lt;String, ArrayList&lt;String&gt;&gt;();<span class="comment">// Neighbors for every node</span></span><br><span class="line">    HashMap&lt;String, Integer&gt; distance = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();<span class="comment">// Distance of every node from the start node</span></span><br><span class="line">    ArrayList&lt;String&gt; solution = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"></span><br><span class="line">    dict.add(start);          </span><br><span class="line">    bfs(start, end, dict, nodeNeighbors, distance);                 </span><br><span class="line">    dfs(start, end, dict, nodeNeighbors, distance, solution, res);   </span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BFS: Trace every node's distance from the start node (level by level).</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String start, </span></span></span><br><span class="line"><span class="function"><span class="params">                 String end, </span></span></span><br><span class="line"><span class="function"><span class="params">                 Set&lt;String&gt; dict, </span></span></span><br><span class="line"><span class="function"><span class="params">                 HashMap&lt;String, ArrayList&lt;String&gt;&gt; nodeNeighbors, </span></span></span><br><span class="line"><span class="function"><span class="params">                 HashMap&lt;String, Integer&gt; distance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (String str : dict)</span><br><span class="line">        nodeNeighbors.put(str, <span class="keyword">new</span> ArrayList&lt;String&gt;());</span><br><span class="line"></span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">    queue.offer(start);</span><br><span class="line">    distance.put(start, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> count = queue.size();</span><br><span class="line">        <span class="keyword">boolean</span> foundEnd = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">            String cur = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> curDistance = distance.get(cur);                </span><br><span class="line">            ArrayList&lt;String&gt; neighbors = getNeighbors(cur, dict);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (String neighbor : neighbors) &#123;</span><br><span class="line">                nodeNeighbors.get(cur).add(neighbor);</span><br><span class="line">                <span class="keyword">if</span> (!distance.containsKey(neighbor)) &#123;<span class="comment">// Check if visited</span></span><br><span class="line">                    distance.put(neighbor, curDistance + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (end.equals(neighbor))<span class="comment">// Found the shortest path</span></span><br><span class="line">                        foundEnd = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        queue.offer(neighbor);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (foundEnd)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Find all next level nodes.    </span></span><br><span class="line"><span class="function"><span class="keyword">private</span> ArrayList&lt;String&gt; <span class="title">getNeighbors</span><span class="params">(String node, Set&lt;String&gt; dict)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    <span class="keyword">char</span> chs[] = node.toCharArray();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> ch =<span class="string">'a'</span>; ch &lt;= <span class="string">'z'</span>; ch++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; chs.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (chs[i] == ch) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">char</span> old_ch = chs[i];</span><br><span class="line">            chs[i] = ch;</span><br><span class="line">            <span class="keyword">if</span> (dict.contains(String.valueOf(chs))) &#123;</span><br><span class="line">                res.add(String.valueOf(chs));</span><br><span class="line">            &#125;</span><br><span class="line">            chs[i] = old_ch;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// DFS: output all paths with the shortest distance.</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String cur, String end, Set&lt;String&gt; dict, HashMap&lt;String, ArrayList&lt;String&gt;&gt; nodeNeighbors, HashMap&lt;String, Integer&gt; distance, ArrayList&lt;String&gt; solution, List&lt;List&lt;String&gt;&gt; res)</span> </span>&#123;</span><br><span class="line">    solution.add(cur);</span><br><span class="line">    <span class="keyword">if</span> (end.equals(cur)) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> ArrayList&lt;String&gt;(solution));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (String next : nodeNeighbors.get(cur)) &#123;            </span><br><span class="line">            <span class="keyword">if</span> (distance.get(next) == distance.get(cur) + <span class="number">1</span>) &#123;</span><br><span class="line">                dfs(next, end, dict, nodeNeighbors, distance, solution, res);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;           </span><br><span class="line">    solution.remove(solution.size() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * High level design: BFS + DFS</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Step 1: use BFS to build graph (adjacency list of each word), as well as calculating distance from beginWord to </span></span><br><span class="line"><span class="comment"> * each node in the graph (should store minimum distance)</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * Step 2: use DFS to traverse and record path from beginWord to endWord with shortest path. We can use distance map</span></span><br><span class="line"><span class="comment"> * to control every next word. </span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String beginWord, String endWord, List&lt;String&gt; wordList) &#123;</span><br><span class="line">    <span class="keyword">if</span> (wordList.size() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> result: result list to store final return list</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graph: adjacency list of key - store all neighbors of each word (neighbor means all words in dictionary </span></span><br><span class="line"><span class="comment">     *             that only has one character difference with key)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> distance: distance between beginWord and current key word, used for tracing path when we do DFS</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dict: word dictionary, efficient for searching purpose</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    List&lt;List&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Map&lt;String, Set&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;String, Integer&gt; distance = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; dict = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line"></span><br><span class="line">    bfs(beginWord, endWord, dict, graph, distance);</span><br><span class="line">    dfs(result, graph, distance, endWord, beginWord, <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(beginWord)));</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step 1</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String beginWord, String endWord, Set&lt;String&gt; dict, Map&lt;String, Set&lt;String&gt;&gt; graph, Map&lt;String, Integer&gt; distance)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(beginWord);</span><br><span class="line">    distance.put(beginWord, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">boolean</span> reachEnd = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            String curWord = queue.poll();</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* try all possible substitution (26 characters) in every position of current word, if newWord exists in dictionary, </span></span><br><span class="line"><span class="comment">               we add it to the adjacency list of curWord */</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; curWord.length(); j++) &#123;</span><br><span class="line">                <span class="keyword">char</span>[] curWordArr = curWord.toCharArray();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'a'</span>; c &lt;= <span class="string">'z'</span>; c++) &#123;</span><br><span class="line">                    curWordArr[j] = c;</span><br><span class="line">                    String newWord = <span class="keyword">new</span> String(curWordArr);</span><br><span class="line">                    <span class="keyword">if</span> (dict.contains(newWord)) &#123;</span><br><span class="line">                        graph.putIfAbsent(curWord, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">                        graph.get(curWord).add(newWord);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// traverse all neighbors of current word, update distance map and queue for next ladder (level)</span></span><br><span class="line">            <span class="comment">// WARNING: DO NOT USE visited set, since it is hard to deal with end word if endWord is visited</span></span><br><span class="line">            <span class="keyword">for</span> (String neighbor : graph.get(curWord)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!distance.containsKey(neighbor)) &#123;</span><br><span class="line">                    distance.put(neighbor, distance.get(curWord) + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (neighbor.equals(endWord)) &#123;</span><br><span class="line">                        reachEnd = <span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        queue.offer(neighbor);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (reachEnd) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// step 2</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;String&gt;&gt; result, Map&lt;String, Set&lt;String&gt;&gt; graph, Map&lt;String, Integer&gt; distance,</span></span></span><br><span class="line"><span class="function"><span class="params">                String endWord, String curWord, List&lt;String&gt; tempList)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (curWord.equals(endWord)) &#123;</span><br><span class="line">        result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tempList));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (String nextWord : graph.get(curWord)) &#123;</span><br><span class="line">        <span class="comment">// only if next node is on the minimum path to the endWord, we can traverse it</span></span><br><span class="line">        <span class="keyword">if</span> (distance.get(nextWord) == distance.get(curWord) + <span class="number">1</span>) &#123;</span><br><span class="line">            tempList.add(nextWord);</span><br><span class="line">            dfs(result, graph, distance, endWord, nextWord, tempList);</span><br><span class="line">            tempList.remove(tempList.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="675-Cut-Off-Trees-for-Golf-Eventâ­"><a href="#675-Cut-Off-Trees-for-Golf-Eventâ­" class="headerlink" title="675. Cut Off Trees for Golf Eventâ­"></a><a href="https://leetcode.com/problems/cut-off-trees-for-golf-event/" target="_blank" rel="noopener">675. Cut Off Trees for Golf Eventâ­</a></h2><p><img src="https://assets.leetcode.com/uploads/2020/11/26/trees1.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: forest = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">4</span>],[<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]]</span><br><span class="line">Output: <span class="number">6</span></span><br><span class="line">Explanation: Following the path above allows you to cut off the trees from shortest to tallest in <span class="number">6</span> steps.</span><br></pre></td></tr></table></figure>

<p><img src="https://assets.leetcode.com/uploads/2020/11/26/trees2.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: forest = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>]]</span><br><span class="line">Output: -<span class="number">1</span></span><br><span class="line">Explanation: The trees in the bottom row cannot be accessed as the middle row is blocked.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-5"><a href="#Solution1-5" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Since we have to cut trees in order of their height, we first put trees (int[] {row, col, height}) into a priority queue and sort by height.</li>
<li>Poll each tree from the queue and use BFS to find out steps needed.</li>
<li>The worst case time complexity could be O(m^2 * n^2) (m = number of rows, n = number of columns) since there are m * n trees and for each BFS worst case time complexity is O(m * n) too.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span>[][] dir = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">cutOffTree</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; forest)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (forest == <span class="keyword">null</span> || forest.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> m = forest.size(), n = forest.get(<span class="number">0</span>).size();</span><br><span class="line"></span><br><span class="line">    PriorityQueue&lt;<span class="keyword">int</span>[]&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; a[<span class="number">2</span>] - b[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (forest.get(i).get(j) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                pq.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j, forest.get(i).get(j)&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] start = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] tree = pq.poll();</span><br><span class="line">        <span class="keyword">int</span> step = minStep(forest, start, tree, m, n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (step &lt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        sum += step;</span><br><span class="line"></span><br><span class="line">        start[<span class="number">0</span>] = tree[<span class="number">0</span>];</span><br><span class="line">        start[<span class="number">1</span>] = tree[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">minStep</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; forest, <span class="keyword">int</span>[] start, <span class="keyword">int</span>[] tree, <span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    visited[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] curr = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (curr[<span class="number">0</span>] == tree[<span class="number">0</span>] &amp;&amp; curr[<span class="number">1</span>] == tree[<span class="number">1</span>]) <span class="keyword">return</span> step;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : dir) &#123;</span><br><span class="line">                <span class="keyword">int</span> nr = curr[<span class="number">0</span>] + d[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nc = curr[<span class="number">1</span>] + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nr &lt; <span class="number">0</span> || nr &gt;= m || nc &lt; <span class="number">0</span> || nc &gt;= n </span><br><span class="line">                    || forest.get(nr).get(nc) == <span class="number">0</span> || visited[nr][nc]) <span class="keyword">continue</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;nr, nc&#125;);</span><br><span class="line">                visited[nr][nc] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">bfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; forest, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc, <span class="keyword">int</span> tr, <span class="keyword">int</span> tc)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> R = forest.size(), C = forest.get(<span class="number">0</span>).size();</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;sr, sc, <span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">boolean</span>[][] seen = <span class="keyword">new</span> <span class="keyword">boolean</span>[R][C];</span><br><span class="line">    seen[sr][sc] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (cur[<span class="number">0</span>] == tr &amp;&amp; cur[<span class="number">1</span>] == tc) <span class="keyword">return</span> cur[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> di = <span class="number">0</span>; di &lt; <span class="number">4</span>; ++di) &#123;</span><br><span class="line">            <span class="keyword">int</span> r = cur[<span class="number">0</span>] + dr[di];</span><br><span class="line">            <span class="keyword">int</span> c = cur[<span class="number">1</span>] + dc[di];</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">0</span> &lt;= r &amp;&amp; r &lt; R &amp;&amp; <span class="number">0</span> &lt;= c &amp;&amp; c &lt; C &amp;&amp;</span><br><span class="line">                    !seen[r][c] &amp;&amp; forest.get(r).get(c) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                seen[r][c] = <span class="keyword">true</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c, cur[<span class="number">2</span>]+<span class="number">1</span>&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1091-Shortest-Path-in-Binary-MatrixğŸ‚â­"><a href="#1091-Shortest-Path-in-Binary-MatrixğŸ‚â­" class="headerlink" title="1091. Shortest Path in Binary MatrixğŸ‚â­"></a><a href="https://leetcode.com/problems/shortest-path-in-binary-matrix/" target="_blank" rel="noopener">1091. Shortest Path in Binary MatrixğŸ‚â­</a></h2><p><img src="https://assets.leetcode.com/uploads/2019/08/04/example2_2.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br></pre></td></tr></table></figure>

<p>In an N by N square grid, each cell is either empty (0) or blocked (1).</p>
<p>A <em>clear path from top-left to bottom-right</em> has length <code>k</code> if and only if it is composed of cells <code>C_1, C_2, ..., C_k</code> such that:</p>
<ul>
<li>Adjacent cells <code>C_i</code> and <code>C_{i+1}</code> are connected 8-directionally (ie., they are different and share an edge or corner)</li>
<li><code>C_1</code> is at location <code>(0, 0)</code> (ie. has value <code>grid[0][0]</code>)</li>
<li><code>C_k</code> is at location <code>(N-1, N-1)</code> (ie. has value <code>grid[N-1][N-1]</code>)</li>
<li>If <code>C_i</code> is located at <code>(r, c)</code>, then <code>grid[r][c]</code> is empty (ie. <code>grid[r][c] == 0</code>).</li>
</ul>
<p>Return the length of the shortest such clear path from top-left to bottom-right. If such a path does not exist, return -1.</p>
<h3 id="Solition1"><a href="#Solition1" class="headerlink" title="Solition1:"></a>Solition1:</h3><ol>
<li>é¢˜ç›®æè¿°ï¼š0 è¡¨ç¤ºå¯ä»¥ç»è¿‡æŸä¸ªä½ç½®ï¼Œæ±‚è§£ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] direction = &#123;&#123;<span class="number">1</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestPathBinaryMatrix</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = grid.length;</span><br><span class="line">    <span class="keyword">int</span> n = grid[<span class="number">0</span>].length;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//edge case</span></span><br><span class="line">    <span class="keyword">if</span> (grid[<span class="number">0</span>][<span class="number">0</span>] == <span class="number">1</span> || grid[m-<span class="number">1</span>][n-<span class="number">1</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    visited[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>,<span class="number">0</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] pop = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (pop[<span class="number">0</span>] == m-<span class="number">1</span> &amp;&amp; pop[<span class="number">1</span>] == n-<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> ans + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : direction) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextX = d[<span class="number">0</span>] + pop[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextY = d[<span class="number">1</span>] + pop[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (nextX &gt;= <span class="number">0</span> &amp;&amp; nextX &lt; m &amp;&amp; nextY &gt;= <span class="number">0</span> &amp;&amp; nextY &lt; n &amp;&amp; !visited[nextX][nextY] &amp;&amp; grid[nextX][nextY] == <span class="number">0</span>) &#123;</span><br><span class="line">                    queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;nextX,nextY&#125;);</span><br><span class="line">                    visited[nextX][nextY] = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="279-Perfect-Squaresâœ¨"><a href="#279-Perfect-Squaresâœ¨" class="headerlink" title="279.Perfect Squaresâœ¨"></a><a href="https://leetcode.com/problems/perfect-squares/description/" target="_blank" rel="noopener">279.Perfect Squaresâœ¨</a></h2><p>For example, given n = 12, return 3 because 12 = 4 + 4 + 4; given n = 13, return 2 because 13 = 4 + 9.</p>
<p><a href="https://leetcode.com/problems/perfect-squares/discuss/71488/Summary-of-4-different-solutions-(BFS-DP-static-DP-and-mathematics)" target="_blank" rel="noopener">Summary of 4 different solutions (BFS, DP, static DP and mathematics)</a></p>
<h3 id="Solution1-6"><a href="#Solution1-6" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>å¯ä»¥å°†æ¯ä¸ªæ•´æ•°çœ‹æˆå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœä¸¤ä¸ªæ•´æ•°ä¹‹å·®ä¸ºä¸€ä¸ªå¹³æ–¹æ•°ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•´æ•°æ‰€åœ¨çš„èŠ‚ç‚¹å°±æœ‰ä¸€æ¡è¾¹ã€‚</p>
<p>è¦æ±‚è§£æœ€å°çš„å¹³æ–¹æ•°æ•°é‡ï¼Œå°±æ˜¯æ±‚è§£ä»èŠ‚ç‚¹ n åˆ°èŠ‚ç‚¹ 0 çš„æœ€çŸ­è·¯å¾„ã€‚</p>
<p>æœ¬é¢˜ä¹Ÿå¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ï¼Œåœ¨ä¹‹ååŠ¨æ€è§„åˆ’éƒ¨åˆ†ä¸­ä¼šå†æ¬¡å‡ºç°ã€‚</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    q.offer(<span class="number">0</span>);</span><br><span class="line">    visited.add(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> depth = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size();</span><br><span class="line">        depth++;</span><br><span class="line">        <span class="keyword">while</span>(size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> u = q.poll();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i*i &lt;= n; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> v = u+i*i;</span><br><span class="line">                <span class="keyword">if</span>(v == n) &#123;</span><br><span class="line">                    <span class="keyword">return</span> depth;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(v &gt; n) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(v)) &#123;</span><br><span class="line">                    q.offer(v);</span><br><span class="line">                    visited.add(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> depth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-1"><a href="#Solution2-1" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>æ€è·¯ï¼šåŠ¨æ€è§„åˆ’ã€‚å¯»æ‰¾ dp[i]æœ€å°çš„å¯èƒ½æ€§ï¼Œåªè¦å¯»æ‰¾ i å‡å»å¹³æ–¹ä¸º j åŠä»¥ä¸‹çš„æ‰€æœ‰å¯èƒ½å¹³æ–¹æ•°ï¼ˆi-j*jï¼‰çš„å¯èƒ½æ€§+1 ä¸­æœ€å°çš„å€¼ã€‚O(n2 )</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numSquares</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    Arrays.fill(dp, Integer.MAX_VALUE);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j*j &lt;= i; ++j)</span><br><span class="line">            dp[i] = Math.min(dp[i], dp[i-j*j] + <span class="number">1</span>);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="909-Snakes-and-LaddersğŸ‚âœ¨"><a href="#909-Snakes-and-LaddersğŸ‚âœ¨" class="headerlink" title="909. Snakes and LaddersğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/snakes-and-ladders/" target="_blank" rel="noopener">909. Snakes and LaddersğŸ‚âœ¨</a></h2><p><img src="https://assets.leetcode.com/users/lee215/image_1537671763.png" alt=""></p>
<h3 id="Solution1-7"><a href="#Solution1-7" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">snakesAndLadders</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    <span class="comment">// convert 2D array to 1D to make processing more easier</span></span><br><span class="line">    <span class="keyword">int</span>[] flatten = convert2DTo1D(board);</span><br><span class="line">    <span class="keyword">int</span> targetIdx = n * n - <span class="number">1</span>; <span class="comment">// target index to try to reach</span></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> ArrayDeque&lt;&gt;();  <span class="comment">// queue for BFS</span></span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n * n]; <span class="comment">// keep track of which node has been visited</span></span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">0</span>; <span class="comment">// keep track of number of steps (levels) we have gone in BFS</span></span><br><span class="line">    <span class="comment">// add starting node (number 1, index 0) to the queue and start BFS</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start = flatten[<span class="number">0</span>] == -<span class="number">1</span> ? <span class="number">0</span> : flatten[<span class="number">0</span>] - <span class="number">1</span>;</span><br><span class="line">    queue.offer(start);</span><br><span class="line">    visited[start] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// BFS:</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> currIdx = queue.poll();</span><br><span class="line">            <span class="comment">// in case the current index is the index we are looking for</span></span><br><span class="line">            <span class="comment">// return the number of moves used to get there</span></span><br><span class="line">            <span class="keyword">if</span> (currIdx == targetIdx) <span class="keyword">return</span> steps;</span><br><span class="line">            <span class="comment">// consider all numbers from +1 to +6, note that don't go out of bound</span></span><br><span class="line">            <span class="keyword">int</span> upper = Math.min(targetIdx, currIdx + <span class="number">6</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> nextIdx = currIdx + <span class="number">1</span>; nextIdx &lt;= upper; nextIdx++) &#123;</span><br><span class="line">                <span class="comment">// check if the nextIdx is a snake/ladder</span></span><br><span class="line">                <span class="keyword">int</span> dest = flatten[nextIdx] == -<span class="number">1</span> ? nextIdx : flatten[nextIdx] - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// in case the next index is already explored, skip it</span></span><br><span class="line">                <span class="keyword">if</span> (visited[dest]) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="comment">// add next index into the queue and mark it as visited</span></span><br><span class="line">                queue.offer(dest);</span><br><span class="line">                visited[dest] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[] convert2DTo1D(<span class="keyword">int</span>[][] board) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = board.length;</span><br><span class="line">    <span class="comment">// 1D array whose size is n^2</span></span><br><span class="line">    <span class="keyword">int</span>[] rst = <span class="keyword">new</span> <span class="keyword">int</span>[n * n];</span><br><span class="line">    <span class="keyword">boolean</span> leftToRight = <span class="keyword">true</span>; <span class="comment">// order to traverse columns in each row</span></span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// start from the bottom row of 2D array, initially going from left to right</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="comment">// if we need to read columns from left to right</span></span><br><span class="line">            <span class="keyword">if</span> (leftToRight) &#123;</span><br><span class="line">                rst[idx++] = board[i][j];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// if we need to read columns from right to left</span></span><br><span class="line">                rst[idx++] = board[i][n - <span class="number">1</span> - j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// after processing each row, switch the order</span></span><br><span class="line">        leftToRight = !leftToRight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> rst;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-2"><a href="#Solution2-2" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">snakesAndLadders</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = board.length;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, Integer&gt; dist = <span class="keyword">new</span> HashMap();</span><br><span class="line">    dist.put(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    queue.add(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> s = queue.remove();</span><br><span class="line">        <span class="keyword">if</span> (s == N*N) <span class="keyword">return</span> dist.get(s);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> s2 = s+<span class="number">1</span>; s2 &lt;= Math.min(s+<span class="number">6</span>, N*N); ++s2) &#123;</span><br><span class="line">            <span class="keyword">int</span> rc = get(s2, N);</span><br><span class="line">            <span class="keyword">int</span> r = rc / N, c = rc % N;</span><br><span class="line">            <span class="keyword">int</span> s2Final = board[r][c] == -<span class="number">1</span> ? s2 : board[r][c];</span><br><span class="line">            <span class="keyword">if</span> (!dist.containsKey(s2Final)) &#123;</span><br><span class="line">                dist.put(s2Final, dist.get(s) + <span class="number">1</span>);</span><br><span class="line">                queue.add(s2Final);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Given a square num s, return board coordinates (r, c) as r*N + c</span></span><br><span class="line">    <span class="keyword">int</span> quot = (s-<span class="number">1</span>) / N;</span><br><span class="line">    <span class="keyword">int</span> rem = (s-<span class="number">1</span>) % N;</span><br><span class="line">    <span class="keyword">int</span> row = N - <span class="number">1</span> - quot;</span><br><span class="line">    <span class="keyword">int</span> col = row % <span class="number">2</span> != N % <span class="number">2</span> ? rem : N - <span class="number">1</span> - rem;</span><br><span class="line">    <span class="keyword">return</span> row * N + col;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="752-Open-the-Lockâœ¨"><a href="#752-Open-the-Lockâœ¨" class="headerlink" title="752. Open the Lockâœ¨"></a><a href="https://leetcode.com/problems/open-the-lock/" target="_blank" rel="noopener">752. Open the Lockâœ¨</a></h2><h3 id="Solution1-8"><a href="#Solution1-8" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Breadth-First Search</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">openLock</span><span class="params">(String[] deadends, String target)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; deads = <span class="keyword">new</span> HashSet&lt;&gt;(Arrays.asList(deadends));</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    q.offer(<span class="string">"0000"</span>);</span><br><span class="line">    visited.add(<span class="string">"0000"</span>);</span><br><span class="line">    <span class="keyword">int</span> level = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; size; k++) &#123;</span><br><span class="line">            String s = q.poll();</span><br><span class="line">            <span class="keyword">if</span>(deads.contains(s)) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.equals(target)) <span class="keyword">return</span> level;</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++) &#123;</span><br><span class="line">                <span class="keyword">char</span> c = sb.charAt(i);</span><br><span class="line">                String s1 = sb.substring(<span class="number">0</span>, i) + (c == <span class="string">'9'</span> ? <span class="number">0</span> : c - <span class="string">'0'</span> + <span class="number">1</span>) + sb.substring(i + <span class="number">1</span>);</span><br><span class="line">                String s2 = sb.substring(<span class="number">0</span>, i) + (c == <span class="string">'0'</span> ? <span class="number">9</span> : c - <span class="string">'0'</span> - <span class="number">1</span>) + sb.substring(i + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(s1) &amp;&amp; !deads.contains(s1)) &#123;</span><br><span class="line">                    q.offer(s1);</span><br><span class="line">                    visited.add(s1);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(s2) &amp;&amp; !deads.contains(s2)) &#123;</span><br><span class="line">                    q.offer(s2);</span><br><span class="line">                    visited.add(s2);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        level ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-3"><a href="#Solution2-3" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>BFS</li>
<li>ä¼˜åŒ–ï¼šæŠŠdeadåŠ åˆ°visitedé‡Œ</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">plusOne</span><span class="params">(String s, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">    <span class="keyword">if</span> (ch[j] == <span class="string">'9'</span>)</span><br><span class="line">        ch[j] = <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ch[j] += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minusOne</span><span class="params">(String s, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] ch = s.toCharArray();</span><br><span class="line">    <span class="keyword">if</span> (ch[j] == <span class="string">'0'</span>)</span><br><span class="line">        ch[j] = <span class="string">'9'</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ch[j] -= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">openLock</span><span class="params">(String[] deadends, String target)</span> </span>&#123;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; dead = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String deadend : deadends) &#123;</span><br><span class="line">        dead.add(deadend);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">0</span>;</span><br><span class="line">    queue.offer(<span class="string">"0000"</span>);</span><br><span class="line">    visited.add(<span class="string">"0000"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            String cur = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (dead.contains(cur))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (cur.equals(target))</span><br><span class="line">                <span class="keyword">return</span> steps;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++) &#123;</span><br><span class="line">                String up = plusOne(cur, j);</span><br><span class="line">                <span class="keyword">if</span> (!visited.contains(up)) &#123;</span><br><span class="line">                    queue.offer(up);</span><br><span class="line">                    visited.add(up);</span><br><span class="line">                &#125;</span><br><span class="line">                String down = minusOne(cur, j);</span><br><span class="line">                <span class="keyword">if</span> (!visited.contains(down)) &#123;</span><br><span class="line">                    queue.offer(down);</span><br><span class="line">                    visited.add(down);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="490-The-Mazeâœ¨"><a href="#490-The-Mazeâœ¨" class="headerlink" title="490. The Mazeâœ¨"></a><a href="https://leetcode.com/problems/the-maze/" target="_blank" rel="noopener">490. The Mazeâœ¨</a></h2><p><img src="https://assets.leetcode.com/uploads/2020/09/01/maze1.png" alt=""></p>
<h3 id="Solution1-9"><a href="#Solution1-9" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPath</span><span class="params">(<span class="keyword">int</span>[][] maze, <span class="keyword">int</span>[] start, <span class="keyword">int</span>[] destination)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[maze.length][maze[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    Queue &lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList &lt; &gt; ();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    visited[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] s = queue.remove();</span><br><span class="line">        <span class="keyword">if</span> (s[<span class="number">0</span>] == destination[<span class="number">0</span>] &amp;&amp; s[<span class="number">1</span>] == destination[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] dir: dirs) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = s[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = s[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">while</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; x &lt; maze.length &amp;&amp; y &lt; maze[<span class="number">0</span>].length &amp;&amp; maze[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">                x += dir[<span class="number">0</span>];</span><br><span class="line">                y += dir[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!visited[x - dir[<span class="number">0</span>]][y - dir[<span class="number">1</span>]]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;x - dir[<span class="number">0</span>], y - dir[<span class="number">1</span>]&#125;);</span><br><span class="line">                visited[x - dir[<span class="number">0</span>]][y - dir[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-4"><a href="#Solution2-4" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] dir = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPath</span><span class="params">(<span class="keyword">int</span>[][] maze, <span class="keyword">int</span>[] start, <span class="keyword">int</span>[] destination)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[maze.length][maze[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">return</span> dfs(maze, visited, start, destination);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] maze, <span class="keyword">boolean</span>[][] visited, <span class="keyword">int</span>[] c, <span class="keyword">int</span>[] des)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (visited[c[<span class="number">0</span>]][c[<span class="number">1</span>]]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (c[<span class="number">0</span>] == des[<span class="number">0</span>] &amp;&amp; c[<span class="number">1</span>] == des[<span class="number">1</span>]) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    visited[c[<span class="number">0</span>]][c[<span class="number">1</span>]] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">boolean</span> result = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] d : dir) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = c[<span class="number">0</span>] + d[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> y = c[<span class="number">1</span>] + d[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">while</span> ( <span class="number">0</span> &lt;= x &amp;&amp; x &lt; maze.length &amp;&amp; <span class="number">0</span> &lt;= y &amp;&amp; y &lt; maze[<span class="number">0</span>].length &amp;&amp; maze[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">            x += d[<span class="number">0</span>];</span><br><span class="line">            y += d[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        result = result || dfs(maze, visited, <span class="keyword">new</span> <span class="keyword">int</span>[]&#123; x - d[<span class="number">0</span>], y - d[<span class="number">1</span>]&#125;, des);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="773-Sliding-PuzzleğŸ‚"><a href="#773-Sliding-PuzzleğŸ‚" class="headerlink" title="773. Sliding PuzzleğŸ‚"></a><a href="https://leetcode.com/problems/sliding-puzzle/" target="_blank" rel="noopener">773. Sliding PuzzleğŸ‚</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">1</span>, <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to index of &#123;<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">1</span>, <span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">0</span>,<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">0</span> <span class="number">5</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">0</span> --&gt; <span class="number">0</span> can go to &#123;<span class="number">2</span>, <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-10"><a href="#Solution1-10" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Algorithm:</p>
<p>Consider each state in the board as a graph node, we just need to find out the min distance between start node and final target node â€œ123450â€. </p>
<p>Since itâ€™s a single point to single point questions, Dijkstra is not needed here. We can simply use BFS, and also count the level we passed. Every time we swap 0 position in the String to find the next state. Use a hashTable to store the visited states.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//initail varaibles</span></span><br><span class="line">    <span class="keyword">int</span> rows = board.length;</span><br><span class="line">    <span class="keyword">int</span> cols = board[<span class="number">0</span>].length;</span><br><span class="line">    String goal = <span class="string">"123450"</span>;</span><br><span class="line">    String start = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">            start += board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(start);</span><br><span class="line">    <span class="keyword">int</span> steps = <span class="number">0</span>;</span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//bfs</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            String s = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (s == start) &#123;</span><br><span class="line">                <span class="keyword">return</span> steps;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> pos = s.indexOf(<span class="string">"0"</span>);</span><br><span class="line">            <span class="keyword">int</span> x = pos % cols;</span><br><span class="line">            <span class="keyword">int</span> y = pos / cols;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] d : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> nextX = x + d[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> nextY = y + d[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= cols || nextY &lt; <span class="number">0</span> || nextY &gt;= rows) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> nextPos = nextY * cols + nextX;</span><br><span class="line">                String newS = swap(s, pos, nextPos);</span><br><span class="line">                <span class="keyword">if</span> (visited.contains(newS)) <span class="keyword">continue</span>;</span><br><span class="line">                visited.add(newS);</span><br><span class="line">                queue.add(newS);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        steps++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">swap</span><span class="params">(String s, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">char</span> temp = chars[i];</span><br><span class="line">    chars[i] = chars[j];</span><br><span class="line">    chars[j] = temp;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-5"><a href="#Solution2-5" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><a href="https://leetcode.com/problems/sliding-puzzle/discuss/113620/JavaPython-3-BFS-clean-codes-w-comment-Time-and-space%3A-O(m-*-n-*-(m-*-n)!)." target="_blank" rel="noopener">Explaination</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] d = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>&#125;; <span class="comment">//  relative displacements of neighbors in board.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> height = board.length, width = height == <span class="number">0</span> ? <span class="number">0</span> : board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="comment">// convert board to string - initial state.</span></span><br><span class="line">        String s = Arrays.deepToString(board).replaceAll(<span class="string">"\\[|\\]|,|\\s"</span>, <span class="string">""</span>); <span class="comment">// e.g., [[1,2,3],[4,0,5]] -&gt; "123405"</span></span><br><span class="line">        Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(s)); <span class="comment">// add initial state to queue.</span></span><br><span class="line">        Set&lt;String&gt; seen = <span class="keyword">new</span> HashSet&lt;&gt;(q); <span class="comment">// used to avoid duplicates</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> steps = <span class="number">0</span>; !q.isEmpty(); ++steps) &#123; <span class="comment">// Not traverse all states yet?</span></span><br><span class="line">            <span class="comment">// loop used to control search breadth.</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> sz = q.size(); sz &gt; <span class="number">0</span>; --sz) &#123;</span><br><span class="line">                String str = q.poll();</span><br><span class="line">                <span class="keyword">if</span> (str.equals(<span class="string">"123450"</span>)) &#123; <span class="keyword">return</span> steps; &#125; <span class="comment">// found target.</span></span><br><span class="line">                <span class="keyword">int</span> i = str.indexOf(<span class="string">"0"</span>), x = i / width, y = i % width; <span class="comment">// board[x][y] is '0'.</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123; <span class="comment">// traverse all options.</span></span><br><span class="line">                    <span class="keyword">int</span> r = x + d[k], c = y + d[k + <span class="number">1</span>]; <span class="comment">// board[r][c] is the neighbor of '0'.</span></span><br><span class="line">                    <span class="keyword">if</span> (r &gt;= <span class="number">0</span> &amp;&amp; r &lt; height &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; width) &#123;</span><br><span class="line">                        <span class="keyword">char</span>[] ch = str.toCharArray();</span><br><span class="line">                        ch[i] = ch[r * width + c]; <span class="comment">// r * width + c is the string index of board[r][c].</span></span><br><span class="line">                        ch[r * width + c] = <span class="string">'0'</span>; <span class="comment">// assign '0' to the neighbor of board[x][y].</span></span><br><span class="line">                        s = String.valueOf(ch);</span><br><span class="line">                        <span class="keyword">if</span> (seen.add(s)) q.offer(s); <span class="comment">// if not duplicate, add s to the queue.</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Update 1:</p>
<ol>
<li><strong>distance</strong> in the follows changed to <strong>displacement</strong> to avoid confusion:</li>
<li>see after the code.</li>
</ol>
<p>Convert array to string, e.g., [[1,2,3],[4,0,5]] -&gt; â€œ123405â€, hence the corresponding potential swap displacements are: -1, 1, -3, 3. Also note, charAt(2) and charAt(3) are not adjacent in original 2 dimensional int array and therefore are not valid swaps.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] d = &#123; <span class="number">1</span>, -<span class="number">1</span>, <span class="number">3</span>, -<span class="number">3</span> &#125;; <span class="comment">// potential swap displacements.</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">slidingPuzzle</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// convert board to string - initial state.</span></span><br><span class="line">      String s = Arrays.deepToString(board).replaceAll(<span class="string">"\\[|\\]|,|\\s"</span>, <span class="string">""</span>);</span><br><span class="line">      Queue&lt;String&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;(Arrays.asList(s)); <span class="comment">// add initial state to queue.</span></span><br><span class="line">      Set&lt;String&gt; seen = <span class="keyword">new</span> HashSet&lt;&gt;(q); <span class="comment">// used to avoid duplicates</span></span><br><span class="line">      <span class="keyword">int</span> ans = <span class="number">0</span>; <span class="comment">// record the # of rounds of Breadth Search</span></span><br><span class="line">      <span class="keyword">while</span> (!q.isEmpty()) &#123; <span class="comment">// Not traverse all states yet?</span></span><br><span class="line">          <span class="comment">// loop used to control search breadth.</span></span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> sz = q.size(); sz &gt; <span class="number">0</span>; --sz) &#123; </span><br><span class="line">              String str = q.poll();</span><br><span class="line">              <span class="keyword">if</span> (str.equals(<span class="string">"123450"</span>)) &#123; <span class="keyword">return</span> ans; &#125; <span class="comment">// found target.</span></span><br><span class="line">              <span class="keyword">int</span> i = str.indexOf(<span class="string">'0'</span>); <span class="comment">// locate '0'</span></span><br><span class="line">              <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">4</span>; ++k) &#123; <span class="comment">// traverse all options.</span></span><br><span class="line">                  <span class="keyword">int</span> j = i + d[k]; <span class="comment">// potential swap index.</span></span><br><span class="line">                  <span class="comment">// conditional used to avoid invalid swaps.</span></span><br><span class="line">                  <span class="keyword">if</span> (j &lt; <span class="number">0</span> || j &gt; <span class="number">5</span> || i == <span class="number">2</span> &amp;&amp; j == <span class="number">3</span> || i == <span class="number">3</span> &amp;&amp; j == <span class="number">2</span>) &#123; <span class="keyword">continue</span>; &#125; </span><br><span class="line">                  <span class="keyword">char</span>[] ch = str.toCharArray();</span><br><span class="line">                  <span class="comment">// swap ch[i] and ch[j]:  ch[i] = ch[j], ch[j] = '0'. Updated per @caowang888's suggestion. </span></span><br><span class="line">                  ch[i] = ch[j];</span><br><span class="line">                  ch[j] = <span class="string">'0'</span>;</span><br><span class="line">                  s = String.valueOf(ch); <span class="comment">// a new candidate state.</span></span><br><span class="line">                  <span class="keyword">if</span> (seen.add(s)) &#123; q.offer(s); &#125; <span class="comment">//Avoid duplicate.</span></span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          ++ans; <span class="comment">// finished a round of Breadth Search, plus 1.</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><strong>Analysis:</strong><br>There are at most 6! permutation of the 6 numbers: 0~5. For each permustion, cost spaceO(6); String.indexOf() and String.equals() cost time O(6). Therefore, space and time both cost 6 * 6! = 4320.<br>Replace the above <code>6</code> with <code>m * n</code>, we have:</p>
<p><strong>Time &amp; space: O(m * n * (m * n)!)</strong>.</p>
<p>Feel free to let me know if you can find a tighter bound.</p>
<h2 id="Unsolved-913-Cat-and-MouseğŸ‚"><a href="#Unsolved-913-Cat-and-MouseğŸ‚" class="headerlink" title="Unsolved 913. Cat and MouseğŸ‚"></a><a href="https://leetcode.com/problems/cat-and-mouse/" target="_blank" rel="noopener">Unsolved 913. Cat and MouseğŸ‚</a></h2><h2 id="Unsolved-1345-Jump-Game-IVğŸ‚"><a href="#Unsolved-1345-Jump-Game-IVğŸ‚" class="headerlink" title="Unsolved 1345. Jump Game IVğŸ‚"></a><a href="https://leetcode.com/problems/jump-game-iv/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 1345. Jump Game IVğŸ‚</a></h2><h2 id="Unsolved-1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-MatrixğŸ‚"><a href="#Unsolved-1284-Minimum-Number-of-Flips-to-Convert-Binary-Matrix-to-Zero-MatrixğŸ‚" class="headerlink" title="Unsolved 1284. Minimum Number of Flips to Convert Binary Matrix to Zero MatrixğŸ‚"></a><a href="https://leetcode.com/problems/minimum-number-of-flips-to-convert-binary-matrix-to-zero-matrix/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 1284. Minimum Number of Flips to Convert Binary Matrix to Zero MatrixğŸ‚</a></h2><h2 id="Unsolved-1293-Shortest-Path-in-a-Grid-with-Obstacles-EliminationğŸ‚âœ¨"><a href="#Unsolved-1293-Shortest-Path-in-a-Grid-with-Obstacles-EliminationğŸ‚âœ¨" class="headerlink" title="Unsolved 1293. Shortest Path in a Grid with Obstacles EliminationğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/shortest-path-in-a-grid-with-obstacles-elimination/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 1293. Shortest Path in a Grid with Obstacles EliminationğŸ‚âœ¨</a></h2><h2 id="Unsolved-310-Minimum-Height-TreesğŸ‚âœ¨"><a href="#Unsolved-310-Minimum-Height-TreesğŸ‚âœ¨" class="headerlink" title="Unsolved 310. Minimum Height TreesğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/minimum-height-trees/?utm_source=AlgoTogether&utm_campaign=ecad82826e-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_5&utm_medium=email&utm_term=0_38d4e2e3e2-ecad82826e-231340480" target="_blank" rel="noopener">Unsolved 310. Minimum Height TreesğŸ‚âœ¨</a></h2><h2 id="Unsolved-864-Shortest-Path-to-Get-All-KeysğŸ‚"><a href="#Unsolved-864-Shortest-Path-to-Get-All-KeysğŸ‚" class="headerlink" title="Unsolved 864. Shortest Path to Get All KeysğŸ‚"></a><a href="https://leetcode.com/problems/shortest-path-to-get-all-keys/" target="_blank" rel="noopener">Unsolved 864. Shortest Path to Get All KeysğŸ‚</a></h2><h3 id="Solution1-11"><a href="#Solution1-11" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>BFS</p>
</li>
<li><p>find out all keys reachable from stanting</p>
<p>use all keys to open the locks</p>
<p>run more BFS to find out more keys<br>â€¦</p>
<p>regular bfs</p>
<pre><code>visited[x] [y]: if (x. y) is reach before</code></pre><p>this bfs</p>
<pre><code>visited [x] [y] [a] [b] [c] [d] [e] [f] if access (x, y) with some of the keys</code></pre><p>visited [startX] [startY] [0] [0] [0] [1] [0] [0]</p>
<p>if run into key: set the index of the key to 1<br>if run into lock: check if we have the key</p>
<ul>
<li>If yes: unlock it &gt; visited[lockX]CLockT]<br>If no: lock-&gt; can not access<br>visited [x] [y]  [1] [1]  [1] [1] [1] [1]<br>status compression<br>visited [x] [y] [mask]<br>visited[startX] [startY] [0]<br>visited[x] [y] [0b111111]</li>
</ul>
</li>
<li><p>Use Bit to represent the keys.</p>
</li>
<li><p>Use <code>State</code> to represent visited states.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> keys, i, j;</span><br><span class="line">    State(<span class="keyword">int</span> keys, <span class="keyword">int</span> i, <span class="keyword">int</span> j) &#123;</span><br><span class="line">        <span class="keyword">this</span>.keys = keys;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">        <span class="keyword">this</span>.j = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestPathAllKeys</span><span class="params">(String[] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = -<span class="number">1</span>, y = -<span class="number">1</span>, m = grid.length, n = grid[<span class="number">0</span>].length(), max = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = grid[i].charAt(j);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'@'</span>) &#123;</span><br><span class="line">                x = i;</span><br><span class="line">                y = j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'f'</span>) &#123;</span><br><span class="line">                max = Math.max(c - <span class="string">'a'</span> + <span class="number">1</span>, max);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    State start = <span class="keyword">new</span> State(<span class="number">0</span>, x, y);</span><br><span class="line">    Queue&lt;State&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(<span class="number">0</span> + <span class="string">" "</span> + x + <span class="string">" "</span> + y);</span><br><span class="line">    q.offer(start);</span><br><span class="line">    <span class="keyword">int</span>[][] dirs = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = q.size();</span><br><span class="line">        <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            State cur = q.poll();</span><br><span class="line">            <span class="keyword">if</span> (cur.keys == (<span class="number">1</span> &lt;&lt; max) - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> step;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">                <span class="keyword">int</span> i = cur.i + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> j = cur.j + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">int</span> keys = cur.keys;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= <span class="number">0</span> &amp;&amp; i &lt; m &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123;</span><br><span class="line">                    <span class="keyword">char</span> c = grid[i].charAt(j);</span><br><span class="line">                    <span class="keyword">if</span> (c == <span class="string">'#'</span>) &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'f'</span>) &#123;</span><br><span class="line">                        keys |= <span class="number">1</span> &lt;&lt; (c - <span class="string">'a'</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'F'</span> &amp;&amp; ((keys &gt;&gt; (c - <span class="string">'A'</span>)) &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (!visited.contains(keys + <span class="string">" "</span> + i + <span class="string">" "</span> + j)) &#123;</span><br><span class="line">                        visited.add(keys + <span class="string">" "</span> + i + <span class="string">" "</span> + j);</span><br><span class="line">                        q.offer(<span class="keyword">new</span> State(keys, i, j));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h1><h2 id="323-Number-of-Connected-Components-in-an-Undirected-Graphâ­"><a href="#323-Number-of-Connected-Components-in-an-Undirected-Graphâ­" class="headerlink" title="323. Number of Connected Components in an Undirected Graphâ­"></a><a href="https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/" target="_blank" rel="noopener">323. Number of Connected Components in an Undirected Graphâ­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countComponents</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Map&lt;Integer, List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        graph.put(i, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    buildGraph(graph, edges);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[i]) &#123;</span><br><span class="line">            dfs(i, graph, visited);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> idx, Map&lt;Integer, List&lt;Integer&gt;&gt; graph, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (visited[idx]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    visited[idx] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph.get(idx)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[neighbor]) &#123;</span><br><span class="line">            dfs(neighbor, graph, visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildGraph</span><span class="params">(Map&lt;Integer, List&lt;Integer&gt;&gt; graph, <span class="keyword">int</span>[][] edges)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] edge : edges) &#123;</span><br><span class="line">        <span class="keyword">int</span> i = edge[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> j = edge[<span class="number">1</span>];</span><br><span class="line">        graph.get(i).add(j);</span><br><span class="line">        graph.get(j).add(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1192-Critical-Connections-in-a-Networkâ­"><a href="#1192-Critical-Connections-in-a-Networkâ­" class="headerlink" title="1192. Critical Connections in a Networkâ­"></a><a href="https://leetcode.com/problems/critical-connections-in-a-network/" target="_blank" rel="noopener">1192. Critical Connections in a Networkâ­</a></h2><h3 id="Solution1-12"><a href="#Solution1-12" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><a href="https://leetcode.com/problems/critical-connections-in-a-network/discuss/382638/DFS-detailed-explanation-O(orEor)-solution" target="_blank" rel="noopener">Explanation</a></li>
<li>æ€è·¯ï¼šæ‰¾ç¯ï¼Œç¯ä¸Šä»»ä½•ä¸€æ¡è¾¹éƒ½ä¸æ˜¯criticalConnections</li>
<li>å¦‚ä½•ç”¨O(n)æ‰¾ç¯ï¼š<ul>
<li>DFSå‰å‘æœç´¢ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šèµ°ä¸€éï¼Œæ¯èµ°ä¸€æ­¥è®°å½•å½“å‰æ­¥æ•°</li>
<li>DFSæ¢ç´¢è¿”å›ï¼šè¿”å›å½“å‰èŠ‚ç‚¹ï¼ˆé—´æ¥ï¼‰æ¥è§¦åˆ°éçˆ¶èŠ‚ç‚¹çš„æœ€å°æ­¥æ•°çš„èŠ‚ç‚¹</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; criticalConnections(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; connections) &#123;</span><br><span class="line">    Map&lt;Integer, List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Set&lt;List&lt;Integer&gt;&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;(connections);</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; c : connections) &#123;</span><br><span class="line">        connect(c.get(<span class="number">0</span>), c.get(<span class="number">1</span>), graph);</span><br><span class="line">        connect(c.get(<span class="number">1</span>), c.get(<span class="number">0</span>), graph);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[] steps = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(steps, -<span class="number">2</span>);  <span class="comment">//-2 because when traverse the neighbor check the depth-1(parent depth)</span></span><br><span class="line">    dfs(<span class="number">0</span>, <span class="number">0</span>, steps, graph, set);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(set);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> node, <span class="keyword">int</span> depth, <span class="keyword">int</span>[] steps, Map&lt;Integer, List&lt;Integer&gt;&gt; graph, Set&lt;List&lt;Integer&gt;&gt; set)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (steps[node] &gt;= <span class="number">0</span>) <span class="keyword">return</span> steps[node];</span><br><span class="line"></span><br><span class="line">    steps[node] = depth;</span><br><span class="line">    <span class="comment">//record current min depth, if is a leave node no neighbor will return this depth value</span></span><br><span class="line">    <span class="keyword">int</span> minDepthFound = depth;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph.get(node)) &#123;</span><br><span class="line">        <span class="comment">//skip the parent</span></span><br><span class="line">        <span class="keyword">if</span> (steps[neighbor] == depth - <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//recursive dfs to the neighbor branch to get depth</span></span><br><span class="line">        <span class="keyword">int</span> minDepth = dfs(neighbor, depth + <span class="number">1</span>, steps, graph, set);</span><br><span class="line">        minDepthFound = Math.min(minDepthFound, minDepth);</span><br><span class="line">        <span class="comment">//if the neighbor branch depht &lt;= current depth, cycle exist</span></span><br><span class="line">        <span class="keyword">if</span> (minDepth &lt;= depth) &#123;</span><br><span class="line">            set.remove(Arrays.asList(node, neighbor));</span><br><span class="line">            set.remove(Arrays.asList(neighbor, node));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minDepthFound;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, Map&lt;Integer, List&lt;Integer&gt;&gt; graph)</span> </span>&#123;</span><br><span class="line">    graph.putIfAbsent(i, <span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">    graph.get(i).add(j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-6"><a href="#Solution2-6" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><a href="https://leetcode.com/problems/critical-connections-in-a-network/discuss/401340/Clean-Java-Solution-With-Explanation!!!-Great-Question!" target="_blank" rel="noopener">Explanation</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; criticalConnections(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; connections) &#123;</span><br><span class="line">    List&lt;Integer&gt;[] graph = <span class="keyword">new</span> ArrayList[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        graph[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (List&lt;Integer&gt; connection : connections) &#123;</span><br><span class="line">        graph[connection.get(<span class="number">0</span>)].add(connection.get(<span class="number">1</span>));</span><br><span class="line">        graph[connection.get(<span class="number">1</span>)].add(connection.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    HashSet&lt;List&lt;Integer&gt;&gt; connectionsSet = <span class="keyword">new</span> HashSet&lt;&gt;(connections);</span><br><span class="line">    <span class="keyword">int</span>[] step = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(step, -<span class="number">2</span>);</span><br><span class="line">    dfs(graph, <span class="number">0</span>, <span class="number">0</span>, step, connectionsSet);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;(connectionsSet);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(List&lt;Integer&gt;[] graph, <span class="keyword">int</span> node, <span class="keyword">int</span> depth, <span class="keyword">int</span>[] step, HashSet&lt;List&lt;Integer&gt;&gt; connectionsSet)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case already visited node. return its depth</span></span><br><span class="line">    <span class="keyword">if</span> (step[node] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> step[node];</span><br><span class="line">    &#125;</span><br><span class="line">    step[node] = depth;</span><br><span class="line">    <span class="keyword">int</span> minDepthFound = depth;</span><br><span class="line">    <span class="keyword">for</span> (Integer neighbor : graph[node]) &#123;</span><br><span class="line">        <span class="comment">// skip parent</span></span><br><span class="line">        <span class="keyword">if</span> (step[neighbor] == depth - <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> minDepth = dfs(graph, neighbor, depth + <span class="number">1</span>, step, connectionsSet);</span><br><span class="line">        minDepthFound = Math.min(minDepthFound, minDepth);</span><br><span class="line">        <span class="keyword">if</span> (minDepth &lt;= depth) &#123;</span><br><span class="line">            <span class="comment">// to avoid the sorting just try to remove both combinations. of (x,y) and (y,x)</span></span><br><span class="line">            connectionsSet.remove(Arrays.asList(node, neighbor));</span><br><span class="line">            connectionsSet.remove(Arrays.asList(neighbor, node));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minDepthFound;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// We record the timestamp that we visit each node. For each node, we check every neighbor except its parent and return a smallest timestamp in all its neighbors. If this timestamp is strictly less than the node's timestamp, we know that this node is somehow in a cycle. Otherwise, this edge from the parent to this node is a critical connection</span></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; criticalConnections(<span class="keyword">int</span> n, List&lt;List&lt;Integer&gt;&gt; connections) &#123;</span><br><span class="line">    List&lt;Integer&gt;[] graph = <span class="keyword">new</span> ArrayList[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) graph[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(List&lt;Integer&gt; oneConnection :connections) &#123;</span><br><span class="line">        graph[oneConnection.get(<span class="number">0</span>)].add(oneConnection.get(<span class="number">1</span>));</span><br><span class="line">        graph[oneConnection.get(<span class="number">1</span>)].add(oneConnection.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> timer[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; results = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">int</span> []timeStampAtThatNode = <span class="keyword">new</span> <span class="keyword">int</span>[n]; </span><br><span class="line">    criticalConnectionsUtil(graph, -<span class="number">1</span>, <span class="number">0</span>, timer, visited, results, timeStampAtThatNode);</span><br><span class="line">    <span class="keyword">return</span> results;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">criticalConnectionsUtil</span><span class="params">(List&lt;Integer&gt;[] graph, <span class="keyword">int</span> parent, <span class="keyword">int</span> node, <span class="keyword">int</span> timer[], <span class="keyword">boolean</span>[] visited, List&lt;List&lt;Integer&gt;&gt; results, <span class="keyword">int</span> []timeStampAtThatNode)</span> </span>&#123;</span><br><span class="line">    visited[node] = <span class="keyword">true</span>;</span><br><span class="line">    timeStampAtThatNode[node] = timer[<span class="number">0</span>]++;</span><br><span class="line">    <span class="keyword">int</span> currentTimeStamp = timeStampAtThatNode[node];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> oneNeighbour : graph[node]) &#123;</span><br><span class="line">        <span class="keyword">if</span>(oneNeighbour == parent) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span>(!visited[oneNeighbour]) criticalConnectionsUtil(graph, node, oneNeighbour, timer, visited, results, timeStampAtThatNode);</span><br><span class="line">        timeStampAtThatNode[node] = Math.min(timeStampAtThatNode[node], timeStampAtThatNode[oneNeighbour]);</span><br><span class="line">        <span class="keyword">if</span>(currentTimeStamp &lt; timeStampAtThatNode[oneNeighbour]) results.add(Arrays.asList(node, oneNeighbour));</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-529-Minesweeperâ­"><a href="#Unsolved-529-Minesweeperâ­" class="headerlink" title="Unsolved 529. Minesweeperâ­"></a><a href="https://leetcode.com/problems/minesweeper/" target="_blank" rel="noopener">Unsolved 529. Minesweeperâ­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">[[<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>],</span><br><span class="line"> [<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'M'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>],</span><br><span class="line"> [<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>],</span><br><span class="line"> [<span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>]]</span><br><span class="line"></span><br><span class="line">Click : [<span class="number">3</span>,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line"></span><br><span class="line">[[<span class="string">'B'</span>, <span class="string">'1'</span>, <span class="string">'E'</span>, <span class="string">'1'</span>, <span class="string">'B'</span>],</span><br><span class="line"> [<span class="string">'B'</span>, <span class="string">'1'</span>, <span class="string">'M'</span>, <span class="string">'1'</span>, <span class="string">'B'</span>],</span><br><span class="line"> [<span class="string">'B'</span>, <span class="string">'1'</span>, <span class="string">'1'</span>, <span class="string">'1'</span>, <span class="string">'B'</span>],</span><br><span class="line"> [<span class="string">'B'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>, <span class="string">'B'</span>]]</span><br></pre></td></tr></table></figure>

<p><img src="https://assets.leetcode.com/uploads/2018/10/12/minesweeper_example_1.png" alt=""></p>
<h3 id="Solution1-13"><a href="#Solution1-13" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>dfs</li>
<li>This is a typical <code>Search</code> problem, either by using <code>DFS</code> or <code>BFS</code>. Search rules:<ol>
<li>If click on a mine (â€˜<code>M</code>â€˜), mark it as â€˜<code>X</code>â€˜, stop further search.</li>
<li>If click on an empty cell (â€˜<code>E</code>â€˜), depends on how many surrounding mine:<br>2.1 Has surrounding mine(s), mark it with number of surrounding mine(s), stop further search.<br>2.2 No surrounding mine, mark it as â€˜<code>B</code>â€˜, continue search its <code>8</code> neighbors.</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">char</span>[][] updateBoard(<span class="keyword">char</span>[][] board, <span class="keyword">int</span>[] click) &#123;</span><br><span class="line">    <span class="keyword">if</span> (board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span> || click.length != <span class="number">2</span>) <span class="keyword">return</span> board;</span><br><span class="line">    <span class="keyword">int</span> r = click[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> c = click[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (board[r][c] == <span class="string">'M'</span>) &#123;</span><br><span class="line">        board[r][c] = <span class="string">'X'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dfs(board, r, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> board;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= board.length || c &lt; <span class="number">0</span> || c &gt;= board[<span class="number">0</span>].length || board[r][c] != <span class="string">'E'</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> numOfMine = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">        <span class="keyword">int</span> x = r + dir[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> y = c + dir[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (x &lt; <span class="number">0</span> || x &gt;= board.length || y &lt; <span class="number">0</span> || y &gt;= board[<span class="number">0</span>].length) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (board[x][y] == <span class="string">'M'</span>) numOfMine++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (numOfMine &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        board[r][c] = (<span class="keyword">char</span>) (numOfMine + <span class="string">'0'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        board[r][c] = <span class="string">'B'</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = r + dir[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = c + dir[<span class="number">1</span>];</span><br><span class="line">            dfs(board, x, y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">char</span>[][] updateBoard(<span class="keyword">char</span>[][] board, <span class="keyword">int</span>[] click) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> row = click[<span class="number">0</span>], col = click[<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (board[row][col] == <span class="string">'M'</span>) &#123; <span class="comment">// Mine</span></span><br><span class="line">            board[row][col] = <span class="string">'X'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123; <span class="comment">// Empty</span></span><br><span class="line">            <span class="comment">// Get number of mines first.</span></span><br><span class="line">            <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span> (board[r][c] == <span class="string">'M'</span> || board[r][c] == <span class="string">'X'</span>) count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123; <span class="comment">// If it is not a 'B', stop further DFS.</span></span><br><span class="line">                board[row][col] = (<span class="keyword">char</span>)(count + <span class="string">'0'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123; <span class="comment">// Continue DFS to adjacent cells.</span></span><br><span class="line">                board[row][col] = <span class="string">'B'</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span> (board[r][c] == <span class="string">'E'</span>) updateBoard(board, <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-7"><a href="#Solution2-7" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">char</span>[][] updateBoard(<span class="keyword">char</span>[][] board, <span class="keyword">int</span>[] click) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        queue.add(click);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cell = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> row = cell[<span class="number">0</span>], col = cell[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (board[row][col] == <span class="string">'M'</span>) &#123; <span class="comment">// Mine</span></span><br><span class="line">                board[row][col] = <span class="string">'X'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123; <span class="comment">// Empty</span></span><br><span class="line">                <span class="comment">// Get number of mines first.</span></span><br><span class="line">                <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span> (board[r][c] == <span class="string">'M'</span> || board[r][c] == <span class="string">'X'</span>) count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123; <span class="comment">// If it is not a 'B', stop further BFS.</span></span><br><span class="line">                    board[row][col] = (<span class="keyword">char</span>)(count + <span class="string">'0'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123; <span class="comment">// Continue BFS to adjacent cells.</span></span><br><span class="line">                    board[row][col] = <span class="string">'B'</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i = -<span class="number">1</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> j = -<span class="number">1</span>; j &lt; <span class="number">2</span>; j++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; j == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                            <span class="keyword">int</span> r = row + i, c = col + j;</span><br><span class="line">                            <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &lt; <span class="number">0</span> || c &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">                            <span class="keyword">if</span> (board[r][c] == <span class="string">'E'</span>) &#123;</span><br><span class="line">                                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">                                board[r][c] = <span class="string">'B'</span>; <span class="comment">// Avoid to be added again.</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-417-Pacific-Atlantic-Water-FlowğŸ‚â­ğŸ’"><a href="#Unsolved-417-Pacific-Atlantic-Water-FlowğŸ‚â­ğŸ’" class="headerlink" title="Unsolved 417. Pacific Atlantic Water FlowğŸ‚â­ğŸ’"></a><a href="https://leetcode.com/problems/pacific-atlantic-water-flow/" target="_blank" rel="noopener">Unsolved 417. Pacific Atlantic Water FlowğŸ‚â­ğŸ’</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Given the following <span class="number">5</span>x5 matrix:</span><br><span class="line"></span><br><span class="line">  Pacific ~   ~   ~   ~   ~</span><br><span class="line">       ~  <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span>   <span class="number">3</span>  (<span class="number">5</span>) *</span><br><span class="line">       ~  <span class="number">3</span>   <span class="number">2</span>   <span class="number">3</span>  (<span class="number">4</span>) (<span class="number">4</span>) *</span><br><span class="line">       ~  <span class="number">2</span>   <span class="number">4</span>  (<span class="number">5</span>)  <span class="number">3</span>   <span class="number">1</span>  *</span><br><span class="line">       ~ (<span class="number">6</span>) (<span class="number">7</span>)  <span class="number">1</span>   <span class="number">4</span>   <span class="number">5</span>  *</span><br><span class="line">       ~ (<span class="number">5</span>)  <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">4</span>  *</span><br><span class="line">          *   *   *   *   * Atlantic</span><br><span class="line"></span><br><span class="line">Return:</span><br><span class="line">[[<span class="number">0</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">0</span>], [<span class="number">3</span>, <span class="number">1</span>], [<span class="number">4</span>, <span class="number">0</span>]] (positions with parentheses in above matrix).</span><br></pre></td></tr></table></figure>

<ol>
<li>å·¦è¾¹å’Œä¸Šè¾¹æ˜¯å¤ªå¹³æ´‹ï¼Œå³è¾¹å’Œä¸‹è¾¹æ˜¯å¤§è¥¿æ´‹ï¼Œå†…éƒ¨çš„æ•°å­—ä»£è¡¨æµ·æ‹”ï¼Œæµ·æ‹”é«˜çš„åœ°æ–¹çš„æ°´èƒ½å¤Ÿæµåˆ°ä½çš„åœ°æ–¹ï¼Œæ±‚è§£æ°´èƒ½å¤Ÿæµåˆ°å¤ªå¹³æ´‹å’Œå¤§è¥¿æ´‹çš„æ‰€æœ‰ä½ç½®ã€‚</li>
<li><a href="https://leetcode.com/problems/pacific-atlantic-water-flow/discuss/90733/Java-BFS-and-DFS-from-Ocean" target="_blank" rel="noopener">Explaination</a></li>
</ol>
<h3 id="Solution1-14"><a href="#Solution1-14" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>DFS æ¯ä¸€ä¸ªç‚¹éœ€è¦å›æº¯ï¼Œä¼šå˜æˆn^2ã€‚</li>
<li>ä¼˜åŒ–ï¼Œä»è¾¹dfsäºŒè€…ï¼Œç„¶åå–äº¤é›†ï¼Œæ²¡æœ‰å›æº¯å˜æˆçº¿æ€§O(n)ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> m, n;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] matrix;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; pacificAtlantic(<span class="keyword">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="comment">//edge case</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.matrix = matrix;</span><br><span class="line">    m = matrix.length;</span><br><span class="line">    n = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">boolean</span>[][] canReachP = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line">    <span class="keyword">boolean</span>[][] canReachA = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        dfs(i, <span class="number">0</span>, canReachP);</span><br><span class="line">        dfs(i, n - <span class="number">1</span>, canReachA);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        dfs(<span class="number">0</span>, j, canReachP);</span><br><span class="line">        dfs(m - <span class="number">1</span>, j, canReachA);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (canReachP[i][j] &amp;&amp; canReachA[i][j]) &#123;</span><br><span class="line">                ans.add(Arrays.asList(i, j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">boolean</span>[][] canReach)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (canReach[i][j]) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    canReach[i][j] = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">        <span class="keyword">int</span> nextR = i + dir[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> nextC = j + dir[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (nextR &lt; <span class="number">0</span> || nextR &gt;= m || nextC &lt; <span class="number">0</span> || nextC &gt;= n || matrix[nextR][nextC] &lt; matrix[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">        dfs(nextR, nextC, canReach);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="200-Number-of-IslandsğŸ’œâ­"><a href="#200-Number-of-IslandsğŸ’œâ­" class="headerlink" title="200. Number of IslandsğŸ’œâ­"></a><a href="https://leetcode.com/problems/number-of-islands/" target="_blank" rel="noopener">200. Number of IslandsğŸ’œâ­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line"><span class="number">11000</span></span><br><span class="line"><span class="number">11000</span></span><br><span class="line"><span class="number">00100</span></span><br><span class="line"><span class="number">00011</span></span><br><span class="line"></span><br><span class="line">Output: <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥å°†çŸ©é˜µè¡¨ç¤ºçœ‹æˆä¸€å¼ æœ‰å‘å›¾ã€‚</p>
<h3 id="Solution1-15"><a href="#Solution1-15" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>DFS</p>
</li>
<li><p>Time: O(MN). </p>
<p>Space: O(MN). M is the rows, N is the cols.worst case O(MÃ—N) in case that the grid map is filled with lands where DFS goes by M \times N<em>M</em>Ã—<em>N</em> deep.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numIslands</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="string">'1'</span>) &#123;</span><br><span class="line">                ans++;</span><br><span class="line">                dfs(i, j, grid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">char</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= grid.length || j &lt; <span class="number">0</span> || j &gt;= grid[<span class="number">0</span>].length || grid[i][j] != <span class="string">'1'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// mark as visited and go through 4 directions</span></span><br><span class="line">    grid[i][j] = <span class="string">' '</span>;</span><br><span class="line">    dfs(i + <span class="number">1</span>, j, grid);</span><br><span class="line">    dfs(i - <span class="number">1</span>, j, grid);</span><br><span class="line">    dfs(i, j + <span class="number">1</span>, grid);</span><br><span class="line">    dfs(i, j - <span class="number">1</span>, grid);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Error check :</span></span><br><span class="line"><span class="comment">if grid == null || gird.length == 0 return 0;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution1:</span></span><br><span class="line"><span class="comment">DFS</span></span><br><span class="line"><span class="comment">need a dfs helper function</span></span><br><span class="line"><span class="comment">Step1: Travsse the whole grid</span></span><br><span class="line"><span class="comment">Step2: When we encounter a land(1), add max varaible by 1, apply dfs which will tarverse cuurent whole island, and mark it has been traversed</span></span><br><span class="line"><span class="comment">Step3: Continue step2 until finish the traverse the grid, finally return max</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Go through Example :</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  ["1","1","1","1","0"],</span></span><br><span class="line"><span class="comment">  ["1","1","0","1","0"],</span></span><br><span class="line"><span class="comment">  ["1","1","0","0","0"],</span></span><br><span class="line"><span class="comment">  ["0","0","0","0","0"]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">-&gt;</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  ["-1","-1","-1","-1","0"],</span></span><br><span class="line"><span class="comment">  ["-1","-1","0","-1","0"],</span></span><br><span class="line"><span class="comment">  ["-1","-1","0","0","0"],</span></span><br><span class="line"><span class="comment">  ["0","0","0","0","0"]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">retrun 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Time O(mn)</span></span><br><span class="line"><span class="comment">Space O(mn)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution2-8"><a href="#Solution2-8" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>BFS</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IslandCountBFS</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getNumberOfIslands</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (binaryMatrix == <span class="keyword">null</span> || binaryMatrix.length == <span class="number">0</span> || binaryMatrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> m = binaryMatrix.length;</span><br><span class="line">        <span class="keyword">int</span> n = binaryMatrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (binaryMatrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    markIsland(binaryMatrix, m, n, i, j);</span><br><span class="line">                    result++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">markIsland</span><span class="params">(<span class="keyword">int</span>[][] binaryMatrix, <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;(); <span class="comment">// store the index in queue</span></span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j&#125;);</span><br><span class="line">        <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.remove();</span><br><span class="line">            <span class="keyword">int</span> r = cur[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> c = cur[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (binaryMatrix[r][c] == <span class="number">1</span>) &#123;</span><br><span class="line">                binaryMatrix[r][c] = -<span class="number">1</span>; <span class="comment">// mark as visited</span></span><br><span class="line">                addIfValid(queue, m, n, r - <span class="number">1</span>, c);</span><br><span class="line">                addIfValid(queue, m, n, r + <span class="number">1</span>, c);</span><br><span class="line">                addIfValid(queue, m, n, r, c - <span class="number">1</span>);</span><br><span class="line">                addIfValid(queue, m, n, r, c + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addIfValid</span><span class="params">(Queue&lt;<span class="keyword">int</span>[]&gt; queue, <span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (r &gt;= <span class="number">0</span> &amp;&amp; r &lt; m &amp;&amp; c &gt;= <span class="number">0</span> &amp;&amp; c &lt; n) queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;r, c&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] binaryMatrix = &#123;</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;,</span><br><span class="line">                &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;&#125;;</span><br><span class="line">        System.out.println(getNumberOfIslands(binaryMatrix));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="694-Number-of-Distinct-Islandsâ­"><a href="#694-Number-of-Distinct-Islandsâ­" class="headerlink" title="694. Number of Distinct Islandsâ­"></a><a href="https://leetcode.com/problems/number-of-distinct-islands/" target="_blank" rel="noopener">694. Number of Distinct Islandsâ­</a></h2><h3 id="Solution1-16"><a href="#Solution1-16" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Hash By Local Coordinates</li>
<li>Time Complexity: O(R<em>C)*O</em>(<em>R</em>âˆ—<em>C</em>), where R<em>R</em> is the number of rows in the given <code>grid</code>, and C<em>C</em> is the number of columns. We visit every square once.</li>
<li>Space complexity: O(R<em>C)*O</em>(<em>R</em>âˆ—<em>C</em>), the space used by <code>seen</code> to keep track of visited squares, and <code>shapes</code>.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinctIslands</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    HashSet&lt;String&gt; shapes = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                dfs(grid, i, j, <span class="number">0</span>, <span class="number">0</span>, sb);</span><br><span class="line">                String shape = sb.toString();</span><br><span class="line">                <span class="keyword">if</span> (!shapes.contains(shape)) &#123;</span><br><span class="line">                    ans++;</span><br><span class="line">                    shapes.add(shape);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> x, <span class="keyword">int</span> y, StringBuilder sb)</span> </span>&#123;</span><br><span class="line">    grid[i][j] = <span class="number">0</span>;</span><br><span class="line">    sb.append(<span class="string">""</span> + x + y);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">        <span class="keyword">int</span> r = i + dir[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> c = j + dir[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= grid.length || c &lt; <span class="number">0</span> || c &gt;= grid[<span class="number">0</span>].length || grid[r][c] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        dfs(grid, r, c, x + dir[<span class="number">0</span>], y + dir[<span class="number">1</span>], sb);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-9"><a href="#Solution2-9" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Use direction string instead of using number string in set</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinctIslands</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">                dfs(grid, i, j, sb, <span class="string">"o"</span>); <span class="comment">// origin</span></span><br><span class="line">                grid[i][j] = <span class="number">0</span>;</span><br><span class="line">                set.add(sb.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> set.size();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, StringBuilder sb, String dir)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span> || i == grid.length || j &lt; <span class="number">0</span> || j == grid[i].length </span><br><span class="line">       || grid[i][j] == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    sb.append(dir);</span><br><span class="line">    grid[i][j] = <span class="number">0</span>;</span><br><span class="line">    dfs(grid, i-<span class="number">1</span>, j, sb, <span class="string">"u"</span>);</span><br><span class="line">    dfs(grid, i+<span class="number">1</span>, j, sb, <span class="string">"d"</span>);</span><br><span class="line">    dfs(grid, i, j-<span class="number">1</span>, sb, <span class="string">"l"</span>);</span><br><span class="line">    dfs(grid, i, j+<span class="number">1</span>, sb, <span class="string">"r"</span>);</span><br><span class="line">    sb.append(<span class="string">"b"</span>); <span class="comment">// back</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Universal-sinkâ­â­"><a href="#Universal-sinkâ­â­" class="headerlink" title="Universal sinkâ­â­"></a>Universal sinkâ­â­</h2><p>Find a universal sink in a directed acyclic graph. </p>
<p>And the universal sink means a vertex that has no edge emanating from it, and all other vertices have an edge towards the sink.</p>
<h3 id="Solution1-17"><a href="#Solution1-17" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>This is a similar question with Find Celebrity, the goal of this question is to find a node which doesnâ€™t have an arrow towards any other node in a graph.</p>
</li>
<li><p>You can start by checking any node as beginning, in any given â€œcheckingâ€, you have two possibility:</p>
<ol>
<li>For this node, there is an arrow towards other node, in this case, this is not candidate for our goal, then you can move on checking the next node (by following the arrow), and removing current node from candidate list</li>
<li>For this node, there is zero arrow towards other node, in this case, this is a candidate, you can save this candidate and move on checking other node.</li>
</ol>
<p>Once you exhaust all nodes and end up with an empty candidate list, you can draw the conclusion that there is no universal sink, vice versa.</p>
</li>
</ol>
<h3 id="277-Find-the-celebrityâ­â­"><a href="#277-Find-the-celebrityâ­â­" class="headerlink" title="277. Find the celebrityâ­â­"></a><a href="https://leetcode.com/problems/find-the-celebrity/" target="_blank" rel="noopener">277. Find the celebrityâ­â­</a></h3><h3 id="Solution1-18"><a href="#Solution1-18" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šæ‰€æœ‰äººéƒ½çŸ¥é“ cï¼Œè€Œ c ä¸çŸ¥é“ä»»ä½•äººï¼Œæ‰€ä»¥å¦‚æœ 0 æ˜¯ cï¼Œåˆ™å®ƒä¸å¯èƒ½çŸ¥é“ä»»ä½•å…¶ä»–äººï¼Œå¦‚æœ 0 ä¸æ˜¯ cï¼Œåˆ™ä»–ä¸€å®šçŸ¥é“ cï¼Œä»¥æ­¤ç±»æ¨ï¼Œæ‰¾åˆ°å”¯ä¸€çš„ä¸€ä¸ªå¯èƒ½æ˜¯ c çš„ã€‚ç„¶ååˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚O(n)</li>
<li>The first pass is to pick out the candidate. If candidate knows i, then switch candidate. The second pass is to check whether the candidate is real.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//T O(n) | S O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> candidate = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//if candidate is real, he will not know everyone, i is fixed</span></span><br><span class="line">        <span class="keyword">if</span> (knows(candidate, i))</span><br><span class="line">            candidate = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//test it's a valid candidate</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != candidate &amp;&amp; (knows(candidate, i) || !knows(i, candidate)))</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-10"><a href="#Solution2-10" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Brute Force</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Relation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> nums;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        nums = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(isCelebrity(i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isCelebrity</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; nums; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == j) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (knows(i, j) || !knows(j, i)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3"><a href="#Solution3" class="headerlink" title="Solution3:"></a>Solution3:</h3><ol>
<li><p>Problem Statement </p>
</li>
<li><p>implement <code>findCelebrity()</code> method to find the celebrity in a party (matrix) using a stack. A celebrity is someone that everyone knows, but he/she doesnâ€™t know anyone at the party.</p>
</li>
<li><p>Where the <em>party</em> is a reference variable storing a 2D matrix, which has stored all the information about acquaintances, <em>numPeople</em> and the number of people present in the party.</p>
<p>In the party matrix, a particular [row][col] stores acquaintance information for row and col. In other words, if [row][col] == 1, then it means row knows col, and if itâ€™s zero, then it means <em>row</em> doesnâ€™t know <em>col</em>. Remember that everyone knows a celebrity, but the celebrity doesnâ€™t know the people at the party.</p>
</li>
<li><pre><code class="java">party = {
          {<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>},
          {<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>},
          {<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>},
          {<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>},
                }

numPeople = <span class="number">4</span> (Number of rows in party array)   

<span class="number">2</span> (because row Index = <span class="number">2</span> is a celebrity)
&lt;!--ï¿¼<span class="number">50</span>--&gt;
</code></pre>
</li>
</ol>
<h2 id="Unsolved-332-Reconstruct-ItineraryğŸ‚â­"><a href="#Unsolved-332-Reconstruct-ItineraryğŸ‚â­" class="headerlink" title="Unsolved 332. Reconstruct ItineraryğŸ‚â­"></a><a href="https://leetcode.com/problems/reconstruct-itinerary/?utm_source=AlgoTogether&utm_campaign=6415681024-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_3&utm_medium=email&utm_term=0_38d4e2e3e2-6415681024-231340480" target="_blank" rel="noopener">Unsolved 332. Reconstruct ItineraryğŸ‚â­</a></h2><p><a href="https://leetcode.com/problems/reconstruct-itinerary/discuss/78768/Short-Ruby-Python-Java-C%2B%2B" target="_blank" rel="noopener">https://leetcode.com/problems/reconstruct-itinerary/discuss/78768/Short-Ruby-Python-Java-C%2B%2B</a></p>
<p>â€œGiven a list of airline tickets represented by pairs of departure and arrival airports <em><code>[from, to]</code></em>, reconstruct the itinerary in order. All of the tickets belong to a man who departs from <em><code>JFK</code></em>. Thus, the itinerary must begin with <em><code>JFK</code></em>.â€</p>
<h3 id="Solution1-19"><a href="#Solution1-19" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå‡è®¾æ²¡æœ‰é‡å¤ï¼Œéå¸¸å®¹æ˜“ï¼Œåªè¦å»ºç«‹è¯å…¸ï¼Œä» JFK å¼€å§‹é€ä¸€æœºç¥¨ä½¿ç”¨ã€‚</li>
<li>ç°åœ¨æ˜¯æœ‰å¯èƒ½æœ‰é‡å¤ï¼Œä¸è¿‡é¢˜ä¸­è¿˜ç»™å‡ºäº†å¦ä¸€ä¸ªæ¡ä»¶ï¼šå¦‚æœæœ‰é‡å¤ï¼Œåˆ™æŒ‰åˆ°ç«™çš„å­—å…¸é¡ºæ’åºã€‚æ‰€ä»¥è¿™é‡Œåªæœ‰åˆ°ç«™æ˜¯éœ€è¦æ’åºçš„ã€‚æ’åºé—®é¢˜å¯ä»¥æƒ³åˆ°ä¼˜å…ˆé˜Ÿåˆ—ã€‚</li>
<li>æœ‰äº†ä¸Šè¿°çš„å‡†å¤‡å·¥ä½œï¼Œåˆ™ä½¿ç”¨ DFS æ‰¾ç»“æœï¼Œæœ€åæŠŠç»“æœå­˜å…¥æ•°ç»„ã€‚</li>
<li>Path.addFirst æ˜¯å› ä¸ºæ€»æ˜¯é è¿‘é˜Ÿå°¾çš„å…ƒç´ æ›´å…ˆåˆ°è¯¥å¥ï¼ˆå› ä¸ºæ˜¯ DFSï¼‰ã€‚å¦‚æœæœ‰ç­”æ¡ˆï¼Œå¯ä»¥è¯æ˜ï¼šé‡å¤åˆ°ç«™å…ˆèµ°å“ªä¸ªéƒ½åº”è¯¥å¯ä»¥å®Œæˆã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, PriorityQueue&lt;String&gt;&gt; map;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(List&lt;List&lt;String&gt;&gt; tickets)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (List&lt;String&gt; ticket : tickets) &#123;</span><br><span class="line">        map.putIfAbsent(ticket.get(<span class="number">0</span>), <span class="keyword">new</span> PriorityQueue&lt;String&gt;());</span><br><span class="line">        map.get(ticket.get(<span class="number">0</span>)).add(ticket.get(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfs(<span class="string">"JFK"</span>, path);</span><br><span class="line">    <span class="keyword">return</span> path;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String dep, List&lt;String&gt; path)</span> </span>&#123;</span><br><span class="line">    PriorityQueue&lt;String&gt; heap = map.get(dep);</span><br><span class="line">    <span class="keyword">while</span>(heap != <span class="keyword">null</span> &amp;&amp; !heap.isEmpty()) &#123;</span><br><span class="line">        dfs(heap.poll(), path);</span><br><span class="line">    &#125;</span><br><span class="line">    path.add(<span class="number">0</span>, dep);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-11"><a href="#Solution2-11" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (String[] ticket : tickets)</span><br><span class="line">        targets.computeIfAbsent(ticket[<span class="number">0</span>], k -&gt; <span class="keyword">new</span> PriorityQueue()).add(ticket[<span class="number">1</span>]);</span><br><span class="line">    visit(<span class="string">"JFK"</span>);</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Map&lt;String, PriorityQueue&lt;String&gt;&gt; targets = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">List&lt;String&gt; route = <span class="keyword">new</span> LinkedList();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(String airport)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(targets.containsKey(airport) &amp;&amp; !targets.get(airport).isEmpty())</span><br><span class="line">        visit(targets.get(airport).poll());</span><br><span class="line">    route.add(<span class="number">0</span>, airport);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Iterative version:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">    Map&lt;String, PriorityQueue&lt;String&gt;&gt; targets = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String[] ticket : tickets)</span><br><span class="line">        targets.computeIfAbsent(ticket[<span class="number">0</span>], k -&gt; <span class="keyword">new</span> PriorityQueue()).add(ticket[<span class="number">1</span>]);</span><br><span class="line">    List&lt;String&gt; route = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    stack.push(<span class="string">"JFK"</span>);</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</span><br><span class="line">        <span class="keyword">while</span> (targets.containsKey(stack.peek()) &amp;&amp; !targets.get(stack.peek()).isEmpty())</span><br><span class="line">            stack.push(targets.get(stack.peek()).poll());</span><br><span class="line">        route.add(<span class="number">0</span>, stack.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-1102-Path-With-Maximum-Minimum-Valueâ­"><a href="#Unsolved-1102-Path-With-Maximum-Minimum-Valueâ­" class="headerlink" title="Unsolved 1102. Path With Maximum Minimum Valueâ­"></a><a href="https://leetcode.com/problems/path-with-maximum-minimum-value/" target="_blank" rel="noopener">Unsolved 1102. Path With Maximum Minimum Valueâ­</a></h2><p>â€œGiven a matrix of integers <em><code>A</code></em> with R rows and C columns, find the <strong>maximum</strong> score of a path starting at <em><code>[0,0]</code></em> and ending at <em><code>[R-1,C-1]</code></em>.â€</p>
<p><a href="https://leetcode.com/problems/path-with-maximum-minimum-value/" target="_blank" rel="noopener">https://leetcode.com/problems/path-with-maximum-minimum-value/</a></p>
<h2 id="695-Max-Area-of-Islandâœ¨"><a href="#695-Max-Area-of-Islandâœ¨" class="headerlink" title="695. Max Area of Islandâœ¨"></a><a href="https://leetcode.com/problems/max-area-of-island/description/" target="_blank" rel="noopener">695. Max Area of Islandâœ¨</a></h2><h3 id="Solution1-20"><a href="#Solution1-20" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Given a non-empty 2D array <code>grid</code> of 0â€™s and 1â€™s, an <strong>island</strong> is a group of <code>1</code>â€˜s (representing land) connected 4-directionally (horizontal or vertical.) You may assume all four edges of the grid are surrounded by water.</li>
<li>Find the maximum area of an island in the given 2D array. (If there is no island, the maximum area is 0.)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">Given the above grid, <span class="keyword">return</span> <span class="number">6</span>. </span><br><span class="line">Note the answer is not <span class="number">11</span>, because the island must be connected <span class="number">4</span>-directionally.</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxAreaOfIsland</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                max = Math.max(max, dfs(grid, i, j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= grid.length || c &lt; <span class="number">0</span> || c &gt;= grid[<span class="number">0</span>].length || grid[r][c] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    grid[r][c] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    count += dfs(grid, r+<span class="number">1</span>, c);</span><br><span class="line">    count += dfs(grid, r-<span class="number">1</span>, c);</span><br><span class="line">    count += dfs(grid, r, c+<span class="number">1</span>);</span><br><span class="line">    count += dfs(grid, r, c-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="130-Surrounded-Regionsâœ¨"><a href="#130-Surrounded-Regionsâœ¨" class="headerlink" title="130.Surrounded Regionsâœ¨"></a><a href="https://leetcode.com/problems/surrounded-regions/" target="_blank" rel="noopener">130.Surrounded Regionsâœ¨</a></h2><h3 id="Solution1-21"><a href="#Solution1-21" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå…ˆæŠŠä¸è¢«åŒ…å›´çš„ 0 å…¨éƒ¨ç½®æˆç‰¹æ®Šå­—ç¬¦ï¼ˆè¿™é‡Œä½¿ç”¨â€ + â€œï¼‰ï¼Œç„¶åå†é€ä¸€æ‰«æå…ƒç´ ï¼Œæ˜¯â€™â€™ + â€˜â€™çš„ç½®å› 0ï¼Œæ˜¯ 0 çš„ç½®æˆ Xã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> m = board.length, n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[i][<span class="number">0</span>] == <span class="string">'O'</span>) dfs(board, i, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (board[i][n - <span class="number">1</span>] == <span class="string">'O'</span>) dfs(board, i, n  -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[<span class="number">0</span>][j] == <span class="string">'O'</span>) dfs(board, <span class="number">0</span>, j);</span><br><span class="line">        <span class="keyword">if</span> (board[m - <span class="number">1</span>][j] == <span class="string">'O'</span>) dfs(board, m - <span class="number">1</span>, j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>) &#123;</span><br><span class="line">                board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (board[i][j] == <span class="string">'A'</span>) &#123;</span><br><span class="line">                board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= board.length || j &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || board[i][j] == <span class="string">'X'</span> || board[i][j] == <span class="string">'A'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    board[i][j] = <span class="string">'A'</span>;</span><br><span class="line">    dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">    dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-12"><a href="#Solution2-12" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Hi. So here is my accepted code using <strong>Union Find</strong> data structure. The idea comes from the observation that if a region is NOT captured, it is connected to the boundry. So if we connect all the â€˜Oâ€™ nodes on the boundry to a dummy node, and then connect each â€˜Oâ€™ node to its neighbour â€˜Oâ€™ nodes, then we can tell directly whether a â€˜Oâ€™ node is captured by checking whether it is connected to the dummy node.<br>For more about Union Find, the first assignment in the algo1 may help:<br><a href="https://www.coursera.org/course/algs4partI" target="_blank" rel="noopener">https://www.coursera.org/course/algs4partI</a></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UF</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span>* id;     <span class="comment">// id[i] = parent of i</span></span><br><span class="line">    <span class="keyword">int</span>* rank;  <span class="comment">// rank[i] = rank of subtree rooted at i (cannot be more than 31)</span></span><br><span class="line">    <span class="keyword">int</span> count;    <span class="comment">// number of components</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    UF(<span class="keyword">int</span> N)</span><br><span class="line">    &#123;</span><br><span class="line">        count = N;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">            rank[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ~UF()</span><br><span class="line">    &#123;</span><br><span class="line">        delete [] id;</span><br><span class="line">        delete [] rank;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (p != id[p]) &#123;</span><br><span class="line">            id[p] = id[id[p]];    <span class="comment">// path compression by halving</span></span><br><span class="line">            p = id[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">bool <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = find(p);</span><br><span class="line">        <span class="keyword">int</span> j = find(q);</span><br><span class="line">        <span class="keyword">if</span> (i == j) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (rank[i] &lt; rank[j]) id[i] = j;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (rank[i] &gt; rank[j]) id[j] = i;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            id[j] = i;</span><br><span class="line">            rank[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(vector&lt;vector&lt;<span class="keyword">char</span>&gt;&gt; &amp;board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = board.size();</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>)    <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> m = board[<span class="number">0</span>].size();</span><br><span class="line">        UF uf = UF(n*m+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>((i==<span class="number">0</span>||i==n-<span class="number">1</span>||j==<span class="number">0</span>||j==m-<span class="number">1</span>)&amp;&amp;board[i][j]==<span class="string">'O'</span>) <span class="comment">// if a 'O' node is on the boundry, connect it to the dummy node</span></span><br><span class="line">                    uf.connect(i*m+j,n*m);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(board[i][j]==<span class="string">'O'</span>) <span class="comment">// connect a 'O' node to its neighbour 'O' nodes</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(board[i-<span class="number">1</span>][j]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,(i-<span class="number">1</span>)*m+j);</span><br><span class="line">                    <span class="keyword">if</span>(board[i+<span class="number">1</span>][j]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,(i+<span class="number">1</span>)*m+j);</span><br><span class="line">                    <span class="keyword">if</span>(board[i][j-<span class="number">1</span>]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,i*m+j-<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span>(board[i][j+<span class="number">1</span>]==<span class="string">'O'</span>)</span><br><span class="line">                        uf.connect(i*m+j,i*m+j+<span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(!uf.connected(i*m+j,n*m))&#123; <span class="comment">// if a 'O' node is not connected to the dummy node, it is captured</span></span><br><span class="line">                    board[i][j]=<span class="string">'X'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="130-Surrounded-Regionsâœ¨-1"><a href="#130-Surrounded-Regionsâœ¨-1" class="headerlink" title="130. Surrounded Regionsâœ¨"></a><a href="https://leetcode.com/problems/surrounded-regions/" target="_blank" rel="noopener">130. Surrounded Regionsâœ¨</a></h2><h3 id="Solution1-22"><a href="#Solution1-22" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå…ˆæŠŠä¸è¢«åŒ…å›´çš„ 0 å…¨éƒ¨ç½®æˆç‰¹æ®Šå­—ç¬¦ï¼ˆè¿™é‡Œä½¿ç”¨<em>ï¼‰ï¼Œç„¶åå†é€ä¸€æ‰«æå…ƒç´ ï¼Œæ˜¯</em>çš„ç½®å› 0ï¼Œæ˜¯ 0 çš„ç½®æˆ Xã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = board.length;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][<span class="number">0</span>] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, i, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (board[i][n - <span class="number">1</span>] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, i, n - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[<span class="number">0</span>][j] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, <span class="number">0</span>, j);</span><br><span class="line">            <span class="keyword">if</span> (board[m - <span class="number">1</span>][j] == <span class="string">'O'</span>)</span><br><span class="line">                dfs(board, m - <span class="number">1</span>, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">                <span class="keyword">if</span> (board[i][j] == <span class="string">'O'</span>)</span><br><span class="line">                    board[i][j] = <span class="string">'X'</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (board[i][j] == <span class="string">'+'</span>)</span><br><span class="line">                    board[i][j] = <span class="string">'O'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i == board.length || j &lt; <span class="number">0</span> || j == board[<span class="number">0</span>].length || board[i][j] == <span class="string">'X'</span> || board[i][j] == <span class="string">'+'</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        board[i][j] = <span class="string">'+'</span>;</span><br><span class="line">        dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">        dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">        dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">        dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="403-Frog-Jumpâœ¨"><a href="#403-Frog-Jumpâœ¨" class="headerlink" title="403. Frog Jumpâœ¨"></a><a href="https://leetcode.com/problems/frog-jump/" target="_blank" rel="noopener">403. Frog Jumpâœ¨</a></h2><h3 id="Solution1-23"><a href="#Solution1-23" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canCross</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt; stones.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stones[i] &gt; stones[i - <span class="number">1</span>] * <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> lastStone = stones[stones.length - <span class="number">1</span>];  <span class="comment">//taregt</span></span><br><span class="line">    Stack&lt;Integer&gt; positions = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; jump = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    HashSet&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    positions.push(<span class="number">0</span>);</span><br><span class="line">    jump.push(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> stone : stones) &#123;</span><br><span class="line">        set.add(stone);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!positions.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> current = positions.pop();</span><br><span class="line">        <span class="keyword">int</span> jumpDistance = jump.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = jumpDistance - <span class="number">1</span>; i &lt;= jumpDistance + <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt;= <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (current + i == lastStone) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (set.contains(current + i)) &#123;</span><br><span class="line">                    positions.push(current + i);</span><br><span class="line">                    jump.push(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="286-Walls-and-Gatesâœ¨"><a href="#286-Walls-and-Gatesâœ¨" class="headerlink" title="286. Walls and Gatesâœ¨"></a><a href="https://leetcode.com/problems/walls-and-gates/" target="_blank" rel="noopener">286. Walls and Gatesâœ¨</a></h2><p>Given the 2D grid:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INF  -<span class="number">1</span>  <span class="number">0</span>  INF</span><br><span class="line">INF INF INF  -<span class="number">1</span></span><br><span class="line">INF  -<span class="number">1</span> INF  -<span class="number">1</span></span><br><span class="line">  <span class="number">0</span>  -<span class="number">1</span> INF INF</span><br></pre></td></tr></table></figure>

<p>After running your function, the 2D grid should be:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>  -<span class="number">1</span>   <span class="number">0</span>   <span class="number">1</span></span><br><span class="line"><span class="number">2</span>   <span class="number">2</span>   <span class="number">1</span>  -<span class="number">1</span></span><br><span class="line"><span class="number">1</span>  -<span class="number">1</span>   <span class="number">2</span>  -<span class="number">1</span></span><br><span class="line"><span class="number">0</span>  -<span class="number">1</span>   <span class="number">3</span>   <span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-l"><a href="#Solution1-l" class="headerlink" title="Solution1:l"></a>Solution1:l</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wallsAndGates</span><span class="params">(<span class="keyword">int</span>[][] rooms)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rooms.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; rooms[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rooms[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(i, j, <span class="number">0</span>, rooms);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> count, <span class="keyword">int</span>[][] rooms)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= rooms.length || j &lt; <span class="number">0</span> || j &gt;= rooms[i].length || rooms[i][j] &lt; count) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rooms[i][j] = count;</span><br><span class="line">    dfs(i + <span class="number">1</span>, j, count + <span class="number">1</span>, rooms);</span><br><span class="line">    dfs(i - <span class="number">1</span>, j, count + <span class="number">1</span>, rooms);</span><br><span class="line">    dfs(i, j + <span class="number">1</span>, count + <span class="number">1</span>, rooms);</span><br><span class="line">    dfs(i, j - <span class="number">1</span>, count + <span class="number">1</span>, rooms);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-13"><a href="#Solution2-13" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">wallsAndGates</span><span class="params">(<span class="keyword">int</span>[][] rooms)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rooms.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; rooms[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rooms[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">            <span class="keyword">int</span> x = cur[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> y = cur[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> r = x + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> c = y + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= rooms.length || c &lt; <span class="number">0</span> || c &gt;= rooms[<span class="number">0</span>].length || rooms[r][c] != Integer.MAX_VALUE) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                rooms[r][c] = rooms[x][y] + <span class="number">1</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="01-Matrixâœ¨"><a href="#01-Matrixâœ¨" class="headerlink" title="01 Matrixâœ¨"></a><a href="https://leetcode.com/problems/01-matrix/" target="_blank" rel="noopener">01 Matrixâœ¨</a></h2><h3 id="Solution1-24"><a href="#Solution1-24" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>General idea is <code>BFS</code>. Some small tricks:<ol>
<li>At beginning, set cell value to <code>Integer.MAX_VALUE</code> if it is not <code>0</code>.</li>
<li>If newly calculated distance <code>&gt;=</code> current distance, then we donâ€™t need to explore that cell again.</li>
</ol>
</li>
<li>Time complexity: O(r \cdot c)<em>O</em>(<em>r</em>â‹…<em>c</em>).<ul>
<li>Since, the new cells are added to the queue only if their current distance is greater than the calculated distance, cells are not likely to be added multiple times.</li>
</ul>
</li>
<li>Space complexity: O(r \cdot c)<em>O</em>(<em>r</em>â‹…<em>c</em>). Additional O(r \cdot c)<em>O</em>(<em>r</em>â‹…<em>c</em>) for queue than in Approach #1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] updateMatrix(<span class="keyword">int</span>[][] matrix) &#123;</span><br><span class="line">    Queue&lt;<span class="keyword">int</span>[]&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[][] directions = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (matrix[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i, j&#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                matrix[i][j] = Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : directions) &#123;</span><br><span class="line">                <span class="keyword">int</span> r = cur[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">int</span> c = cur[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= matrix.length || c &lt; <span class="number">0</span> || c &gt;= matrix[<span class="number">0</span>].length || matrix[r][c] != Integer.MAX_VALUE) <span class="keyword">continue</span>;</span><br><span class="line">                matrix[r][c] = matrix[cur[<span class="number">0</span>]][cur[<span class="number">1</span>]] + <span class="number">1</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="419-Battleships-in-a-BoardğŸ’"><a href="#419-Battleships-in-a-BoardğŸ’" class="headerlink" title="419. Battleships in a BoardğŸ’"></a><a href="https://leetcode.com/problems/battleships-in-a-board/" target="_blank" rel="noopener">419. Battleships in a BoardğŸ’</a></h2><h3 id="Solution1-25"><a href="#Solution1-25" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countBattleships</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> numBattleships = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'X'</span>) </span><br><span class="line">                numBattleships++;</span><br><span class="line">            dfs(board, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numBattleships;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= board.length || j &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || board[i][j] != <span class="string">'X'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">    dfs(board, i + <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i - <span class="number">1</span>, j);</span><br><span class="line">    dfs(board, i, j + <span class="number">1</span>);</span><br><span class="line">    dfs(board, i, j - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Soltuion2"><a href="#Soltuion2" class="headerlink" title="Soltuion2:"></a>Soltuion2:</h3><ol>
<li><strong>Follow up:</strong><br>Could you do it in <strong>one-pass</strong>, using only <strong>O(1) extra memory</strong> and <strong>without modifying</strong> the value of the board?</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countBattleships</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> numBattleships = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[i].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; board[i - <span class="number">1</span>][j] == <span class="string">'X'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span> &amp;&amp; board[i][j - <span class="number">1</span>] == <span class="string">'X'</span>) <span class="keyword">continue</span>;</span><br><span class="line">            numBattleships++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numBattleships;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="841-Keys-and-Roomsâœ¨"><a href="#841-Keys-and-Roomsâœ¨" class="headerlink" title="841. Keys and Roomsâœ¨"></a><a href="https://leetcode.com/problems/keys-and-rooms/" target="_blank" rel="noopener">841. Keys and Roomsâœ¨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: [[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>],[]]</span><br><span class="line">Output: <span class="keyword">true</span></span><br><span class="line">Explanation:  </span><br><span class="line">We start in room <span class="number">0</span>, and pick up key <span class="number">1</span>.</span><br><span class="line">We then go to room <span class="number">1</span>, and pick up key <span class="number">2</span>.</span><br><span class="line">We then go to room <span class="number">2</span>, and pick up key <span class="number">3</span>.</span><br><span class="line">We then go to room <span class="number">3</span>.  Since we were able to go to every room, we <span class="keyword">return</span> <span class="keyword">true</span>.</span><br><span class="line"></span><br><span class="line">Input: [[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">0</span>]]</span><br><span class="line">Output: <span class="keyword">false</span></span><br><span class="line">Explanation: We can<span class="string">'t enter the room with number 2.</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-26"><a href="#Solution1-26" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canVisitAllRooms</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; rooms)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    HashSet&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    stack.add(<span class="number">0</span>);</span><br><span class="line">    visited.add(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        List&lt;Integer&gt; keys = rooms.get(stack.pop());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> key : keys) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visited.contains(key)) &#123;</span><br><span class="line">                stack.push(key);</span><br><span class="line">                visited.add(key);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> visited.size() == rooms.size();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="494-Target-Sumâœ¨"><a href="#494-Target-Sumâœ¨" class="headerlink" title="494. Target Sumâœ¨"></a><a href="https://leetcode.com/problems/target-sum/" target="_blank" rel="noopener">494. Target Sumâœ¨</a></h2><h3 id="Solution1-27"><a href="#Solution1-27" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>DFS</p>
</li>
<li><p>é¢˜ç›®å¤§æ„ï¼šç»™ä½ ä¸€ä¸²æ•°å­—ï¼Œä½ å¯ä»¥åœ¨æ¯ä¸ªæ•°å­—å‰æ”¾ç½®+æˆ–-ï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ³•å¯ä»¥ä½¿å¾—è¡¨è¾¾å¼çš„å€¼ç­‰äºtargetã€‚You are given a list of non-negative integers, a1, a2, â€¦, an, and a target, S. Now you have 2 symbols <code>+</code> and <code>-</code>. For each integer, you should choose one from <code>+</code> and <code>-</code> as its new symbol.</p>
<p>Find out how many ways to assign symbols to make sum of integers equal to target S.</p>
</li>
<li><p>Time complexity: O(2^n)</p>
<p>Space complexity: O(n)</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> ans;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetSumWays</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> S)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">        sum += num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sum &lt; Math.abs(S)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ans = <span class="number">0</span>;</span><br><span class="line">    dfs(nums, <span class="number">0</span>, S);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> S)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (start == nums.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S == <span class="number">0</span>) ans++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dfs(nums, start + <span class="number">1</span>, S + nums[start]);</span><br><span class="line">    dfs(nums, start + <span class="number">1</span>, S - nums[start]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsolved-Solution2"><a href="#Unsolved-Solution2" class="headerlink" title="Unsolved Solution2:"></a>Unsolved Solution2:</h3><ol>
<li><a href="https://zxi.mytechroad.com/blog/dynamic-programming/leetcode-494-target-sum/" target="_blank" rel="noopener">DP</a></li>
</ol>
<h1 id="Backtracking"><a href="#Backtracking" class="headerlink" title="Backtracking"></a>Backtracking</h1><p>Backtrackingï¼ˆå›æº¯ï¼‰å±äº DFSã€‚</p>
<ul>
<li>æ™®é€š DFS ä¸»è¦ç”¨åœ¨ <strong><code>å¯è¾¾æ€§é—®é¢˜</code></strong> ï¼Œè¿™ç§é—®é¢˜åªéœ€è¦æ‰§è¡Œåˆ°ç‰¹ç‚¹çš„ä½ç½®ç„¶åè¿”å›å³å¯ã€‚</li>
<li>è€Œ Backtracking ä¸»è¦ç”¨äºæ±‚è§£ <strong><code>æ’åˆ—ç»„åˆ</code></strong> é—®é¢˜ï¼Œä¾‹å¦‚æœ‰ { â€˜aâ€™,â€™bâ€™,â€™câ€™ } ä¸‰ä¸ªå­—ç¬¦ï¼Œæ±‚è§£æ‰€æœ‰ç”±è¿™ä¸‰ä¸ªå­—ç¬¦æ’åˆ—å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œè¿™ç§é—®é¢˜åœ¨æ‰§è¡Œåˆ°ç‰¹å®šçš„ä½ç½®è¿”å›ä¹‹åè¿˜ä¼šç»§ç»­æ‰§è¡Œæ±‚è§£è¿‡ç¨‹ã€‚</li>
</ul>
<p>å› ä¸º Backtracking ä¸æ˜¯ç«‹å³è¿”å›ï¼Œè€Œè¦ç»§ç»­æ±‚è§£ï¼Œå› æ­¤åœ¨ç¨‹åºå®ç°æ—¶ï¼Œéœ€è¦æ³¨æ„å¯¹å…ƒç´ çš„æ ‡è®°é—®é¢˜ï¼š</p>
<ul>
<li>åœ¨è®¿é—®ä¸€ä¸ªæ–°å…ƒç´ è¿›å…¥æ–°çš„é€’å½’è°ƒç”¨æ—¶ï¼Œéœ€è¦å°†æ–°å…ƒç´ æ ‡è®°ä¸ºå·²ç»è®¿é—®ï¼Œè¿™æ ·æ‰èƒ½åœ¨ç»§ç»­é€’å½’è°ƒç”¨æ—¶ä¸ç”¨é‡å¤è®¿é—®è¯¥å…ƒç´ ï¼›</li>
<li>ä½†æ˜¯åœ¨é€’å½’è¿”å›æ—¶ï¼Œéœ€è¦å°†å…ƒç´ æ ‡è®°ä¸ºæœªè®¿é—®ï¼Œå› ä¸ºåªéœ€è¦ä¿è¯åœ¨ä¸€ä¸ªé€’å½’é“¾ä¸­ä¸åŒæ—¶è®¿é—®ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥è®¿é—®å·²ç»è®¿é—®è¿‡ä½†æ˜¯ä¸åœ¨å½“å‰é€’å½’é“¾ä¸­çš„å…ƒç´ ã€‚</li>
</ul>
<h2 id="79-Word-Searchâ­"><a href="#79-Word-Searchâ­" class="headerlink" title="79. Word Searchâ­"></a><a href="https://leetcode.com/problems/word-search/" target="_blank" rel="noopener">79. Word Searchâ­</a></h2><p><img src="https://assets.leetcode.com/uploads/2020/11/04/word2.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">For example,</span><br><span class="line">Given board =</span><br><span class="line">[</span><br><span class="line">  [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'E'</span>],</span><br><span class="line">  [<span class="string">'S'</span>,<span class="string">'F'</span>,<span class="string">'C'</span>,<span class="string">'S'</span>],</span><br><span class="line">  [<span class="string">'A'</span>,<span class="string">'D'</span>,<span class="string">'E'</span>,<span class="string">'E'</span>]</span><br><span class="line">]</span><br><span class="line">word = <span class="string">"ABCCED"</span>, -&gt; returns <span class="keyword">true</span>,</span><br><span class="line">word = <span class="string">"SEE"</span>, -&gt; returns <span class="keyword">true</span>,</span><br><span class="line">word = <span class="string">"ABCB"</span>, -&gt; returns <span class="keyword">false</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-28"><a href="#Solution1-28" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//T O(n) | S O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span> || board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == word.charAt(<span class="number">0</span>) &amp;&amp; dfs(board, word, <span class="number">0</span>, i, j)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, String word, <span class="keyword">int</span> idx, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (idx == word.length()) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="comment">// if over board or not correct char</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= board.length || j &lt; <span class="number">0</span> || j &gt;= board[<span class="number">0</span>].length || word.charAt(idx) != board[i][j]) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//back tracking mark it to empty space dfs, and then recover</span></span><br><span class="line">    <span class="keyword">char</span> temp = board[i][j];</span><br><span class="line">    board[i][j] = <span class="string">' '</span>; <span class="comment">//mark as used</span></span><br><span class="line">    <span class="keyword">boolean</span> found = dfs(board, word, idx+<span class="number">1</span>, i + <span class="number">1</span>, j)</span><br><span class="line">        || dfs(board, word, idx+<span class="number">1</span>, i - <span class="number">1</span>, j)</span><br><span class="line">        || dfs(board, word, idx+<span class="number">1</span>, i, j + <span class="number">1</span>)</span><br><span class="line">        || dfs(board, word, idx+<span class="number">1</span>, i, j - <span class="number">1</span>);</span><br><span class="line">    board[i][j] = temp;  <span class="comment">//recover to previoud char for next round, backtracking </span></span><br><span class="line">    <span class="keyword">return</span> found;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Error check:</span></span><br><span class="line"><span class="comment">1. If input is empty, just return false</span></span><br><span class="line"><span class="comment">    1) word == null || word.length == 0</span></span><br><span class="line"><span class="comment">    2) board == null || board.length == 0 || board[0].length == 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution:</span></span><br><span class="line"><span class="comment">    Use DFS to solve this problem</span></span><br><span class="line"><span class="comment">    Idea : traverse form top left to bottom right, in each unit we check if it equals to the first character in the taregt string, if same we apply dfs which return a boolean value</span></span><br><span class="line"><span class="comment">    dfs pass in the board, target string, cur idx, if tarversed string == target return true otherwise return false,</span></span><br><span class="line"><span class="comment">    in each dfs we check the char in unit is same to current idx char in target,</span></span><br><span class="line"><span class="comment">    if dfs retrun true we can just return true, said we do have taregt strig in the board</span></span><br><span class="line"><span class="comment">    booelan dfs(board, word, idx, i, j) &#123;</span></span><br><span class="line"><span class="comment">        //base case</span></span><br><span class="line"><span class="comment">        if (idx == word.length) return true;</span></span><br><span class="line"><span class="comment">        //error check</span></span><br><span class="line"><span class="comment">        if (i &lt; 0 || i &gt; board.length || j &lt; 0 || j &gt; board[0].length || word.charAt(idx) != board[i][j]) return false;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        boolean exist = dfs(board, word, idx+1, i + 1, j)</span></span><br><span class="line"><span class="comment">                        || dfs(board, word, idx+1, i - 1, j)</span></span><br><span class="line"><span class="comment">                        || dfs(board, word, idx+1, i, j + 1)</span></span><br><span class="line"><span class="comment">                        || dfs(board, word, idx+1, i, j - 1);</span></span><br><span class="line"><span class="comment">        retrun exist;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">3. Time O(mn)</span></span><br><span class="line"><span class="comment">Space O(mn)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution2-14"><a href="#Solution2-14" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] direction = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> m;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    m = board.length;</span><br><span class="line">    n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">boolean</span>[][] hasVisited = <span class="keyword">new</span> <span class="keyword">boolean</span>[m][n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; m; r++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; n; c++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (backtracking(<span class="number">0</span>, r, c, hasVisited, board, word)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> curLen, <span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">boolean</span>[][] visited, <span class="keyword">final</span> <span class="keyword">char</span>[][] board, <span class="keyword">final</span> String word)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (curLen == word.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (r &lt; <span class="number">0</span> || r &gt;= m || c &lt; <span class="number">0</span> || c &gt;= n</span><br><span class="line">            || board[r][c] != word.charAt(curLen) || visited[r][c]) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    visited[r][c] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] d : direction) &#123;</span><br><span class="line">        <span class="keyword">if</span> (backtracking(curLen + <span class="number">1</span>, r + d[<span class="number">0</span>], c + d[<span class="number">1</span>], visited, board, word)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    visited[r][c] = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-212-Word-Search-IIğŸ‚â­"><a href="#Unsolved-212-Word-Search-IIğŸ‚â­" class="headerlink" title="Unsolved 212. Word Search IIğŸ‚â­"></a><a href="https://leetcode.com/problems/word-search-ii/" target="_blank" rel="noopener">Unsolved 212. Word Search IIğŸ‚â­</a></h2><h3 id="Solution1-29"><a href="#Solution1-29" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>backtracking + trie</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findWords</span><span class="params">(<span class="keyword">char</span>[][] board, String[] words)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TrieNode root = buildTrie(words);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            dfs(board, i, j, root, ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j, TrieNode node, List&lt;String&gt; ans)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case, if c is visited or not exist in the trie</span></span><br><span class="line">    <span class="keyword">char</span> c = board[i][j];</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">'#'</span> || node.children[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    node = node.children[c - <span class="string">'a'</span>];</span><br><span class="line">    <span class="keyword">if</span> (node.item != <span class="keyword">null</span>) &#123;</span><br><span class="line">        ans.add(node.item);</span><br><span class="line">        node.item = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">0</span>) dfs(board, i - <span class="number">1</span>, j ,node, ans); </span><br><span class="line">    <span class="keyword">if</span> (j &gt; <span class="number">0</span>) dfs(board, i, j - <span class="number">1</span>, node, ans);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; board.length - <span class="number">1</span>) dfs(board, i + <span class="number">1</span>, j, node, ans); </span><br><span class="line">    <span class="keyword">if</span> (j &lt; board[<span class="number">0</span>].length - <span class="number">1</span>) dfs(board, i, j + <span class="number">1</span>, node, ans); </span><br><span class="line">    board[i][j] = c;  <span class="comment">//backtracking</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TrieNode <span class="title">buildTrie</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">        TrieNode node = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = word.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (node.children[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) &#123;</span><br><span class="line">                node.children[c - <span class="string">'a'</span>] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">            &#125;</span><br><span class="line">            node = node.children[c - <span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        node.item = word;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> TrieNode[] children = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">public</span> String item;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findWords</span><span class="params">(<span class="keyword">char</span>[][] board, String[] words)</span> </span>&#123;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    TrieNode root = buildTrie(words);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            dfs(board, i, j, root, res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> i, <span class="keyword">int</span> j, TrieNode p, List&lt;String&gt; res)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c = board[i][j];</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">'#'</span> || p.next[c - <span class="string">'a'</span>] == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">    p = p.next[c - <span class="string">'a'</span>];</span><br><span class="line">    <span class="keyword">if</span> (p.word != <span class="keyword">null</span>) &#123;   <span class="comment">// found one</span></span><br><span class="line">        res.add(p.word);</span><br><span class="line">        p.word = <span class="keyword">null</span>;     <span class="comment">// de-duplicate</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    board[i][j] = <span class="string">'#'</span>;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">0</span>) dfs(board, i - <span class="number">1</span>, j ,p, res); </span><br><span class="line">    <span class="keyword">if</span> (j &gt; <span class="number">0</span>) dfs(board, i, j - <span class="number">1</span>, p, res);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; board.length - <span class="number">1</span>) dfs(board, i + <span class="number">1</span>, j, p, res); </span><br><span class="line">    <span class="keyword">if</span> (j &lt; board[<span class="number">0</span>].length - <span class="number">1</span>) dfs(board, i, j + <span class="number">1</span>, p, res); </span><br><span class="line">    board[i][j] = c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> TrieNode <span class="title">buildTrie</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">    TrieNode root = <span class="keyword">new</span> TrieNode();</span><br><span class="line">    <span class="keyword">for</span> (String w : words) &#123;</span><br><span class="line">        TrieNode p = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : w.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">int</span> i = c - <span class="string">'a'</span>;</span><br><span class="line">            <span class="keyword">if</span> (p.next[i] == <span class="keyword">null</span>) p.next[i] = <span class="keyword">new</span> TrieNode();</span><br><span class="line">            p = p.next[i];</span><br><span class="line">        &#125;</span><br><span class="line">        p.word = w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">    TrieNode[] next = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</span><br><span class="line">    String word;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="51-N-Queensâœ¨"><a href="#51-N-Queensâœ¨" class="headerlink" title="51. N-Queensâœ¨"></a><a href="https://leetcode.com/problems/n-queens/description/" target="_blank" rel="noopener">51. N-Queensâœ¨</a></h2><p><img src="https://camo.githubusercontent.com/538ca5bd92ad237cc495cafa937f2e324db4be6eecde13e47b25d80cb827c7b7/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f30363762333130632d363837372d343066652d396463662d3130363534653733373438352e6a7067" alt=""></p>
<p>åœ¨ n*n çš„çŸ©é˜µä¸­æ‘†æ”¾ n ä¸ªçš‡åï¼Œå¹¶ä¸”æ¯ä¸ªçš‡åä¸èƒ½åœ¨åŒä¸€è¡Œï¼ŒåŒä¸€åˆ—ï¼ŒåŒä¸€å¯¹è§’çº¿ä¸Šï¼Œæ±‚æ‰€æœ‰çš„ n çš‡åçš„è§£ã€‚</p>
<p>ä¸€è¡Œä¸€è¡Œåœ°æ‘†æ”¾ï¼Œåœ¨ç¡®å®šä¸€è¡Œä¸­çš„é‚£ä¸ªçš‡ååº”è¯¥æ‘†åœ¨å“ªä¸€åˆ—æ—¶ï¼Œéœ€è¦ç”¨ä¸‰ä¸ªæ ‡è®°æ•°ç»„æ¥ç¡®å®šæŸä¸€åˆ—æ˜¯å¦åˆæ³•ï¼Œè¿™ä¸‰ä¸ªæ ‡è®°æ•°ç»„åˆ†åˆ«ä¸ºï¼šåˆ—æ ‡è®°æ•°ç»„ã€45 åº¦å¯¹è§’çº¿æ ‡è®°æ•°ç»„å’Œ 135 åº¦å¯¹è§’çº¿æ ‡è®°æ•°ç»„ã€‚</p>
<p>45 åº¦å¯¹è§’çº¿æ ‡è®°æ•°ç»„çš„é•¿åº¦ä¸º 2 * n - 1ï¼Œé€šè¿‡ä¸‹å›¾å¯ä»¥æ˜ç¡® (r, c) çš„ä½ç½®æ‰€åœ¨çš„æ•°ç»„ä¸‹æ ‡ä¸º r + cã€‚</p>
<p><img src="https://camo.githubusercontent.com/b8607e2983ed40fa3f5f5cbad4d1467dc58fb63fff6835b9a59a4b3d04f639f3/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f39633432323932332d313434372d346133622d613465312d3937653636333733383138372e6a7067" alt=""></p>
<p>135 åº¦å¯¹è§’çº¿æ ‡è®°æ•°ç»„çš„é•¿åº¦ä¹Ÿæ˜¯ 2 * n - 1ï¼Œ(r, c) çš„ä½ç½®æ‰€åœ¨çš„æ•°ç»„ä¸‹æ ‡ä¸º n - 1 - (r - c)ã€‚</p>
<p><img src="https://camo.githubusercontent.com/5b04d1d080eb7ffc776c17f8f5629dbec00b231b9dd7c2ee1d0cb49fa5bb2a98/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f37613835653238352d653135322d343131362d623664632d3366616232376261393433372e6a7067" alt=""></p>
<h3 id="Solution1-30"><a href="#Solution1-30" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå›æº¯æ³•ã€‚é€è¡Œï¼ˆé€ä½ï¼‰å°è¯•ï¼Œæ¯æ¬¡ç½®â€œQâ€åï¼Œå°†å…¶æ‰€å¯¹åº”çš„åˆ—ï¼ˆè¡Œå·²ç»å¤„ç†äº†ï¼‰ã€ä¸¤ä¸ªçºµè¡Œï¼ˆrow-i+n, n*2-i-row-1ï¼‰è®¾ç½®ä¸ºå·²è®¿é—®ã€‚O((n^2)^2)</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; r = <span class="keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;();</span><br><span class="line">    <span class="keyword">boolean</span>[] col = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    <span class="keyword">boolean</span>[] lr = <span class="keyword">new</span> <span class="keyword">boolean</span>[n * <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] rl = <span class="keyword">new</span> <span class="keyword">boolean</span>[n * <span class="number">2</span>];</span><br><span class="line">    backtrack(<span class="number">0</span>, n, col, lr, rl, r, <span class="keyword">new</span> ArrayList&lt;String&gt;());</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> n, <span class="keyword">boolean</span>[] col, <span class="keyword">boolean</span>[] lr, <span class="keyword">boolean</span>[] rl, List&lt;List&lt;String&gt;&gt; r, List&lt;String&gt; l)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (row == n) &#123;</span><br><span class="line">    	r.add(<span class="keyword">new</span> ArrayList&lt;String&gt;(l));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (row == n)</span><br><span class="line">    	<span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">int</span> lrp = row - i + n;</span><br><span class="line">        <span class="keyword">int</span> rlp = n * <span class="number">2</span> - i - row - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (col[i] || lr[lrp] || rl[rlp])</span><br><span class="line">    	<span class="keyword">continue</span>;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i1 = <span class="number">0</span>; i1 &lt; n; ++i1) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == i1) &#123;</span><br><span class="line">            sb.append(<span class="string">"Q"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	sb.append(<span class="string">"."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    l.add(sb.toString());</span><br><span class="line">    col[i] = <span class="keyword">true</span>;</span><br><span class="line">    lr[lrp] = <span class="keyword">true</span>;</span><br><span class="line">    rl[rlp] = <span class="keyword">true</span>;</span><br><span class="line">    backtrack(row + <span class="number">1</span>, n, col, lr, rl, r, l);</span><br><span class="line">    l.remove(l.size() - <span class="number">1</span>);</span><br><span class="line">    col[i] = <span class="keyword">false</span>;</span><br><span class="line">    lr[lrp] = <span class="keyword">false</span>;</span><br><span class="line">    rl[rlp] = <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    List&lt;List&lt;String&gt;&gt; res;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        String[][] board = <span class="keyword">new</span> String[n][n];</span><br><span class="line">        <span class="keyword">for</span> (String[] b : board) &#123;</span><br><span class="line">            Arrays.fill(b, <span class="string">"."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        backtrack(board, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(String[][] board, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//base line</span></span><br><span class="line">        <span class="keyword">if</span> (row == board.length) &#123;</span><br><span class="line">            <span class="keyword">for</span> (String[] b : board)</span><br><span class="line">                res.add(Arrays.asList(b));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> n = board[row].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; n; col ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!isValid(board, row, col))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            board[row][col] = <span class="string">"Q"</span>;</span><br><span class="line">            backtrack(board, row + <span class="number">1</span>);</span><br><span class="line">            board[row][col] = <span class="string">"."</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = board.length;</span><br><span class="line">        <span class="comment">//check the column</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][col].equals(<span class="string">"Q"</span>)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å³ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = row - <span class="number">1</span>, j = col + <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n; i--, j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j].equals(<span class="string">"Q"</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = row - <span class="number">1</span>, j = col - <span class="number">1</span>; i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n; i--, j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j].equals(<span class="string">"Q"</span>))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Solution2-15"><a href="#Solution2-15" class="headerlink" title="Solution2:"></a>Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;List&lt;String&gt;&gt; solutions;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">char</span>[][] nQueens;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] colUsed;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] diagonals45Used;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">boolean</span>[] diagonals135Used;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; solveNQueens(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    solutions = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    nQueens = <span class="keyword">new</span> <span class="keyword">char</span>[n][n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        Arrays.fill(nQueens[i], <span class="string">'.'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    colUsed = <span class="keyword">new</span> <span class="keyword">boolean</span>[n];</span><br><span class="line">    diagonals45Used = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span> * n - <span class="number">1</span>];</span><br><span class="line">    diagonals135Used = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">2</span> * n - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">this</span>.n = n;</span><br><span class="line">    backtracking(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> solutions;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(<span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (row == n) &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span>[] chars : nQueens) &#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> String(chars));</span><br><span class="line">        &#125;</span><br><span class="line">        solutions.add(list);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; n; col++) &#123;</span><br><span class="line">        <span class="keyword">int</span> diagonals45Idx = row + col;</span><br><span class="line">        <span class="keyword">int</span> diagonals135Idx = n - <span class="number">1</span> - (row - col);</span><br><span class="line">        <span class="keyword">if</span> (colUsed[col] || diagonals45Used[diagonals45Idx] || diagonals135Used[diagonals135Idx]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nQueens[row][col] = <span class="string">'Q'</span>;</span><br><span class="line">        colUsed[col] = diagonals45Used[diagonals45Idx] = diagonals135Used[diagonals135Idx] = <span class="keyword">true</span>;</span><br><span class="line">        backtracking(row + <span class="number">1</span>);</span><br><span class="line">        colUsed[col] = diagonals45Used[diagonals45Idx] = diagonals135Used[diagonals135Idx] = <span class="keyword">false</span>;</span><br><span class="line">        nQueens[row][col] = <span class="string">'.'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="36-Valid-Sudokuâ­"><a href="#36-Valid-Sudokuâ­" class="headerlink" title="36. Valid Sudokuâ­"></a><a href="https://leetcode.com/problems/valid-sudoku/" target="_blank" rel="noopener">36. Valid Sudokuâ­</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Let us first discuss two questions.</span><br><span class="line"></span><br><span class="line">How to enumerate sub-boxes?</span><br><span class="line">One could use box_index = (row / <span class="number">3</span>) * <span class="number">3</span> + col / <span class="number">3</span> where / is an integer division, row is a row number, and col is a column number.</span><br></pre></td></tr></table></figure>

<p><img src="https://leetcode.com/problems/valid-sudoku/Figures/36/36_boxes_2.png" alt=""></p>
<p>One could just track all values which were already encountered in a hash map <code>value -&gt; count</code>.</p>
<h3 id="Solution1-31"><a href="#Solution1-31" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>brute force</li>
<li>Move along the board.<ul>
<li>Check for each cell value if it was seen already in the current row / column / box :<ul>
<li>Return <code>false</code> if yes.</li>
<li>Keep this value for a further tracking if no.</li>
</ul>
</li>
</ul>
</li>
<li>Return <code>true</code>.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// init data</span></span><br><span class="line">    HashSet&lt;Integer&gt;[] rows = <span class="keyword">new</span> HashSet[<span class="number">9</span>];</span><br><span class="line">    HashSet&lt;Integer&gt;[] cols = <span class="keyword">new</span> HashSet[<span class="number">9</span>];</span><br><span class="line">    HashSet&lt;Integer&gt;[] boxes = <span class="keyword">new</span> HashSet[<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        rows[i] = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        cols[i] = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        boxes[i] = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// validate a board</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j =  <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> num = (<span class="keyword">int</span>) board[i][j];</span><br><span class="line">                <span class="keyword">if</span> (!rows[i].add(num)</span><br><span class="line">                    || !cols[j].add(num)</span><br><span class="line">                    || ! boxes[(i/<span class="number">3</span>)*<span class="number">3</span>+j/<span class="number">3</span>].add(num))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-16"><a href="#Solution2-16" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><p>Collect the set of things we see, encoded as strings. For example:</p>
<ul>
<li><code>&#39;4&#39; in row 7</code> is encoded as <code>&quot;(4)7&quot;</code>.</li>
<li><code>&#39;4&#39; in column 7</code> is encoded as <code>&quot;7(4)&quot;</code>.</li>
<li><code>&#39;4&#39; in the top-right block</code> is encoded as <code>&quot;0(4)2&quot;</code>.</li>
</ul>
<p>Scream <code>false</code> if we ever fail to add something because it was already added (i.e., seen before).</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</span><br><span class="line">                String val = <span class="string">"("</span> + board[i][j] + <span class="string">")"</span>;</span><br><span class="line">                <span class="keyword">if</span> (!set.add(i + val) || !set.add(val + j) || !set.add(i/<span class="number">3</span> + val + j/<span class="number">3</span>))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Eroor check</span></span><br><span class="line"><span class="comment">1. " ", null, return false;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution1:</span></span><br><span class="line"><span class="comment">case1: each row has excatly 123456789 element - </span></span><br><span class="line"><span class="comment">case2: each row has excatly 123456789 element</span></span><br><span class="line"><span class="comment">case3: each sub square has excatly 123456789 element</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Traverse until encounter a empty space('.'), we fill this space with potenitial canidiated 1~9,visited array to record wich element has been used or not</span></span><br><span class="line"><span class="comment">potenitial candidate: we need check all the row, col, and sub square corresponding with this position, make sure no dplicate</span></span><br><span class="line"><span class="comment">otherwise did not meet these cases, we try another candidate</span></span><br><span class="line"><span class="comment">each pos we have 9 possible choice</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">when we encount a val in idx of [i, j]</span></span><br><span class="line"><span class="comment">case1(row) -&gt; String =  row(val)</span></span><br><span class="line"><span class="comment">case2(col) -&gt; String = (val)col</span></span><br><span class="line"><span class="comment">case3(sub square) -&gt; String = i/3(val)j/3</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="37-Sudoku-SolverğŸ’œâœ¨"><a href="#37-Sudoku-SolverğŸ’œâœ¨" class="headerlink" title="37. Sudoku SolverğŸ’œâœ¨"></a><a href="https://leetcode.com/problems/sudoku-solver/" target="_blank" rel="noopener">37. Sudoku SolverğŸ’œâœ¨</a></h2><h3 id="Solution0"><a href="#Solution0" class="headerlink" title="Solution0:"></a>Solution0:</h3><ol>
<li>Brute Force</li>
<li>The first idea is to use brut-force to generate all possible ways to fill the cells with numbers from <code>1</code> to <code>9</code>, and then check them to keep the solution only. That means 9^{81}981 operations to do, where 99 is a number of available digits and 8181 is a number of cells to fill. Hence weâ€™re forced to think further how to optimize.</li>
</ol>
<h3 id="Solution1-32"><a href="#Solution1-32" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Backtracking</p>
</li>
<li><p>There are two programming conceptions here which could help.</p>
<p>The first one is called <em>constrained programming</em>.</p>
</li>
</ol>
<p><img src="https://leetcode.com/problems/sudoku-solver/Figures/37/37_const3.png" alt=""></p>
<p>The second one called <em>backtracking</em>.</p>
<p><img src="https://leetcode.com/problems/sudoku-solver/Figures/37/37_backtrack2.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">How to enumerate sub-boxes</span><br><span class="line">One tip to enumerate sub-boxes: </span><br><span class="line">let us use box_index = (row / <span class="number">3</span>) * <span class="number">3</span> + column / <span class="number">3</span> where / is an integer division.</span><br></pre></td></tr></table></figure>

<p><img src="https://leetcode.com/problems/sudoku-solver/Figures/36/36_boxes_2.png" alt=""></p>
<h3 id="Solution2-17"><a href="#Solution2-17" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>æ€è·¯ï¼šå›æº¯æ³•ï¼Œæ¯ä¸€ä¸ªæœªå¡«ä½ç½®è¯•å›¾å¡«å…¥ 1-9 æ¯ä¸ªæ•°ï¼Œç„¶åå†è¯•ä¸‹ä¸€ä½ç½®ã€‚å¤±è´¥æ—¶è®°å¾—æŠŠå½“å‰å€¼å›ç½®ä¸ºâ€.â€ã€‚</li>
<li>Try 1 through 9 for each cell. The time complexity should be 9 ^ m (m represents the number of blanks to be filled in), since each blank can have 9 choices. Details see comments inside code.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    solve(board);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">solve</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>) &#123;</span><br><span class="line">                <span class="comment">//trial. Try 1 through 9</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> c = <span class="string">'1'</span>; c &lt;= <span class="string">'9'</span>; c++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (isValid(board, i, j, c)) &#123;</span><br><span class="line">                        <span class="comment">//Put c for this cell</span></span><br><span class="line">                        board[i][j] = c;</span><br><span class="line">                        <span class="comment">//If it's the solution return true</span></span><br><span class="line">                        <span class="keyword">if</span> (solve(board))</span><br><span class="line">                            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                        <span class="keyword">else</span>  <span class="comment">//otherwise backtracking</span></span><br><span class="line">                            board[i][j] = <span class="string">'.'</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//check row</span></span><br><span class="line">        <span class="keyword">if</span> (board[i][col] != <span class="string">'.'</span> &amp;&amp; board[i][col] == c)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//check column</span></span><br><span class="line">        <span class="keyword">if</span> (board[row][i] != <span class="string">'.'</span> &amp;&amp; board[row][i] == c)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">//check 3*3 block</span></span><br><span class="line">        <span class="keyword">if</span> (board[<span class="number">3</span> * (row / <span class="number">3</span>) + i / <span class="number">3</span>][<span class="number">3</span> * (col / <span class="number">3</span>) + i % <span class="number">3</span>] != <span class="string">'.'</span></span><br><span class="line">            &amp;&amp; board[<span class="number">3</span> * (row / <span class="number">3</span>) + i / <span class="number">3</span>][<span class="number">3</span> * (col / <span class="number">3</span>) + i % <span class="number">3</span>] == c)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">There are two places can be improved in the isValid() method. See detail below:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Don't need to check whether the a cell in the row, col or region is not dot. Just check these cells are not c is enough. Since c will not be a '.'</span></span><br><span class="line"><span class="comment">Define region start row and region start col variables make the code a bit more readable and reduce 8 times duplicate computing in each call.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> regionRow = <span class="number">3</span> * (row / <span class="number">3</span>);  <span class="comment">//region start row</span></span><br><span class="line">    <span class="keyword">int</span> regionCol = <span class="number">3</span> * (col / <span class="number">3</span>);    <span class="comment">//region start col</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[i][col] == c) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//check row</span></span><br><span class="line">        <span class="keyword">if</span> (board[row][i] == c) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//check column</span></span><br><span class="line">        <span class="keyword">if</span> (board[regionRow + i / <span class="number">3</span>][regionCol + i % <span class="number">3</span>] == c) <span class="keyword">return</span> <span class="keyword">false</span>; <span class="comment">//check 3*3 block</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="778-Swim-in-Rising-WaterğŸ‚ğŸ’"><a href="#778-Swim-in-Rising-WaterğŸ‚ğŸ’" class="headerlink" title="778. Swim in Rising WaterğŸ‚ğŸ’"></a><a href="https://leetcode.com/problems/swim-in-rising-water/" target="_blank" rel="noopener">778. Swim in Rising WaterğŸ‚ğŸ’</a></h2><h3 id="Solution1-33"><a href="#Solution1-33" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">swimInWater</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> N = grid.length;</span><br><span class="line">        Set&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!visited.contains(N*N-<span class="number">1</span>)) &#123;</span><br><span class="line">            visited.clear();</span><br><span class="line">            dfs(grid, <span class="number">0</span>, <span class="number">0</span>, time, visited);</span><br><span class="line">            time++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> time - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span>[][] dirs = &#123;&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> time, Set&lt;Integer&gt; visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt; grid.length - <span class="number">1</span> || j &lt; <span class="number">0</span> || j &gt; grid[<span class="number">0</span>].length - <span class="number">1</span> || grid[i][j] &gt; time || visited.contains(i*grid.length+j)) <span class="keyword">return</span>;</span><br><span class="line">        visited.add(i*grid.length+j);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</span><br><span class="line">            dfs(grid, i+dir[<span class="number">0</span>], j+dir[<span class="number">1</span>], time, visited);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="733-Flood-Fillâœ¨"><a href="#733-Flood-Fillâœ¨" class="headerlink" title="733. Flood Fillâœ¨"></a><a href="https://leetcode.com/problems/flood-fill/" target="_blank" rel="noopener">733. Flood Fillâœ¨</a></h2><h3 id="Solution1-34"><a href="#Solution1-34" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] floodFill(<span class="keyword">int</span>[][] image, <span class="keyword">int</span> sr, <span class="keyword">int</span> sc, <span class="keyword">int</span> newColor) &#123;</span><br><span class="line">    <span class="keyword">if</span> (image[sr][sc] == newColor) &#123;</span><br><span class="line">        <span class="keyword">return</span> image;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fill(image, sr, sc, image[sr][sc], newColor);</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">fill</span><span class="params">(<span class="keyword">int</span>[][] image, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> color, <span class="keyword">int</span> newColor)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= image.length || j &lt; <span class="number">0</span> || j &gt;= image[<span class="number">0</span>].length || image[i][j] != color) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    image[i][j] = newColor;</span><br><span class="line">    fill(image, i + <span class="number">1</span>, j, color, newColor);</span><br><span class="line">    fill(image, i - <span class="number">1</span>, j, color, newColor);</span><br><span class="line">    fill(image, i, j + <span class="number">1</span>, color, newColor);</span><br><span class="line">    fill(image, i, j - <span class="number">1</span>, color, newColor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1723-Find-Minimum-Time-to-Finish-All-JobsğŸƒâœ¨"><a href="#1723-Find-Minimum-Time-to-Finish-All-JobsğŸƒâœ¨" class="headerlink" title="1723. Find Minimum Time to Finish All JobsğŸƒâœ¨"></a><a href="https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/" target="_blank" rel="noopener">1723. Find Minimum Time to Finish All JobsğŸƒâœ¨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: jobs = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>], k = <span class="number">3</span></span><br><span class="line">Output: <span class="number">3</span></span><br><span class="line">Explanation: By assigning each person one job, the maximum time is <span class="number">3</span>.</span><br><span class="line"></span><br><span class="line">Input: jobs = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>], k = <span class="number">2</span></span><br><span class="line">Output: <span class="number">11</span></span><br><span class="line">Explanation: Assign the jobs the following way:</span><br><span class="line">Worker <span class="number">1</span>: <span class="number">1</span>, <span class="number">2</span>, <span class="number">8</span> (working time = <span class="number">1</span> + <span class="number">2</span> + <span class="number">8</span> = <span class="number">11</span>)</span><br><span class="line">Worker <span class="number">2</span>: <span class="number">4</span>, <span class="number">7</span> (working time = <span class="number">4</span> + <span class="number">7</span> = <span class="number">11</span>)</span><br><span class="line">The maximum working time is <span class="number">11</span>.</span><br></pre></td></tr></table></figure>

<p><a href="https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/discuss/1009817/One-branch-cutting-trick-to-solve-three-LeetCode-questions" target="_blank" rel="noopener">https://leetcode.com/problems/find-minimum-time-to-finish-all-jobs/discuss/1009817/One-branch-cutting-trick-to-solve-three-LeetCode-questions</a></p>
<h3 id="Solution1-35"><a href="#Solution1-35" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>prune1: when we have current woker sum of jobs more than the global max, we stop<br>prune2: when we assign a new job to several wokers who has same work load, we only need to pick one, and stop others recursive call.<br>prune3: sort and start from big task then smaller one, we can stop ealier based on prune1</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> res = Integer.MAX_VALUE;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minimumTimeRequired</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    Arrays.sort(jobs);</span><br><span class="line">    dfs(jobs, jobs.length - <span class="number">1</span>, <span class="keyword">new</span> <span class="keyword">int</span>[k]);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] jobs, <span class="keyword">int</span> pos, <span class="keyword">int</span>[] sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pos &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        res = Math.min(res, Arrays.stream(sum).max().getAsInt());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Arrays.stream(sum).max().getAsInt() &gt;= res) <span class="keyword">return</span>;           <span class="comment">//prune1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sum.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; sum[i] == sum[i - <span class="number">1</span>]) <span class="keyword">continue</span>;                  <span class="comment">//prune2</span></span><br><span class="line">        sum[i] += jobs[pos];</span><br><span class="line">        dfs(jobs, pos - <span class="number">1</span>, sum);</span><br><span class="line">        sum[i] -= jobs[pos];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="827-Making-A-Large-IslandğŸ’"><a href="#827-Making-A-Large-IslandğŸ’" class="headerlink" title="827. Making A Large IslandğŸ’"></a><a href="https://leetcode.com/problems/making-a-large-island/" target="_blank" rel="noopener">827. Making A Large IslandğŸ’</a></h2><h3 id="Solution1-36"><a href="#Solution1-36" class="headerlink" title="Solution1:"></a>Solution1:</h3><h2 id="526-Beautiful-Arrangement"><a href="#526-Beautiful-Arrangement" class="headerlink" title="526. Beautiful Arrangement"></a><a href="https://leetcode.com/problems/beautiful-arrangement/" target="_blank" rel="noopener">526. Beautiful Arrangement</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Suppose you have n integers labeled <span class="number">1</span> through n. <span class="function">A permutation of those n integers <span class="title">perm</span> <span class="params">(<span class="number">1</span>-indexed)</span> is considered a beautiful arrangement <span class="keyword">if</span> <span class="keyword">for</span> every <span class="title">i</span> <span class="params">(<span class="number">1</span> &lt;= i &lt;= n)</span>, either of the following is <span class="keyword">true</span>:</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">1. perm[i] is divisible by i.</span></span><br><span class="line"><span class="function">2. i is divisible by perm[i].</span></span><br><span class="line"><span class="function">Given an integer n, return the number of the beautiful arrangements that you can construct.</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">Input: n </span>= <span class="number">2</span></span><br><span class="line">Output: <span class="number">2</span></span><br><span class="line">Explanation: </span><br><span class="line">The first beautiful arrangement is [<span class="number">1</span>,<span class="number">2</span>]:</span><br><span class="line">    - perm[<span class="number">1</span>] = <span class="number">1</span> is divisible by i = <span class="number">1</span></span><br><span class="line">    - perm[<span class="number">2</span>] = <span class="number">2</span> is divisible by i = <span class="number">2</span></span><br><span class="line">The second beautiful arrangement is [<span class="number">2</span>,<span class="number">1</span>]:</span><br><span class="line">    - perm[<span class="number">1</span>] = <span class="number">2</span> is divisible by i = <span class="number">1</span></span><br><span class="line">    - i = <span class="number">2</span> is divisible by perm[<span class="number">2</span>] = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-37"><a href="#Solution1-37" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countArrangement</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] used = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">    findArrangement(n, <span class="number">1</span>, used);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findArrangement</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> idx, <span class="keyword">int</span>[] used)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (idx &gt; n) &#123;</span><br><span class="line">        ans++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (used[i] == <span class="number">0</span> &amp;&amp; (i % idx == <span class="number">0</span> || idx % i == <span class="number">0</span>)) &#123;</span><br><span class="line">            used[i] = <span class="number">1</span>;</span><br><span class="line">            findArrangement(n, idx+<span class="number">1</span>, used);</span><br><span class="line">            used[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1718-Construct-the-Lexicographically-Largest-Valid-SequenceğŸƒ"><a href="#1718-Construct-the-Lexicographically-Largest-Valid-SequenceğŸƒ" class="headerlink" title="1718. Construct the Lexicographically Largest Valid SequenceğŸƒ"></a><a href="https://leetcode.com/problems/construct-the-lexicographically-largest-valid-sequence/" target="_blank" rel="noopener">1718. Construct the Lexicographically Largest Valid SequenceğŸƒ</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The integer <span class="number">1</span> occurs once in the sequence.</span><br><span class="line">Each integer between <span class="number">2</span> and n occurs twice in the sequence.</span><br><span class="line">For every integer i between <span class="number">2</span> and n, the distance between the two occurrences of i is exactly i.</span><br><span class="line">    </span><br><span class="line">Input: n = <span class="number">3</span></span><br><span class="line">Output: [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">Explanation: [<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>] is also a valid sequence, but [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>] is the lexicographically largest valid sequence.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-38"><a href="#Solution1-38" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Since â€˜nâ€™ ranges between 1 to 20 , we can afford a solution of exponential time complexity.</p>
<ol>
<li>We try to construct our result array by taking the largest number possible at each point.</li>
<li>Except 1 (since its count is 1) whenever we place an integer in a particular position, we also place the second occurence of that integer in our temporary array. This is because in the question it is mentioned that : <em>For every integer i between 2 and n, the distance between the two occurrences of i is exactly i.</em></li>
<li>As soon as we reach a valid solution that follows all the constraints we return â€˜trueâ€™. This indicates we do not need to continue our search. (This is an important step as otherwise we will get TLE).</li>
<li>Since we start from largest possible number at each step once we reach a valid solution that is our answer.</li>
</ol>
<p><strong>Time Complexity</strong> : Ideally it should be (n!) since we are using backtracking and trying to find out all possible solutions.<br>But because of this constraint : <strong>For every integer i between 2 and n, the distance between the two occurrences of i is exactly i</strong>, the number of permutations under consideration is reducing greatly.<br>Also since we are trying to find out the <strong>lexicographically largest sequence</strong> we stop as soon as we find a valid solution (early stop).</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] constructDistancedSequence(<span class="keyword">int</span> n) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] ans =  <span class="keyword">new</span> <span class="keyword">int</span>[n*<span class="number">2</span> - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[n + <span class="number">1</span>];</span><br><span class="line">    getSequence(<span class="number">0</span>, ans, visited, n);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//return boolean mean can or can not form assign all value to ans ans idx add to ans.length</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getSequence</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span>[] ans, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//base case</span></span><br><span class="line">    <span class="keyword">if</span> (idx == ans.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ans[idx] != <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// value already assigned in this position. So go ahead with the next index</span></span><br><span class="line">        <span class="keyword">return</span> getSequence(idx+<span class="number">1</span>, ans, visited, n);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// start from n to 1 since we need to find out the lexicographically largest sequence</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i] = <span class="keyword">true</span>;</span><br><span class="line">            ans[idx] = i;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (getSequence(idx+<span class="number">1</span>, ans, visited, n)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (idx + i &lt; ans.length &amp;&amp; ans[idx + i] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// assigning the second occurence of i in the desired position(current index + i )</span></span><br><span class="line">                ans[idx + i] = i;</span><br><span class="line">                <span class="comment">// largest possible sequence satisfying the given conditions found</span></span><br><span class="line">                <span class="keyword">if</span> (getSequence(idx+<span class="number">1</span>, ans, visited, n)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                ans[idx + i] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            visited[i] = <span class="keyword">false</span>;</span><br><span class="line">            ans[idx] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/10/12/Princeton%20Algorithms%20week2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/12/Princeton%20Algorithms%20week2/" class="post-title-link" itemprop="url">Princeton Algorithms week2</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-12 18:15:41" itemprop="dateCreated datePublished" datetime="2020-10-12T18:15:41+09:00">2020-10-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-05 17:03:18" itemprop="dateModified" datetime="2020-11-05T17:03:18+09:00">2020-11-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week2"><a href="#Princeton-Algorithms-week2" class="headerlink" title="Princeton Algorithms week2"></a>Princeton Algorithms week2</h1><p><strong>Suggested Readings.</strong> <strong><code>Section 1.3</code></strong> and <strong><code>2.1</code></strong> in <em>Algorithms, 4th edition</em>.</p>
<p><a href="https://coursera.cs.princeton.edu/algs4/assignments/queues/specification.php" target="_blank" rel="noopener">assignment</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/12/Princeton%20Algorithms%20week2/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/09/26/Algorithms,%204th%20edition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/26/Algorithms,%204th%20edition/" class="post-title-link" itemprop="url">Algorithms, 4th edition</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-26 16:43:35" itemprop="dateCreated datePublished" datetime="2020-09-26T16:43:35+09:00">2020-09-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-12-16 20:21:01" itemprop="dateModified" datetime="2020-12-16T20:21:01+09:00">2020-12-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Algorithms-4th-edition"><a href="#Algorithms-4th-edition" class="headerlink" title="Algorithms, 4th edition"></a>Algorithms, 4th edition</h1><h1 id="ç¬¬äºŒç« æ’åº"><a href="#ç¬¬äºŒç« æ’åº" class="headerlink" title="ç¬¬äºŒç« æ’åº"></a>ç¬¬äºŒç« æ’åº</h1><h2 id="2-1åˆçº§æ’åºç®—æ³•"><a href="#2-1åˆçº§æ’åºç®—æ³•" class="headerlink" title="2.1åˆçº§æ’åºç®—æ³•"></a>2.1åˆçº§æ’åºç®—æ³•</h2><h3 id="æ’åºç®—æ³•ç±»æ¨¡æ¿"><a href="#æ’åºç®—æ³•ç±»æ¨¡æ¿" class="headerlink" title="æ’åºç®—æ³•ç±»æ¨¡æ¿"></a>æ’åºç®—æ³•ç±»æ¨¡æ¿</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">less</span><span class="params">(Comparaible v, Comparaible w)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(Comparaible[] a, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Comparaible t = a[i]; a[i] = a[j]; a[j] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Comparaible[] a)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++)</span><br><span class="line">            StdOut.print(a[i] + <span class="string">" "</span>);</span><br><span class="line">        StdOut.println();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isSorted</span><span class="params">(Comparaible[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; a.length; i++)</span><br><span class="line">            <span class="keyword">if</span> (less(a[i], a[i - <span class="number">1</span>])) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(Strng[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String[] a = In.readStrings();</span><br><span class="line">        sort(a);</span><br><span class="line">        <span class="function"><span class="keyword">assert</span> <span class="title">isSorted</span><span class="params">(a)</span></span>;</span><br><span class="line">        show(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å°†Nä¸ªéšæœºå€¼çš„æ•°ç»„æ’åº"><a href="#å°†Nä¸ªéšæœºå€¼çš„æ•°ç»„æ’åº" class="headerlink" title="å°†Nä¸ªéšæœºå€¼çš„æ•°ç»„æ’åº"></a>å°†Nä¸ªéšæœºå€¼çš„æ•°ç»„æ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Double[] a = <span class="keyword">new</span> Double[N];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) </span><br><span class="line">    a[i] = StrRandom.uniform();</span><br><span class="line">Quick.sort(a);</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæ•°æ®ç±»å‹æ—¶ï¼Œå®ç°Comparableæ¥å£å°±èƒ½ä¿è¯ç”¨ä¾‹ä»£ç å¯ä»¥å°†å…¶æ’åº</p>
<p>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œåªéœ€è¦å®ç°ä¸€ä¸ª<strong><code>compareTo()</code></strong> method</p>
<p>ex</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Date</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Date</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> day;</span><br><span class="line">    ...</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">comparTo</span><span class="params">(Date that)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.year &gt; that.year) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.year &lt; that.year) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Selection-Sort-é€‰æ‹©æ’åº"><a href="#Selection-Sort-é€‰æ‹©æ’åº" class="headerlink" title="Selection Sort(é€‰æ‹©æ’åº)"></a>Selection Sort(é€‰æ‹©æ’åº)</h3><p>éå†ï¼Œé€‰å‡ºæœ€å°çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Selection</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = a.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> min = i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">                <span class="keyword">if</span> (less(a[j], min)) min = j;</span><br><span class="line">            exch(a, i, min);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Insertion-Sort-æ’å…¥æ’åº"><a href="#Insertion-Sort-æ’å…¥æ’åº" class="headerlink" title="Insertion Sort(æ’å…¥æ’åº)"></a>Insertion Sort(æ’å…¥æ’åº)</h3><p>åƒæ•´ç†æ¡¥ç‰Œï¼Œ æ‰‘å…‹ä¸€æ ·ï¼Œéå†æ—¶æŠŠå½“å‰å…ƒç´  æ’å…¥å‰é¢ç›¸åº”çš„ä½ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Insertion</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Cpmparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = a.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt; <span class="number">0</span> &amp;&amp; less(a[j], a[j - <span class="number">1</span>]); j--)</span><br><span class="line">            exch(a, j, j - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Shell-Sort-å¸Œå°”æ’åº"><a href="#Shell-Sort-å¸Œå°”æ’åº" class="headerlink" title="Shell Sort(å¸Œå°”æ’åº)"></a>Shell Sort(å¸Œå°”æ’åº)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Shell</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparaible[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = a.length;</span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (h &lt; n/<span class="number">3</span>) h = <span class="number">3</span>*h + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (h &gt;= <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = h; i &lt; n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &gt; h; &amp;&amp; less(a[j], a[j - h]); j -= h)</span><br><span class="line">                    exch(a, j, j - h);</span><br><span class="line">            &#125;</span><br><span class="line">            h = h / <span class="number">3</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-2Mege-Sort-å½’å¹¶æ’åº"><a href="#2-2Mege-Sort-å½’å¹¶æ’åº" class="headerlink" title="2.2Mege Sort(å½’å¹¶æ’åº)"></a>2.2Mege Sort(å½’å¹¶æ’åº)</h2><h3 id="åŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•"><a href="#åŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•" class="headerlink" title="åŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•"></a>åŸåœ°å½’å¹¶çš„æŠ½è±¡æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> mid, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = lo, j = mid + <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k &lt;= hi; k++)</span><br><span class="line">        aux[k] = a[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = lo; k &lt;= hi; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; mid) a[k] = aux[j++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (i &gt; hi) a[k] = aux[i++];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (less(aux[j], aux[i])) a[k] = aux[j++];</span><br><span class="line">        <span class="keyword">else</span> a[k] = aux[i++];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªé¡¶è€Œä¸‹çš„å½’å¹¶æ’åº"><a href="#è‡ªé¡¶è€Œä¸‹çš„å½’å¹¶æ’åº" class="headerlink" title="è‡ªé¡¶è€Œä¸‹çš„å½’å¹¶æ’åº"></a>è‡ªé¡¶è€Œä¸‹çš„å½’å¹¶æ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">merge</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Comparable[] aux;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(COmparaible[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        aux = <span class="keyword">new</span> Comparaible[a.length];</span><br><span class="line">        sort(a, <span class="number">9</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">        sort(a, lo, mid);</span><br><span class="line">        sort(a, mid + <span class="number">1</span>, hi);</span><br><span class="line">        merge(a, lo, mid, hi);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªåº•è€Œä¸Šçš„å½’å¹¶æ’åº"><a href="#è‡ªåº•è€Œä¸Šçš„å½’å¹¶æ’åº" class="headerlink" title="è‡ªåº•è€Œä¸Šçš„å½’å¹¶æ’åº"></a>è‡ªåº•è€Œä¸Šçš„å½’å¹¶æ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MergeBU</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Comparable[] aux;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comaparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = a.length;</span><br><span class="line">        anx = <span class="keyword">new</span> Comparable[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> size = <span class="number">1</span>; size &lt; n; size += size)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> lo = <span class="number">0</span>; lo &lt; n - size; lo += size+size)</span><br><span class="line">                merge(a, lo, lo + size - <span class="number">1</span>, Math.min(lo + size + size - <span class="number">1</span>, N - <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-3Quick-Sort-å¿«é€Ÿæ’åº"><a href="#2-3Quick-Sort-å¿«é€Ÿæ’åº" class="headerlink" title="2.3Quick Sort(å¿«é€Ÿæ’åº)"></a>2.3Quick Sort(å¿«é€Ÿæ’åº)</h2><h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Quick</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> vois <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        StdRandom.shuffle(a);</span><br><span class="line">        sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[a], <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> j = partition(a, lo, hi);</span><br><span class="line">        sort(a, lo, j - <span class="number">1</span>);</span><br><span class="line">        sort(a, j + <span class="number">1</span>, hi);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¿«é€Ÿæ’åºçš„åˆ‡åˆ†"><a href="#å¿«é€Ÿæ’åºçš„åˆ‡åˆ†" class="headerlink" title="å¿«é€Ÿæ’åºçš„åˆ‡åˆ†"></a>å¿«é€Ÿæ’åºçš„åˆ‡åˆ†</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(Comparable[] a, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = lo, j = hi + <span class="number">1</span>;</span><br><span class="line">    Comparable p = a[lo];</span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (less(a[++i], p)) <span class="keyword">if</span> (i == hi) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">while</span> (less(p, a[--j])) <span class="keyword">if</span> (j == lo) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">        exch(a, i, j);</span><br><span class="line">    &#125;</span><br><span class="line">    exch(a, lo, j);</span><br><span class="line">    <span class="keyword">return</span> j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-4Heap-ä¼˜å…ˆé˜Ÿåˆ—"><a href="#2-4Heap-ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="2.4Heap(ä¼˜å…ˆé˜Ÿåˆ—)"></a>2.4Heap(ä¼˜å…ˆé˜Ÿåˆ—)</h2><h3 id="å †å®ç°çš„æ¯”è¾ƒå’Œäº¤æ¢"><a href="#å †å®ç°çš„æ¯”è¾ƒå’Œäº¤æ¢" class="headerlink" title="å †å®ç°çš„æ¯”è¾ƒå’Œäº¤æ¢"></a>å †å®ç°çš„æ¯”è¾ƒå’Œäº¤æ¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> pq[i].compareTo(pq[j]) &lt; <span class="number">0</span>;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;Key temp = pq[i]; pq[i] = pq[j]; pq[j] = temp;&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±ä¸‹è€Œä¸Šçš„å †æœ‰åºåŒ–ï¼Œä¸Šæµ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(k &gt; <span class="number">1</span> &amp;&amp; less(k/<span class="number">2</span>, k))</span><br><span class="line">    &#123;</span><br><span class="line">        exch(k/<span class="number">2</span>, k);</span><br><span class="line">        k = k/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”±ä¸Šè€Œä¸‹çš„å †æœ‰åºåŒ–ï¼Œä¸‹æ²‰"><a href="#ç”±ä¸Šè€Œä¸‹çš„å †æœ‰åºåŒ–ï¼Œä¸‹æ²‰" class="headerlink" title="ç”±ä¸Šè€Œä¸‹çš„å †æœ‰åºåŒ–ï¼Œä¸‹æ²‰"></a>ç”±ä¸Šè€Œä¸‹çš„å †æœ‰åºåŒ–ï¼Œä¸‹æ²‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sink</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">2</span>*k &lt;= N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> j = <span class="number">2</span>*k;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; N &amp;&amp; less(j, j+<span class="number">1</span>)) j++;</span><br><span class="line">        <span class="keyword">if</span> (!less(k, j)) <span class="keyword">break</span>;</span><br><span class="line">        exch(k, j);</span><br><span class="line">        k = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—"><a href="#åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—"></a>åŸºäºå †çš„ä¼˜å…ˆé˜Ÿåˆ—</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MAXPQ</span>&lt;<span class="title">Key</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">Key</span>&gt;&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Key[] pq;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> N = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MaxPQ</span><span class="params">(<span class="keyword">int</span> maxN)</span></span></span><br><span class="line"><span class="function">    </span>&#123;pq = (Key[]) <span class="keyword">new</span> Comparable[maxN+<span class="number">1</span>];&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="keyword">return</span> N == <span class="number">0</span>;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="keyword">return</span> N;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Key v)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        pq[++N] = v;</span><br><span class="line">        swim(N);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Key <span class="title">delMax</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Key max = pq[<span class="number">1</span>];</span><br><span class="line">        exch(<span class="number">1</span>, N--);</span><br><span class="line">        pq[N+<span class="number">1</span>] = <span class="keyword">null</span>;</span><br><span class="line">        sink(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">less</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">exch</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title">sink</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Heap-Sort-å †æ’åº"><a href="#Heap-Sort-å †æ’åº" class="headerlink" title="Heap Sort(å †æ’åº)"></a>Heap Sort(å †æ’åº)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = a.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = N/<span class="number">2</span>; k &gt;= <span class="number">1</span>; k--)</span><br><span class="line">        sink(a, k, N);</span><br><span class="line">    <span class="keyword">while</span> (N &gt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        exch(a, <span class="number">1</span>, N--);</span><br><span class="line">        sink(a, <span class="number">1</span>, N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬ä¸‰ç« æŸ¥æ‰¾"><a href="#ç¬¬ä¸‰ç« æŸ¥æ‰¾" class="headerlink" title="ç¬¬ä¸‰ç« æŸ¥æ‰¾"></a>ç¬¬ä¸‰ç« æŸ¥æ‰¾</h1><h2 id="3-1ç¬¦å·è¡¨"><a href="#3-1ç¬¦å·è¡¨" class="headerlink" title="3.1ç¬¦å·è¡¨"></a>3.1ç¬¦å·è¡¨</h2><h3 id="é¡ºåºæŸ¥æ‰¾-åŸºäºæ— åºé“¾è¡¨"><a href="#é¡ºåºæŸ¥æ‰¾-åŸºäºæ— åºé“¾è¡¨" class="headerlink" title="é¡ºåºæŸ¥æ‰¾(åŸºäºæ— åºé“¾è¡¨)"></a>é¡ºåºæŸ¥æ‰¾(åŸºäºæ— åºé“¾è¡¨)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SequentialSearchST</span>&lt;<span class="title">Key</span>, <span class="title">Value</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Node first;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        Key key;</span><br><span class="line">        Value value;</span><br><span class="line">        Node next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(Key key, Value value, Node next)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.key = key;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Value <span class="title">get</span><span class="params">(Key key)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Node x = first; x != <span class="keyword">null</span>; x = x.next)</span><br><span class="line">            <span class="keyword">if</span> (key.equals(x.key))</span><br><span class="line">                <span class="keyword">return</span> x.val;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(Key key, Value val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Node x = first; x != <span class="keyword">null</span>; x = x.next)</span><br><span class="line">            <span class="keyword">if</span> (key.equals(x.key))</span><br><span class="line">            &#123;x.val = val; <span class="keyword">return</span>;&#125;</span><br><span class="line">        first = <span class="keyword">new</span> Node(key, val, first);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="äºŒåˆ†æŸ¥æ‰¾-åŸºäºæœ‰åºæ•°ç»„"><a href="#äºŒåˆ†æŸ¥æ‰¾-åŸºäºæœ‰åºæ•°ç»„" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾(åŸºäºæœ‰åºæ•°ç»„)"></a>äºŒåˆ†æŸ¥æ‰¾(åŸºäºæœ‰åºæ•°ç»„)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinarySearchST</span>&lt;<span class="title">Key</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">Key</span>&gt;, <span class="title">Value</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Key[] keys;</span><br><span class="line">    <span class="keyword">private</span> Value[] value;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> N;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BinarySearchST</span><span class="params">(<span class="keyword">int</span> capacity)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        keys[] = (Key[]) <span class="keyword">new</span> Comparable[capacity];</span><br><span class="line">        vals = (Value[]) <span class="keyword">new</span> Object[capacity];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;<span class="keyword">return</span> N;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Value <span class="title">get</span><span class="params">(Key key)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty()) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> i = rank(key);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; N &amp;&amp; keys[i].compareTo(key) == <span class="number">0</span>) <span class="keyword">return</span> vals[i];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rank</span><span class="params">(Key key)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(Key key, Value val)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = rank(key);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; N &amp;&amp; keys[i].compareTo(key) == <span class="number">0</span>)</span><br><span class="line">        &#123;vals[i] = val; <span class="keyword">return</span>; &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = N; j &gt; i; j--)</span><br><span class="line">        &#123;keys[j] = keys[j - i]; vals[j] = vals[j - <span class="number">1</span>]&#125;</span><br><span class="line">        keys[i] = key; vals[i] = val;</span><br><span class="line">        N++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Key key)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="åŸºäºæœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾-è¿­ä»£"><a href="#åŸºäºæœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾-è¿­ä»£" class="headerlink" title="åŸºäºæœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾(è¿­ä»£)"></a>åŸºäºæœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾(è¿­ä»£)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rank</span><span class="params">(Key key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>, hi = N-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt;= hi)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = lo + (hi - lo)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> cmp = key.compareTo(keys[mid]);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) hi = mid+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) lo = mid+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„æœ‰åºç¬¦å·è¡¨çš„å…¶ä»–æ“ä½œ"><a href="#åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„æœ‰åºç¬¦å·è¡¨çš„å…¶ä»–æ“ä½œ" class="headerlink" title="åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„æœ‰åºç¬¦å·è¡¨çš„å…¶ä»–æ“ä½œ"></a>åŸºäºäºŒåˆ†æŸ¥æ‰¾çš„æœ‰åºç¬¦å·è¡¨çš„å…¶ä»–æ“ä½œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Key <span class="title">min</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> kets[<span class="number">0</span>]&#125;;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Key <span class="title">max</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> keys[N-<span class="number">1</span>];&#125;;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Key <span class="title">select</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="keyword">return</span> keys[k];&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Key <span class="title">ceiling</span><span class="params">(Key key)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = rank(key);</span><br><span class="line">    <span class="keyword">return</span> keys[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Key <span class="title">floor</span><span class="params">(Key key)</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Key <span class="title">delete</span><span class="params">(Key key)</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterable&lt;Key&gt; <span class="title">keys</span><span class="params">(Key lo, Key hi)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Queue&lt;Key&gt; q = <span class="keyword">new</span> Queue&lt;Key&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = rank(lo)l i &lt; rank(hi); i++)</span><br><span class="line">    q.enqueue(keys[i]);</span><br><span class="line">    <span class="keyword">if</span> (contains(hi))</span><br><span class="line">        q.enqueue(keys[rank(hi));</span><br><span class="line">    <span class="keyword">return</span> q;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-2Binary-Search-Tree-äºŒå‰æŸ¥æ‰¾æ ‘"><a href="#3-2Binary-Search-Tree-äºŒå‰æŸ¥æ‰¾æ ‘" class="headerlink" title="3.2Binary Search Tree(äºŒå‰æŸ¥æ‰¾æ ‘)"></a>3.2Binary Search Tree(äºŒå‰æŸ¥æ‰¾æ ‘)</h2><h3 id="åŸºäºäºŒå‰æŸ¥æ‰¾æ ‘çš„ç¬¦å·è¡¨"><a href="#åŸºäºäºŒå‰æŸ¥æ‰¾æ ‘çš„ç¬¦å·è¡¨" class="headerlink" title="åŸºäºäºŒå‰æŸ¥æ‰¾æ ‘çš„ç¬¦å·è¡¨"></a>åŸºäºäºŒå‰æŸ¥æ‰¾æ ‘çš„ç¬¦å·è¡¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BST</span>&lt;<span class="title">Key</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&lt;<span class="title">Key</span>&gt;, <span class="title">Value</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/09/25/Princeton%20Algorithms%20week1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/25/Princeton%20Algorithms%20week1/" class="post-title-link" itemprop="url">Princeton Algorithms week1</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-25 16:57:35" itemprop="dateCreated datePublished" datetime="2020-09-25T16:57:35+09:00">2020-09-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-05 16:24:28" itemprop="dateModified" datetime="2020-11-05T16:24:28+09:00">2020-11-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithms/" itemprop="url" rel="index"><span itemprop="name">Algorithms</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Princeton-Algorithms-week1"><a href="#Princeton-Algorithms-week1" class="headerlink" title="Princeton Algorithms week1"></a>Princeton Algorithms week1</h1><h2 id="Course-Introduction"><a href="#Course-Introduction" class="headerlink" title="Course Introduction"></a>Course Introduction</h2><p>Finish <strong><code>Algorithms, 4th Edition</code></strong> section<strong><code>1.1, 1.2</code></strong></p>
<p><a href="https://coursera.cs.princeton.edu/algs4/assignments/percolation/specification.php" target="_blank" rel="noopener">assignment</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/09/25/Princeton%20Algorithms%20week1/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://dejavi-19.github.io/2020/09/20/Stack%20&%20Queue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
      <meta itemprop="name" content="Dejavu">
      <meta itemprop="description" content="Stay gold">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dejavu's Notebook">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/Stack%20&%20Queue/" class="post-title-link" itemprop="url">Stack & Queue</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-20 17:13:29" itemprop="dateCreated datePublished" datetime="2020-09-20T17:13:29+09:00">2020-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-02-12 00:33:44" itemprop="dateModified" datetime="2021-02-12T00:33:44+09:00">2021-02-12</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Leetcode/" itemprop="url" rel="index"><span itemprop="name">Leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h1><h2 id="735-Asteroid-Collisionâ­"><a href="#735-Asteroid-Collisionâ­" class="headerlink" title="735. Asteroid Collisionâ­"></a><a href="https://leetcode.com/problems/asteroid-collision/" target="_blank" rel="noopener">735. Asteroid Collisionâ­</a></h2><h3 id="Solution1"><a href="#Solution1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Say we have our answer as a stack with rightmost asteroid <code>top</code>, and a <code>new</code> asteroid comes in. If <code>new</code> is moving right (<code>new &gt; 0</code>), or if <code>top</code> is moving left (<code>top &lt; 0</code>), no collision occurs.</li>
<li>Otherwise, if <code>abs(new) &lt; abs(top)</code>, then the <code>new</code> asteroid will blow up; if <code>abs(new) == abs(top)</code> then both asteroids will blow up; and if <code>abs(new) &gt; abs(top)</code>, then the <code>top</code> asteroid will blow up (and possibly more asteroids will, so we should continue checking.)</li>
<li>Time Complexity: O(N), where N<em>N</em> is the number of asteroids. Our stack pushes and pops each asteroid at most once.</li>
<li>Space Complexity: O(N). We use a stack to keep track of the intermediate results. In the worst case, the states do not evolve at the end, <em>i.e.</em> we need O(N) space where N<em>N</em> is the number of input asteroids.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] asteroidCollision(<span class="keyword">int</span>[] asteroids) &#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span>(asteroids == <span class="keyword">null</span> || asteroids.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> asteroids;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> asteroid : asteroids) &#123;</span><br><span class="line">        <span class="keyword">if</span> (asteroid &gt; <span class="number">0</span>) &#123;  <span class="comment">// previous one does not matter, no collision forever</span></span><br><span class="line">            stack.push(asteroid);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//detory small one</span></span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peek() &gt; <span class="number">0</span> &amp;&amp; stack.peek() &lt; -asteroid) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty() || stack.peek() &lt; <span class="number">0</span>) &#123;  <span class="comment">//both move to left</span></span><br><span class="line">                stack.push(asteroid);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (stack.peek() == -asteroid) &#123;  <span class="comment">//same mass detory both</span></span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[stack.size()];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = stack.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        result[i] = stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="682-Baseball-Gameâ­"><a href="#682-Baseball-Gameâ­" class="headerlink" title="682. Baseball Gameâ­"></a><a href="https://leetcode.com/problems/baseball-game/" target="_blank" rel="noopener">682. Baseball Gameâ­</a></h2><h3 id="Solution1-1"><a href="#Solution1-1" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Stack</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calPoints</span><span class="params">(String[] ops)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String op : ops) &#123;</span><br><span class="line">        <span class="keyword">if</span> (op.equals(<span class="string">"+"</span>)) &#123;</span><br><span class="line">            <span class="keyword">int</span> top = stack.pop();</span><br><span class="line">            <span class="keyword">int</span> newTop = top + stack.peek();</span><br><span class="line">            stack.push(top);</span><br><span class="line">            stack.push(newTop);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op.equals(<span class="string">"D"</span>)) &#123;</span><br><span class="line">            stack.push(stack.peek() * <span class="number">2</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op.equals(<span class="string">"C"</span>)) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.push(Integer.valueOf(op));  <span class="comment">//String -&gt; int</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : stack) ans += num;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="394-Decode-StringğŸ‚â­"><a href="#394-Decode-StringğŸ‚â­" class="headerlink" title="394. Decode StringğŸ‚â­"></a><a href="https://leetcode.com/problems/decode-string/" target="_blank" rel="noopener">394. Decode StringğŸ‚â­</a></h2><p><img src="https://leetcode.com/problems/decode-string/Figures/394/decode_overview.png" alt=""></p>
<h3 id="Solution1-2"><a href="#Solution1-2" class="headerlink" title="Solution1:"></a>Solution1:</h3><p><img src="https://leetcode.com/problems/decode-string/Figures/394/twoStack_diagram.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; nums = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Stack&lt;StringBuilder&gt; strs = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    StringBuilder cur = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (Character.isDigit(c)) &#123;</span><br><span class="line">            count = count * <span class="number">10</span> + (c - <span class="string">'0'</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'['</span>) &#123;</span><br><span class="line">            <span class="comment">// push the number k to countStack</span></span><br><span class="line">            nums.push(count);</span><br><span class="line">            <span class="comment">// reset currentString and k</span></span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// push the currentString to stringStack</span></span><br><span class="line">            strs.push(cur);</span><br><span class="line">            cur = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">']'</span>) &#123;</span><br><span class="line">            StringBuilder decode = strs.pop();</span><br><span class="line">            <span class="keyword">int</span> n = nums.pop();</span><br><span class="line">            <span class="comment">// decode currentK[currentString] by appending currentString k times</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                decode.append(cur);</span><br><span class="line">            &#125;</span><br><span class="line">            cur = decode;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur.append(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="MIN-MAX-Stack-Construction-AE-â­"><a href="#MIN-MAX-Stack-Construction-AE-â­" class="headerlink" title="MIN MAX Stack Construction(AE)â­"></a>MIN MAX Stack Construction(AE)â­</h2><ol>
<li><p>Write MinMaxStack class support for pushing and poping values on and off the stack, peeking at the value at the top of the stack, getting both minimum and the maximum values in the stack at any given point in time; Implement a stack data structure with a couple of extra special properties, the min max properties.</p>
</li>
<li><p>Stack. LIFO standard. Be able to access the minimum and maximum value at constant time. We can use array or linkedlist to implement the stack.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stack: <span class="number">5</span>, <span class="number">7</span>, <span class="number">2</span></span><br><span class="line">min    <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span></span><br><span class="line">max    <span class="number">5</span>, <span class="number">7</span>, <span class="number">7</span></span><br><span class="line">peek   <span class="number">5</span>, <span class="number">7</span>, <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-3"><a href="#Solution1-3" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">stack:                     <span class="number">5</span>   -&gt;   <span class="number">7</span>   -&gt;   <span class="number">2</span></span><br><span class="line">Map&lt;String, Integer&gt;[<span class="string">"min"</span>-<span class="number">5</span>, <span class="string">"min"</span>-<span class="number">5</span>, <span class="string">"min"</span>-<span class="number">2</span>]</span><br><span class="line">				  [<span class="string">"max"</span>-<span class="number">5</span>, <span class="string">"max"</span>-<span class="number">7</span>, <span class="string">"max"</span>-<span class="number">7</span>]</span><br><span class="line">peek                       <span class="number">5</span>   -&gt;   <span class="number">7</span>   -&gt;   <span class="number">2</span></span><br><span class="line">minMaxStack is a list of Map&lt;String, Integer&gt;</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MinMaxStack</span> </span>&#123;</span><br><span class="line">    <span class="comment">//initialize minMaxStack varaible, a list that holds minimum and maximum values and stack varaible holds our values</span></span><br><span class="line">    List&lt;Map&lt;String, Integer&gt;&gt; minMaxStack = <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Integer&gt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; stack = <span class="keyword">new</span> ArrayList&lt;Inetger&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//O(1) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;  <span class="comment">//just return the last enelemt</span></span><br><span class="line">        <span class="keyword">return</span> stack.get(stack.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//O(1) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        minMaxStack.remove(minMaxStack.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> stack.remove(stack.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//O(1) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Integer&gt; newMinMax = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();  <span class="comment">//declare a varaible</span></span><br><span class="line">        newMinMax.put(<span class="string">"min"</span>, number);</span><br><span class="line">        newMinMax.put(<span class="string">"max"</span>, number);</span><br><span class="line">        <span class="keyword">if</span> (minMaxStack.size() &gt; <span class="number">0</span>) &#123;  <span class="comment">//if there are previous values in stack</span></span><br><span class="line">            Map&lt;String, Integer&gt; lastMinMax = (minMaxStack.get(minMaxStack.size() - <span class="number">1</span>));  <span class="comment">//peeking the final value of the last minMaxStack, use it update current </span></span><br><span class="line">            newMinMax.replace(<span class="string">"min"</span>, Math.min(lastMInMax.get(<span class="string">"min"</span>), number));</span><br><span class="line">            newMinMax.replace(<span class="string">"max"</span>, Math.max(lastMInMax.get(<span class="string">"max"</span>), number));</span><br><span class="line">        &#125;</span><br><span class="line">        minMaxStack.add(newMinMax);</span><br><span class="line">        stack.add(number);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//O(1) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> minMaxStack.get(minMaxStack.size() - <span class="number">1</span>).get(<span class="string">"min"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//O(1) time | O(1) space</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMax</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> minMaxStack.get(minMaxStack.size() - <span class="number">1</span>).get(<span class="string">"max"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="155-Min-Stack"><a href="#155-Min-Stack" class="headerlink" title="155. Min Stack"></a><a href="https://leetcode.com/problems/min-stack" target="_blank" rel="noopener">155. Min Stack</a></h3><p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time. </p>
<ul>
<li>push(x) â€“ Push element x onto stack. </li>
<li>pop() â€“ Removes the element on top of the stack. </li>
<li>top() â€“ Get the top element. </li>
<li>getMin() â€“ Retrieve the minimum element in the stack.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Example:</span><br><span class="line">MinStack minStack = <span class="keyword">new</span> MinStack();</span><br><span class="line">minStack.push(-<span class="number">2</span>);</span><br><span class="line">minStack.push(<span class="number">0</span>);</span><br><span class="line">minStack.push(-<span class="number">3</span>);</span><br><span class="line">minStack.getMin(); --&gt; Returns -<span class="number">3</span>.</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top(); --&gt; Returns <span class="number">0</span>.</span><br><span class="line">minStack.getMin(); --&gt; Returns -<span class="number">2</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-4"><a href="#Solution1-4" class="headerlink" title="Solution1:"></a>Solution1:</h3><p><img src="https://leetcode.com/problems/min-stack/Figures/155/two_stacks.png" alt=""></p>
<ol>
<li>æ€è·¯1ï¼šTwo Stacks</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; minStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        stack.push(x);</span><br><span class="line">        <span class="keyword">if</span> (minStack.isEmpty() || x &lt;= minStack.peek()) &#123;</span><br><span class="line">            minStack.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (stack.peek().equals(minStack.peek())) &#123;</span><br><span class="line">            minStack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> minStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2"><a href="#Solution2" class="headerlink" title="Solution2:"></a>Solution2:</h3><p><img src="https://leetcode.com/problems/min-stack/Figures/155/stack_with_mins.png" alt=""></p>
<ol>
<li>æ€è·¯2ï¼ˆç•¥ï¼‰ï¼šStack of Value/ Minimum Pairs</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Stack&lt;<span class="keyword">int</span>[]&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/* If the stack is empty, then the min value</span></span><br><span class="line"><span class="comment">         * must just be the first value we add. */</span></span><br><span class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">            stack.push(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x, x&#125;);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> currentMin = stack.peek()[<span class="number">1</span>];</span><br><span class="line">        stack.push(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;x, Math.min(x, currentMin)&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek()[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek()[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="716-Max-Stack"><a href="#716-Max-Stack" class="headerlink" title="716. Max Stack"></a><a href="https://leetcode.com/problems/max-stack/" target="_blank" rel="noopener">716. Max Stack</a></h3><h3 id="Solution1-5"><a href="#Solution1-5" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Stack&lt;Integer&gt; stack;</span><br><span class="line"><span class="keyword">public</span> Stack&lt;Integer&gt; maxStack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** initialize your data structure here. */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MaxStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    maxStack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = maxStack.isEmpty()? x : maxStack.peek();</span><br><span class="line">    max = Math.max(max, x);</span><br><span class="line">    maxStack.push(max);</span><br><span class="line">    stack.push(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    maxStack.pop();</span><br><span class="line">    <span class="keyword">return</span> stack.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> stack.peek();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peekMax</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> maxStack.peek();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">popMax</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max = peekMax();</span><br><span class="line">    Stack&lt;Integer&gt; temp = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(stack.peek() != max) &#123;</span><br><span class="line">        temp.push(pop());</span><br><span class="line">    &#125;</span><br><span class="line">    pop();</span><br><span class="line">    <span class="keyword">while</span>(!temp.isEmpty()) &#123;</span><br><span class="line">        push(temp.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="895-Maximum-Frequency-Stackâœ¨"><a href="#895-Maximum-Frequency-Stackâœ¨" class="headerlink" title="895. Maximum Frequency Stackâœ¨"></a><a href="https://leetcode.com/problems/maximum-frequency-stack/" target="_blank" rel="noopener">895. Maximum Frequency Stackâœ¨</a></h2><h3 id="Solution1-6"><a href="#Solution1-6" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> PriorityQueue&lt;<span class="keyword">int</span>[]&gt; heap;<span class="comment">//val, freq, index</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span> idx;<span class="comment">//used to deal with frequency tie. might overflow, but question says we will only have 10^4 push operations</span></span><br><span class="line"><span class="keyword">public</span> HashMap&lt;Integer, Integer&gt; map;<span class="comment">//val-&gt;freq</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FreqStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    heap = <span class="keyword">new</span> PriorityQueue&lt;<span class="keyword">int</span>[]&gt;((a, b) -&gt; (a[<span class="number">1</span>] == b[<span class="number">1</span>] ? b[<span class="number">2</span>] - a[<span class="number">2</span>] : b[<span class="number">1</span>] - a[<span class="number">1</span>]));<span class="comment">//dealing with tie</span></span><br><span class="line">    idx = <span class="number">0</span>;</span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//O(logn)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    map.put(x, map.getOrDefault(x, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    heap.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;x, map.get(x), idx++&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = heap.poll()[<span class="number">0</span>];</span><br><span class="line">    map.put(ans, map.get(ans) - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (map.get(ans) == <span class="number">0</span>) map.remove(ans);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Unsolved-Solution2"><a href="#Unsolved-Solution2" class="headerlink" title="Unsolved Solution2:"></a>Unsolved Solution2:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Hash map freq will count the frequence of elements.</span><br><span class="line">Hash map m is a map of stack.</span><br><span class="line">If element x has n frequence, we will push x n times in m[<span class="number">1</span>], m[<span class="number">2</span>] .. m[n]</span><br><span class="line">maxfreq records the maximum frequence.</span><br><span class="line"></span><br><span class="line">push(x) will push x tom[++freq[x]]</span><br><span class="line">pop() will pop from the m[maxfreq]</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FreqStack</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; freq = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    HashMap&lt;Integer, Stack&lt;Integer&gt;&gt; m = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> maxfreq = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> f = freq.getOrDefault(x, <span class="number">0</span>) + <span class="number">1</span>;</span><br><span class="line">        freq.put(x, f);</span><br><span class="line">        maxfreq = Math.max(maxfreq, f);</span><br><span class="line">        <span class="keyword">if</span> (!m.containsKey(f)) m.put(f, <span class="keyword">new</span> Stack&lt;Integer&gt;());</span><br><span class="line">        m.get(f).add(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x = m.get(maxfreq).pop();</span><br><span class="line">        freq.put(x, maxfreq - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (m.get(maxfreq).size() == <span class="number">0</span>) maxfreq--;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Balanced-Brackets-AE"><a href="#Balanced-Brackets-AE" class="headerlink" title="Balanced Brackets(AE)"></a>Balanced Brackets(AE)</h2><ol>
<li><p>Given a string of brackets, there are 3 type brackets. And each have opening and closing brackets. Every opening and closing have to be matched. </p>
</li>
<li><p>Apply stack LIFO to keep track of every pairs.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(([]()())&#123;&#125;)</span><br><span class="line">[(, (, [,],] -&gt; wheninput is closing bracket ], first check stack is not empty and last element, the last opening bracket need to matching current closing bracket, <span class="keyword">if</span> match pop them</span><br><span class="line">[(, (]  (remove [] matched)</span><br><span class="line">[(, (, (]</span><br><span class="line">[(, (]  (remove () matched) etc</span><br><span class="line">after iterate process we need to check <span class="keyword">if</span> stack is empty</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="Solution1-7"><a href="#Solution1-7" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//O(n) time | O(n) space  eg.imbalanced string (((((( case, store them in stack will be O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">balancedBrackets</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    String openingBrackets = <span class="string">"([&#123;"</span>;</span><br><span class="line">    String closingBrackets = <span class="string">")]&#125;"</span>;</span><br><span class="line">    Map&lt;Character, Character&gt; matchingBrackets = <span class="keyword">new</span> HashMap&lt;Character, Character&gt;();  <span class="comment">//use hash table to store the closing bracket matching the corresponding opening bracket</span></span><br><span class="line">    matchingBrackets.put(<span class="string">')'</span>, <span class="string">'('</span>);</span><br><span class="line">    matchingBrackets.put(<span class="string">']'</span>, <span class="string">'['</span>);</span><br><span class="line">    matchingBrackets.put(<span class="string">'&#125;'</span>, <span class="string">'&#123;'</span>);</span><br><span class="line">    List&lt;Character&gt; stack = <span class="keyword">new</span> ArrayList&lt;Character&gt;();  <span class="comment">//create the stack to store</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); ++i) &#123;</span><br><span class="line">        <span class="keyword">char</span> letter = str.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (openingBrackets.indexOf(letter) != -<span class="number">1</span>) &#123;</span><br><span class="line">            stack.add(letter);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (closingBrackets.indexOf(letter) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.size() == <span class="number">0</span>) &#123;  <span class="comment">//is stack is empty, we don't have openging bracket to pair</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (stack.get(stack.size() - <span class="number">1</span>) == matchingBrackets.get(letter)) &#123;</span><br><span class="line">                stack.remove(stack.size() - <span class="number">1</span>);  <span class="comment">//if matched, remove the matched ele in stack</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.size() == <span class="number">0</span>;  <span class="comment">//after traverse stack shouldbe empty if all ele correctly matched</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="20-Valid-Parenthesesâœ¨"><a href="#20-Valid-Parenthesesâœ¨" class="headerlink" title="20. Valid Parenthesesâœ¨"></a><a href="https://leetcode.com/problems/valid-parentheses/" target="_blank" rel="noopener">20. Valid Parenthesesâœ¨</a></h3><p>Given a string containing just the characters â€˜(â€˜, â€˜)â€™, â€˜{â€˜, â€˜}â€™, â€˜[â€˜ and â€˜]â€™, determine if the input string is valid. The brackets must close in the correct order, â€œ()â€ and â€œ()[]{}â€ are all valid but â€œ(]â€ and â€œ([)]â€ are not.</p>
<h3 id="Solution1-8"><a href="#Solution1-8" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå…¸å‹çš„å‹æ ˆå‡ºæ ˆæ“ä½œï¼Œé‡å·¦æ‹¬å·åˆ™å‹å³æ‹¬å·ï¼Œå³åˆ™å‡ºæ ˆä¸”å¯¹æ¯”ã€‚å¯¹æ¯”æœ‰ä¸åŒæˆ–æœ€åæ ˆä¸ä¸ºç©ºï¼Œåˆ™å¤±è´¥ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Map&lt;Character, Character&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">']'</span>, <span class="string">'['</span>);</span><br><span class="line">    map.put(<span class="string">')'</span>, <span class="string">'('</span>);</span><br><span class="line">    map.put(<span class="string">'&#125;'</span>, <span class="string">'&#123;'</span>);</span><br><span class="line">    Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//tarverse s, if c else if o</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(c)) &#123;  <span class="comment">//é‡åˆ°å³æ‹¬å·åˆ™pop()å¯¹æ¯”å‡ºæ ˆæ‹¬å·å…ƒç´ æ˜¯å¦æ˜¯åŒç±»å‹closing bracket</span></span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty() || map.get(c) != stack.peek()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;  <span class="comment">//é‡å·¦æ‹¬å·åˆ™push stack</span></span><br><span class="line">            stack.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Shorten-Path-AE"><a href="#Shorten-Path-AE" class="headerlink" title="Shorten Path(AE)"></a>Shorten Path(AE)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.. mean <span class="keyword">return</span> to previous path</span><br><span class="line">. mean turn to current dictionary, <span class="keyword">do</span> nothing</span><br><span class="line"><span class="string">"/foo/../test/../test/../foo//bar/./baz"</span> = <span class="string">"/foo/bar/baz"</span></span><br><span class="line">Step1: split with respect to forward slashes</span><br><span class="line">Step2: filter out all of the empty strings and single dots</span><br><span class="line">Step3: add to a <span class="keyword">final</span> stack, <span class="keyword">if</span> an absolute path, (<span class="string">"/"</span> is first character) add empty string to stack</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-9"><a href="#Solution1-9" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">shortenPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//check if an absolute path</span></span><br><span class="line">    <span class="keyword">boolean</span> startsWithPath = path.charAt(<span class="number">0</span>) == <span class="string">'/'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//split with respect to "/"</span></span><br><span class="line">    String[] tokensArr = path.split(<span class="string">"/"</span>);</span><br><span class="line">    List&lt;String&gt; tokensList = Arrays.asList(tokensArr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//filter out all of the "" and "."</span></span><br><span class="line">    List&lt;String&gt; filteredTokens = tokensList.stream().filter(token -&gt; isImportantToken(token)).collect(Collectors.toList());  </span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; stack = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">    <span class="keyword">if</span> (startsWithPath) stack.add(<span class="string">""</span>);</span><br><span class="line">    <span class="keyword">for</span> (String token : filteredTokens) &#123;</span><br><span class="line">        <span class="keyword">if</span> (token.equals(<span class="string">".."</span>)) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            case1 expty stack or double dots ../../foo can not remove .. otherwise lose information, add ".." to the stack</span></span><br><span class="line"><span class="comment">            case2 foo/.. , pop stack</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            <span class="keyword">if</span> (stack.size() == <span class="number">0</span> || stack.get(stack.size() - <span class="number">1</span>).equals(<span class="string">".."</span>)) &#123;</span><br><span class="line">                stack.add(token);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!stack.get(stack.size() - <span class="number">1</span>).equals(<span class="string">""</span>)) &#123;</span><br><span class="line">                stack.remove(stack.size() - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.add(token);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (stack.size() == <span class="number">1</span> &amp;&amp; stack.get(<span class="number">0</span>).equals(<span class="string">""</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"/"</span>;</span><br><span class="line">    <span class="keyword">return</span> String.join(<span class="string">"/"</span>, stack);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isImportantToken</span><span class="params">(String token)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> token.length() &gt; <span class="number">0</span> &amp;&amp; !token.equals(<span class="string">"."</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="71-Simplify-Pathâœ¨"><a href="#71-Simplify-Pathâœ¨" class="headerlink" title="71. Simplify Pathâœ¨"></a><a href="https://leetcode.com/problems/simplify-path/" target="_blank" rel="noopener">71. Simplify Pathâœ¨</a></h3><h3 id="Solution1-10"><a href="#Solution1-10" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Using Stacks</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">simplifyPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Handle empty string</span></span><br><span class="line">    <span class="keyword">if</span> (path.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">return</span> path;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initialize a stack</span></span><br><span class="line">    Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;String&gt;();</span><br><span class="line">    String[] components = path.split(<span class="string">"/"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Split the input string on "/" as the delimiter and process each portion one by one</span></span><br><span class="line">    <span class="keyword">for</span> (String directory : components) &#123;</span><br><span class="line">        <span class="comment">// A no-op for a "." or an empty string</span></span><br><span class="line">        <span class="keyword">if</span> (directory.equals(<span class="string">"."</span>) || directory.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (directory.equals(<span class="string">".."</span>)) &#123;</span><br><span class="line">            <span class="comment">// If the current component is a "..", then</span></span><br><span class="line">            <span class="comment">// we pop an entry from the stack if it's non-empty</span></span><br><span class="line">            <span class="keyword">if</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Finally, a legitimate directory name, so we add it</span></span><br><span class="line">            <span class="comment">// to our stack</span></span><br><span class="line">            stack.add(directory);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Stich together all the directory names together    </span></span><br><span class="line">    StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (String dir : stack) &#123;  <span class="comment">//traverse a stack from bottom to top using a for loop</span></span><br><span class="line">        result.append(<span class="string">"/"</span>);</span><br><span class="line">        result.append(dir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result.length() &gt; <span class="number">0</span> ? result.toString() : <span class="string">"/"</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-1"><a href="#Solution2-1" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>æ€è·¯ï¼šé€ä¸€åŠ å…¥ Listï¼Œå†é€ä¸€è¾“å‡ºåˆ° StringBuilder ä¸­å³å¯ï¼Œæ³¨æ„æ¯ä¸€çº§é—´éœ€è¦/ã€‚ç‰¹æ®Šæƒ…å†µï¼š//ï¼Œå…ˆå»é™¤æ‰€æœ‰ //ã€‚â€œ.â€ï¼Œä¸é¢„ç†ç¬ã€‚â€œ..â€å‘ä¸Šä¸€çº§ç›®å½•ï¼ˆå¦‚æœå­˜åœ¨åˆ™åœ¨ List ä¸­åˆ é™¤ï¼‰ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">simplifyPath</span><span class="params">(String path)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = path.length();</span><br><span class="line">    String[] p = path.split(<span class="string">"/"</span>);</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    LinkedList&lt;String&gt; s = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String pa : p) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pa.equals(<span class="string">".."</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!s.isEmpty()) &#123;</span><br><span class="line">                s.removeLast();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pa.equals(<span class="string">"/"</span>) || pa.equals(<span class="string">"."</span>)) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (pa.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            s.add(pa);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!s.isEmpty()) &#123;</span><br><span class="line">        sb.append(<span class="string">"/"</span>).append(s.pollFirst());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sb.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        sb.append(<span class="string">"/"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="232-Implement-Queue-using-StacksğŸ‚âœ¨"><a href="#232-Implement-Queue-using-StacksğŸ‚âœ¨" class="headerlink" title="232. Implement Queue using StacksğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/implement-queue-using-stacks/description/" target="_blank" rel="noopener">232. Implement Queue using StacksğŸ‚âœ¨</a></h2><p>æ ˆçš„é¡ºåºä¸ºåè¿›å…ˆå‡ºï¼Œè€Œé˜Ÿåˆ—çš„é¡ºåºä¸ºå…ˆè¿›å…ˆå‡ºã€‚</p>
<p>ä½¿ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—ï¼Œä¸€ä¸ªå…ƒç´ éœ€è¦ç»è¿‡ä¸¤ä¸ªæ ˆæ‰èƒ½å‡ºé˜Ÿåˆ—ï¼Œåœ¨ç»è¿‡ç¬¬ä¸€ä¸ªæ ˆæ—¶å…ƒç´ é¡ºåºè¢«åè½¬ï¼Œç»è¿‡ç¬¬äºŒä¸ªæ ˆæ—¶å†æ¬¡è¢«åè½¬ï¼Œæ­¤æ—¶å°±æ˜¯å…ˆè¿›å…ˆå‡ºé¡ºåºã€‚</p>
<p><img src="https://assets.leetcode.com/static_assets/media/original_images/232_queue_using_stacksBPush.png" alt=""></p>
<h3 id="Solution1-11"><a href="#Solution1-11" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šæ ˆæ˜¯å…ˆå…¥åå‡ºï¼Œæ‰€ä»¥åªè¦å€ŸåŠ©å¦ä¸€ä¸ªæ ˆå°±èƒ½è¾¾åˆ°å…ˆè¿›å…ˆå‡ºã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyQueue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> front;</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; s1 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; s2 = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Push element x to the back of queue. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.isEmpty())</span><br><span class="line">            front = x;</span><br><span class="line">        <span class="keyword">while</span> (!s1.isEmpty())</span><br><span class="line">            s2.push(s1.pop());</span><br><span class="line">        s2.push(x);</span><br><span class="line">        <span class="keyword">while</span> (!s2.isEmpty())</span><br><span class="line">            s1.push(s2.pop());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Removes the element from in front of queue and returns that element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = s1.pop();</span><br><span class="line">        <span class="keyword">if</span> (!s1.isEmpty())</span><br><span class="line">            front = s1.peek();</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Get the front element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> front;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns whether the queue is empty. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s1.isEmpty() &amp;&amp; s2.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="225-Implement-Stack-using-QueuesğŸ‚"><a href="#225-Implement-Stack-using-QueuesğŸ‚" class="headerlink" title="225. Implement Stack using QueuesğŸ‚"></a><a href="https://leetcode.com/problems/implement-stack-using-queues/description/" target="_blank" rel="noopener">225. Implement Stack using QueuesğŸ‚</a></h2><p>åœ¨å°†ä¸€ä¸ªå…ƒç´  x æ’å…¥é˜Ÿåˆ—æ—¶ï¼Œä¸ºäº†ç»´æŠ¤åŸæ¥çš„åè¿›å…ˆå‡ºé¡ºåºï¼Œéœ€è¦è®© x æ’å…¥é˜Ÿåˆ—é¦–éƒ¨ã€‚è€Œé˜Ÿåˆ—çš„é»˜è®¤æ’å…¥é¡ºåºæ˜¯é˜Ÿåˆ—å°¾éƒ¨ï¼Œå› æ­¤åœ¨å°† x æ’å…¥é˜Ÿåˆ—å°¾éƒ¨ä¹‹åï¼Œéœ€è¦è®©é™¤äº† x ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ å‡ºé˜Ÿåˆ—ï¼Œå†å…¥é˜Ÿåˆ—ã€‚</p>
<p>Implement the following operations of a stack using queues.</p>
<ul>
<li>push(x) â€“ Push element x onto stack. </li>
<li>pop() â€“ Removes the element on top of the stack.</li>
<li>top() â€“ Get the top element. </li>
<li>empty() â€“ Return whether the stack is empty.</li>
</ul>
<p>Notes:</p>
<ul>
<li>You must use only standard operations of a queue â€“ which means only <strong><code>push to back</code></strong>, <strong><code>peek/pop from front</code></strong>, <strong><code>size</code></strong>, and <strong><code>is empty</code></strong> operations are valid. </li>
<li>Depending on your language, queue may not be supported natively. You may simulate a queue by using a list or deque (double-ended queue), as long as you use only standard operations of a queue. </li>
<li>You may assume that all operations are valid (for example, no pop or top operations will be called on an empty stack).</li>
</ul>
<h3 id="Solution1-12"><a href="#Solution1-12" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šä¸ºäº†å…ˆè¿›åå‡ºï¼Œæ¯æ¬¡æ·»åŠ æ–°å…ƒç´ åéƒ½åè½¬å‰é¢æ‰€æœ‰å…ƒç´ ï¼Œå³é€ä¸ªé‡æ–°å…¥æ ˆã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Push element x onto stack. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        queue.add(x);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; queue.size() - <span class="number">1</span>; i++) &#123;  <span class="comment">//rotating the order of the elements before last element in the deque</span></span><br><span class="line">            queue.add(queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the element on top of the stack and returns that element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the top element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns whether the stack is empty. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-2"><a href="#Solution2-2" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><p>Two Queues</p>
</li>
<li><p>Two Queues, push - O(1)<em>O</em>(1), pop O(n)<em>O</em>(<em>n</em>)</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Queue&lt;Integer&gt; q1 = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"><span class="keyword">private</span> Queue&lt;Integer&gt; q2 = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> top;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Push element x onto stack.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    q1.add(x);</span><br><span class="line">    top = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Removes the element on top of the stack.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (q1.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        top = q1.remove();</span><br><span class="line">        q2.add(top);</span><br><span class="line">    &#125;</span><br><span class="line">    q1.remove();</span><br><span class="line">    Queue&lt;Integer&gt; temp = q1;</span><br><span class="line">    q1 = q2;</span><br><span class="line">    q2 = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Two Queues, push - O(n)<em>O</em>(<em>n</em>), pop O(1)<em>O</em>(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">    q2.add(x);</span><br><span class="line">    top = x;</span><br><span class="line">    <span class="keyword">while</span> (!q1.isEmpty()) &#123;                </span><br><span class="line">        q2.add(q1.remove());</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Integer&gt; temp = q1;</span><br><span class="line">    q1 = q2;</span><br><span class="line">    q2 = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="901-Online-Stock-Spanâœ¨"><a href="#901-Online-Stock-Spanâœ¨" class="headerlink" title="901. Online Stock Spanâœ¨"></a><a href="https://leetcode.com/problems/online-stock-span/" target="_blank" rel="noopener">901. Online Stock Spanâœ¨</a></h2><p>Explanation</p>
<p>You can refer to the same problem 739. Daily Temperatures.Push every pair of <code>&lt;price, result&gt;</code> to a stack.<br>Pop lower price from the stack and accumulate the count. One price will be pushed once and popped once.<br>So <code>2 * N</code> times stack operations and <code>N</code> times calls. Iâ€™ll say time complexity is amortized <code>O(1)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StockSpanner</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        We should have a stack of a pair of (current  price, maximum number of consecutive days)</span></span><br><span class="line"><span class="comment">        Since we don't have an access to the indicies.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    Stack&lt;<span class="keyword">int</span>[]&gt; s;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StockSpanner</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        s = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">   Let's trace the algorithm together on [100, 80, 60, 70, 60, 75, 85]</span></span><br><span class="line"><span class="comment">   1. calling StockSpanner.next(100) should result in first element in our stack will be (100, 1) (s.size() == 1)</span></span><br><span class="line"><span class="comment">   2. calling StockSpanner.next(80) should result in second element in our stack will be (80, 1) (s.size() == 2)</span></span><br><span class="line"><span class="comment">   3. calling StockSpanner.next(60) should result in third element in our stack will be (60, 1) (s.size() == 3)</span></span><br><span class="line"><span class="comment">   4. Now on calling StockSpanner.next(70) we should add span of (60) + 1 &#123;the current day&#125;</span></span><br><span class="line"><span class="comment">   and remove it from stack (70, 2) (s.size() == 3)</span></span><br><span class="line"><span class="comment">   5. Now on calling StockSpanner.next(60) result in fourth element in our stack will be (60, 1) (s.size() == 4)</span></span><br><span class="line"><span class="comment">   6. Now on calling StockSpanner.next(75) we should add span of (60) and (70) + 1 &#123;the current day&#125;</span></span><br><span class="line"><span class="comment">   and remove it from stack : (75, 4) (s.size() == 3)</span></span><br><span class="line"><span class="comment">   7. Now on calling StockSpanner.next(85) we should add span of (75) and (80) + 1 &#123;the current day&#125;</span></span><br><span class="line"><span class="comment">   and remove it from stack : (85, 6) (s.size() == 2)</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">(<span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> span = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (!s.isEmpty() &amp;&amp; price &gt;= s.peek()[<span class="number">0</span>]) &#123; <span class="comment">// If the current price is greater than stack peek.</span></span><br><span class="line">            span += s.peek()[<span class="number">1</span>];</span><br><span class="line">            s.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        s.push(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;price, span&#125;);</span><br><span class="line">        <span class="keyword">return</span> span;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="739-Daily-Temperaturesâœ¨"><a href="#739-Daily-Temperaturesâœ¨" class="headerlink" title="739. Daily Temperaturesâœ¨"></a><a href="https://leetcode.com/problems/daily-temperatures/description/" target="_blank" rel="noopener">739. Daily Temperaturesâœ¨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">71</span>, <span class="number">69</span>, <span class="number">72</span>, <span class="number">76</span>, <span class="number">73</span>]</span><br><span class="line">Output: [<span class="number">1</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line"><span class="keyword">return</span> the next greater num index</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-13"><a href="#Solution1-13" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>åœ¨éå†æ•°ç»„æ—¶ç”¨æ ˆæŠŠæ•°ç»„ä¸­çš„æ•°å­˜èµ·æ¥ï¼Œå¦‚æœå½“å‰éå†çš„æ•°æ¯”æ ˆé¡¶å…ƒç´ æ¥çš„å¤§ï¼Œè¯´æ˜æ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°å°±æ˜¯å½“å‰å…ƒç´ ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] dailyTemperatures(<span class="keyword">int</span>[] T) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = T.length;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> curIdx = <span class="number">0</span>; curIdx &lt; n; ++curIdx) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; T[curIdx] &gt; T[stack.peek()]) &#123;</span><br><span class="line">            <span class="keyword">int</span> preIdx = stack.pop();</span><br><span class="line">            res[preIdx] = curIdx - preIdx;</span><br><span class="line">        &#125;</span><br><span class="line">        stack.add(curIdx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="503-Next-Greater-Element-IIâœ¨"><a href="#503-Next-Greater-Element-IIâœ¨" class="headerlink" title="503. Next Greater Element IIâœ¨"></a><a href="https://leetcode.com/problems/next-greater-element-ii/description/" target="_blank" rel="noopener">503. Next Greater Element IIâœ¨</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">Output: [<span class="number">2</span>,-<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">Explanation: The first <span class="number">1</span> next greater number is <span class="number">2</span>;</span><br><span class="line">The number <span class="number">2</span> can not find next greater number;</span><br><span class="line">The second <span class="number">1</span> next greater number needs to search circularly, which is also <span class="number">2</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-14"><a href="#Solution1-14" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Explanation</p>
<p>Loop once, we can get the Next Greater Number of a normal array.</p>
<p>Loop twice, we can get the Next Greater Number of a circular array</p>
<p>Complexity</p>
<p>Time <code>O(N)</code> for one pass<br>Spce <code>O(N)</code> in worst case</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒºåˆ«äºnext greater element I, æœ‰é‡å¤å…ƒç´ æ‰€ä»¥indexå…¥æ ˆï¼Œè€Œä¸æ˜¯ç”¨å“ˆå¸Œè¡¨è®°å½•å¯¹åº”å…ƒç´ </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElements(<span class="keyword">int</span>[] A) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = A.length, res[] = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    Arrays.fill(res, -<span class="number">1</span>);</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n * <span class="number">2</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; A[stack.peek()] &lt; A[i % n])</span><br><span class="line">            res[stack.pop()] = A[i % n];</span><br><span class="line">        stack.push(i % n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="496-Next-Greater-Element-Iâœ¨"><a href="#496-Next-Greater-Element-Iâœ¨" class="headerlink" title="496. Next Greater Element Iâœ¨"></a><a href="https://leetcode.com/problems/next-greater-element-i/" target="_blank" rel="noopener">496. Next Greater Element Iâœ¨</a></h3><h3 id="Solution0"><a href="#Solution0" class="headerlink" title="Solution0:"></a>Solution0:</h3><ol>
<li>Brute Force</li>
<li>Time complexity : O(mn). The complete nums<em>nums array(of size n*n</em>) needs to be scanned for all the m<em>m</em> elements of findNums<em>findNums</em> in the worst case.</li>
<li>Space complexity : O(m). res array of size m<em>m</em> is used, where m<em>m</em> is the length of findNums array.</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElement(<span class="keyword">int</span>[] findNums, <span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[findNums.length];</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; findNums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">boolean</span> found = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; nums.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (found &amp;&amp; nums[j] &gt; findNums[i]) &#123;</span><br><span class="line">                res[i] = nums[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nums[j] == findNums[i]) &#123;</span><br><span class="line">                found = <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j == nums.length) &#123;</span><br><span class="line">            res[i] = -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-15"><a href="#Solution1-15" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Using Stack</li>
<li>Suppose we have a decreasing sequence followed by a greater number<br>For example <code>[5, 4, 3, 2, 1, 6]</code> then the greater number <code>6</code> is the next greater element for all previous numbers in the sequence</li>
<li>We use a stack to keep a <strong>decreasing</strong> sub-sequence, whenever we see a number <code>x</code> greater than <code>stack.peek()</code> we pop all elements less than <code>x</code> and for all the popped ones, their next greater element is <code>x</code><br>For example <code>[9, 8, 7, 3, 2, 1, 6]</code><br>The stack will first contain <code>[9, 8, 7, 3, 2, 1]</code> and then we see <code>6</code> which is greater than <code>1</code> so we pop <code>1 2 3</code> whose next greater element should be <code>6</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextGreaterElement(<span class="keyword">int</span>[] findNums, <span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[findNums.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.empty() &amp;&amp; nums[i] &gt; stack.peek())</span><br><span class="line">            map.put(stack.pop(), nums[i]);</span><br><span class="line">        stack.push(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty())</span><br><span class="line">        map.put(stack.pop(), -<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; findNums.length; i++) &#123;</span><br><span class="line">        res[i] = map.get(findNums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1019-Next-Greater-Node-In-Linked-Listâœ¨"><a href="#1019-Next-Greater-Node-In-Linked-Listâœ¨" class="headerlink" title="1019. Next Greater Node In Linked Listâœ¨"></a><a href="https://leetcode.com/problems/next-greater-node-in-linked-list/" target="_blank" rel="noopener">1019. Next Greater Node In Linked Listâœ¨</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [<span class="number">2</span>,<span class="number">1</span>,<span class="number">5</span>]</span><br><span class="line">Output: [<span class="number">5</span>,<span class="number">5</span>,<span class="number">0</span>]</span><br><span class="line">Input: [<span class="number">1</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">1</span>]</span><br><span class="line">Output: [<span class="number">7</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">9</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-16"><a href="#Solution1-16" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>O(N) Time, O(N) Space</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] nextLargerNodes(ListNode head) &#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    ListNode cur = head;</span><br><span class="line">    List&lt;Integer&gt; nums = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">        nums.add(cur.val);</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[nums.size()];</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; nums.get(stack.peek()) &lt; nums.get(i)) &#123;</span><br><span class="line">            ans[stack.pop()] = nums.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        stack.push(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="150-Evaluate-Reverse-Polish-Notationâœ¨"><a href="#150-Evaluate-Reverse-Polish-Notationâœ¨" class="headerlink" title="150. Evaluate Reverse Polish Notationâœ¨"></a><a href="https://leetcode.com/problems/evaluate-reverse-polish-notation/" target="_blank" rel="noopener">150. Evaluate Reverse Polish Notationâœ¨</a></h2><h3 id="Solution1-17"><a href="#Solution1-17" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>æ€è·¯ï¼šæ— é¡»è€ƒè™‘æ‹¬å·ï¼Œå…¸å‹æ ˆæ“ä½œå³å¯å®Œæˆï¼Œå¦‚æœç¢°åˆ°æ•°å­—å°±å…¥æ ˆï¼Œç¢°åˆ°æ“ä½œç¬¦å°±å‡ºæ ˆä¸¤ä¸ªå¹¶è¿›è¡Œç›¸åº”æ“ä½œå å†å…¥æ ˆï¼Œæœ€åå¼¹å‡ºæ ˆä¸­ç»“æœã€‚</p>
</li>
<li><p>Java valueOf() æ–¹æ³•</p>
</li>
<li><p>valueOf() æ–¹æ³•ç”¨äºè¿”å›ç»™å®šå‚æ•°çš„åŸç”Ÿ Number å¯¹è±¡å€¼ï¼Œå‚æ•°å¯ä»¥æ˜¯åŸç”Ÿæ•°æ®ç±»å‹, Stringç­‰ã€‚</p>
<p>è¯¥æ–¹æ³•æ˜¯é™æ€æ–¹æ³•ã€‚è¯¥æ–¹æ³•å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œä¸€ä¸ªæ˜¯åŸºæ•°ã€‚</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(String s)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(String s, <span class="keyword">int</span> radix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line">    Integer x = Integer.valueOf(<span class="number">9</span>);</span><br><span class="line">    Double c = Double.valueOf(<span class="number">5</span>);</span><br><span class="line">    Float a = Float.valueOf(<span class="string">"80"</span>);              </span><br><span class="line">    Integer b = Integer.valueOf(<span class="string">"444"</span>,<span class="number">16</span>);   <span class="comment">// ä½¿ç”¨ 16 è¿›åˆ¶</span></span><br><span class="line"></span><br><span class="line">    System.out.println(x);  <span class="comment">//9</span></span><br><span class="line">    System.out.println(c);  <span class="comment">//5.0</span></span><br><span class="line">    System.out.println(a);  <span class="comment">//80.0</span></span><br><span class="line">    System.out.println(b);  <span class="comment">//1092</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(String[] tokens)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; s = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    <span class="keyword">for</span> (String t : tokens) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"+"</span>.equals(t))</span><br><span class="line">            s.push(s.pop() + s.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"-"</span>.equals(t))</span><br><span class="line">            s.push(<span class="number">0</span> - (s.pop() - s.pop()));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"*"</span>.equals(t))</span><br><span class="line">            s.push(s.pop() * s.pop());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"/"</span>.equals(t)) &#123;</span><br><span class="line">            a = s.pop();</span><br><span class="line">            b = s.pop();</span><br><span class="line">            s.push(b / a);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            s.push(Integer.valueOf(t));  <span class="comment">//String -&gt; int</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s.pop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="946-Validate-Stack-SequencesğŸ’"><a href="#946-Validate-Stack-SequencesğŸ’" class="headerlink" title="946. Validate Stack SequencesğŸ’"></a><a href="https://leetcode.com/problems/validate-stack-sequences/" target="_blank" rel="noopener">946. Validate Stack SequencesğŸ’</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: pushed = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], popped = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">Output: <span class="keyword">true</span></span><br><span class="line">Explanation: We might <span class="keyword">do</span> the following sequence:</span><br><span class="line">push(<span class="number">1</span>), push(<span class="number">2</span>), push(<span class="number">3</span>), push(<span class="number">4</span>), pop() -&gt; <span class="number">4</span>,</span><br><span class="line">push(<span class="number">5</span>), pop() -&gt; <span class="number">5</span>, pop() -&gt; <span class="number">3</span>, pop() -&gt; <span class="number">2</span>, pop() -&gt; <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-18"><a href="#Solution1-18" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Simulating</li>
<li>Initialize am empty <code>stack</code>,<br>iterate and push elements from <code>pushed</code> one by one.<br>Each time, weâ€™ll try to pop the elements from as many as possibile <code>popped</code>.<br>In the end, we weâ€™ll check if <code>stack</code> is empty.</li>
<li>Time <code>O(N)</code><br>Space <code>O(N)</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validateStackSequences</span><span class="params">(<span class="keyword">int</span>[] pushed, <span class="keyword">int</span>[] popped)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : pushed) &#123;</span><br><span class="line">        stack.push(num);</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; stack.peek() == popped[idx]) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            idx++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="856-Score-of-Parenthesesâœ¨"><a href="#856-Score-of-Parenthesesâœ¨" class="headerlink" title="856. Score of Parenthesesâœ¨"></a><a href="https://leetcode.com/problems/score-of-parentheses/" target="_blank" rel="noopener">856. Score of Parenthesesâœ¨</a></h2><h3 id="Solution1-19"><a href="#Solution1-19" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><code>cur</code> record the score at the current layer level.</li>
<li>If we meet <code>&#39;(&#39;</code>,<br>we push the current score to <code>stack</code>,<br>enter the next inner layer level,<br>and reset <code>cur = 0</code>.</li>
<li>If we meet <code>&#39;)&#39;</code>,<br>the <code>cur</code> score will be doubled and will be at least 1.<br>We exit the current layer level,<br>and set <code>cur = stack.pop() + cur</code></li>
<li>Complexity: <code>O(N)</code> time and <code>O(N)</code> space</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">scoreOfParentheses</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : S.toCharArray()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">'('</span>) &#123;</span><br><span class="line">            stack.push(cur);</span><br><span class="line">            cur = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cur = stack.pop() + Math.max(<span class="number">1</span>, <span class="number">2</span> * cur);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Unsolved-385-Mini-Parser"><a href="#Unsolved-385-Mini-Parser" class="headerlink" title="Unsolved 385.Mini Parser"></a><a href="https://leetcode.com/problems/mini-parser/" target="_blank" rel="noopener">Unsolved 385.Mini Parser</a></h2><h3 id="Solution1-20"><a href="#Solution1-20" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šå…¸å‹å‹æ ˆé¢˜ï¼Œæ¯ä¸€çº§å…ƒç´ æ”¾åœ¨åŒä¸€ List ä¸­ã€‚é€’å½’å®ç°ï¼Œåªæœ‰æ˜¯æ ¹çº§æ‹¬å·ï¼ˆopen == 1ï¼‰æ‰å…·ä½“è®¡ç®—ï¼Œå¦åˆ™ å‹æ ˆæŠŠå­ä¸²è¿›è¡Œç›¸åŒçš„è¿ç®—å¹¶ä½œä¸ºå½“å‰æ•°ç»„çš„ä¸€ä¸ªå€¼ï¼ˆå­åºåˆ—ï¼‰ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> NestedInteger <span class="title">deserialize</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!s.startsWith(<span class="string">"["</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NestedInteger(Integer.valueOf(s));</span><br><span class="line">    NestedInteger ni = <span class="keyword">new</span> NestedInteger();</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> open = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> start = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt; s.length()) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">        i++;</span><br><span class="line">        <span class="keyword">if</span> (open == <span class="number">1</span> &amp;&amp; (Character.isDigit(c) || c == <span class="string">'-'</span>)) &#123;</span><br><span class="line">            <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="string">'-'</span>)</span><br><span class="line">                num = c - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i))) &#123;</span><br><span class="line">                num = num * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'-'</span>)</span><br><span class="line">                num = -num;</span><br><span class="line">            ni.add(<span class="keyword">new</span> NestedInteger(num));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'['</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (open == <span class="number">1</span>)</span><br><span class="line">                start = i - <span class="number">1</span>;</span><br><span class="line">            open++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">']'</span>) &#123;</span><br><span class="line">            open--;</span><br><span class="line">            <span class="keyword">if</span> (open == <span class="number">1</span>)</span><br><span class="line">                ni.add(deserialize(s.substring(start, i)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ni;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-3"><a href="#Solution2-3" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>This approach will just iterate through every char in the string (no recursion).<ul>
<li>If encounters â€˜[â€˜, push current NestedInteger to stack and start a new one.</li>
<li>If encounters â€˜]â€™, end current NestedInteger and pop a NestedInteger from stack to continue.</li>
<li>If encounters â€˜,â€™, append a new number to curr NestedInteger, if this comma is not right after a brackets.</li>
<li>Update index l and r, where l shall point to the start of a integer substring, while r shall points to the end+1 of substring.</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> NestedInteger <span class="title">deserialize</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.isEmpty())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (s.charAt(<span class="number">0</span>) != <span class="string">'['</span>) <span class="comment">// ERROR: special case</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> NestedInteger(Integer.valueOf(s));</span><br><span class="line"></span><br><span class="line">    Stack&lt;NestedInteger&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    NestedInteger curr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">int</span> l = <span class="number">0</span>; <span class="comment">// l shall point to the start of a number substring; </span></span><br><span class="line">    <span class="comment">// r shall point to the end+1 of a number substring</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; s.length(); r++) &#123;</span><br><span class="line">        <span class="keyword">char</span> ch = s.charAt(r);</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">'['</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr != <span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(curr);</span><br><span class="line">            &#125;</span><br><span class="line">            curr = <span class="keyword">new</span> NestedInteger();</span><br><span class="line">            l = r+<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">']'</span>) &#123;</span><br><span class="line">            String num = s.substring(l, r);</span><br><span class="line">            <span class="keyword">if</span> (!num.isEmpty())</span><br><span class="line">                curr.add(<span class="keyword">new</span> NestedInteger(Integer.valueOf(num)));</span><br><span class="line">            <span class="keyword">if</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                NestedInteger pop = stack.pop();</span><br><span class="line">                pop.add(curr);</span><br><span class="line">                curr = pop;</span><br><span class="line">            &#125;</span><br><span class="line">            l = r+<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">','</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(r-<span class="number">1</span>) != <span class="string">']'</span>) &#123;</span><br><span class="line">                String num = s.substring(l, r);</span><br><span class="line">                curr.add(<span class="keyword">new</span> NestedInteger(Integer.valueOf(num)));</span><br><span class="line">            &#125;</span><br><span class="line">            l = r+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-1047-Remove-All-Adjacent-Duplicates-In-String"><a href="#Unsolved-1047-Remove-All-Adjacent-Duplicates-In-String" class="headerlink" title="Unsolved 1047. Remove All Adjacent Duplicates In String"></a><a href="https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string/" target="_blank" rel="noopener">Unsolved 1047. Remove All Adjacent Duplicates In String</a></h2><h3 id="Solution1-21"><a href="#Solution1-21" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : S.toCharArray()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack.isEmpty() &amp;&amp; stack.peek() == c) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.push(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : stack) &#123;</span><br><span class="line">        sb.append(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//StringBuilder as stack</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : S.toCharArray()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = sb.length();</span><br><span class="line">        <span class="keyword">if</span> (size &gt; <span class="number">0</span> &amp;&amp; sb.charAt(size - <span class="number">1</span>) == c) &#123;</span><br><span class="line">            sb.deleteCharAt(size - <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sb.append(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-4"><a href="#Solution2-4" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><p><code>i</code> refers to the index to set next character in the output string.<br><code>j</code> refers to the index of current iteration in the input string.</p>
<p>Iterate characters of <code>S</code> one by one by increasing <code>j</code>.</p>
<p>If <code>S[j]</code> is same as the current last character <code>S[i - 1]</code>,<br>we remove duplicates by doing <code>i -= 2</code>.</p>
<p>If <code>S[j]</code> is different as the current last character <code>S[i - 1]</code>,<br>we set <code>S[i] = S[j]</code> and increment <code>i++</code>.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, n = s.length();</span><br><span class="line">    <span class="keyword">char</span>[] res = s.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j, ++i) &#123;</span><br><span class="line">        res[i] = res[j];</span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; res[i - <span class="number">1</span>] == res[i]) <span class="comment">// count = 2</span></span><br><span class="line">            i -= <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(res, <span class="number">0</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-1209-Remove-All-Adjacent-Duplicates-in-String-IIâœ¨"><a href="#Unsolved-1209-Remove-All-Adjacent-Duplicates-in-String-IIâœ¨" class="headerlink" title="Unsolved 1209. Remove All Adjacent Duplicates in String IIâœ¨"></a><a href="https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string-ii/" target="_blank" rel="noopener">Unsolved 1209. Remove All Adjacent Duplicates in String IIâœ¨</a></h2><p><img src="https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string-ii/Figures/1209/1209_approach1.png" alt=""></p>
<h3 id="Solution1-22"><a href="#Solution1-22" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Stack with Reconstruction</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> ch;</span><br><span class="line">        <span class="keyword">int</span> times;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">            ch = c;</span><br><span class="line">            times = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.length();</span><br><span class="line">        <span class="keyword">if</span> (n &lt; k) <span class="keyword">return</span> s;</span><br><span class="line">        Deque&lt;Node&gt; stack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty() || c != stack.peek().ch) &#123;</span><br><span class="line">                stack.push(<span class="keyword">new</span> Node(c));</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> times = stack.peek().times;</span><br><span class="line">                <span class="keyword">if</span> (times + <span class="number">1</span> == k) &#123;</span><br><span class="line">                    stack.pop();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    stack.peek().times++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span> (Node node : stack) &#123;</span><br><span class="line">            <span class="keyword">int</span> times = node.times;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; times; i++) &#123;</span><br><span class="line">                sb.append(node.ch);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//method2: stack &#123;54.51%&#125;</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">idea: similar to LC 1047</span></span><br><span class="line"><span class="comment">    1. add pair(char, count) to stack</span></span><br><span class="line"><span class="comment">    2. pop pair when count==k</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String s, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=s.length();</span><br><span class="line">    Stack&lt;Node&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">char</span> c : s.toCharArray())&#123;</span><br><span class="line">        <span class="comment">//compare prev with cur</span></span><br><span class="line">        <span class="keyword">if</span>(!stack.isEmpty() &amp;&amp; stack.peek().c == c)&#123;</span><br><span class="line">            stack.peek().count++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//not repeat</span></span><br><span class="line">            stack.push(<span class="keyword">new</span> Node(c,<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//remove when num of dup == k</span></span><br><span class="line">        <span class="keyword">if</span>(stack.peek().count==k) stack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//build result</span></span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span>(Node node : stack)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;node.count;i++)&#123;</span><br><span class="line">            sb.append(node.c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">char</span> c, <span class="keyword">int</span> count)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.c=c;</span><br><span class="line">        <span class="keyword">this</span>.count=count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-5"><a href="#Solution2-5" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>Stack</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">    Stack&lt;Integer&gt; counts = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sb.length(); ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> || sb.charAt(i) != sb.charAt(i - <span class="number">1</span>)) &#123;</span><br><span class="line">            counts.push(<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> incremented = counts.pop() + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (incremented == k) &#123;</span><br><span class="line">                sb.delete(i - k + <span class="number">1</span>, i + <span class="number">1</span>);</span><br><span class="line">                i = i - k;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                counts.push(incremented);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution3"><a href="#Solution3" class="headerlink" title="Solution3:"></a>Solution3:</h3><ol>
<li>Brute Force</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">removeDuplicates</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">    <span class="keyword">int</span> length = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (length != sb.length()) &#123;</span><br><span class="line">        length = sb.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>, count = <span class="number">1</span>; i &lt; sb.length(); ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || sb.charAt(i) != sb.charAt(i - <span class="number">1</span>)) &#123;</span><br><span class="line">                count = <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (++count == k) &#123;</span><br><span class="line">                sb.delete(i - k + <span class="number">1</span>, i + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-224-Basic-CalculatorğŸ‚âœ¨"><a href="#Unsolved-224-Basic-CalculatorğŸ‚âœ¨" class="headerlink" title="Unsolved 224. Basic CalculatorğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/basic-calculator/?utm_source=AlgoTogether&utm_campaign=44f863357f-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_1&utm_medium=email&utm_term=0_38d4e2e3e2-44f863357f-231340480" target="_blank" rel="noopener">Unsolved 224. Basic CalculatorğŸ‚âœ¨</a></h2><h3 id="Solution1ï¼š"><a href="#Solution1ï¼š" class="headerlink" title="Solution1ï¼š"></a>Solution1ï¼š</h3><p><a href="https://leetcode.com/problems/basic-calculator-iii/discuss/113592/Development-of-a-generic-solution-for-the-series-of-the-calculator-problems" target="_blank" rel="noopener">Explanation</a></p>
<ol>
<li>æ€è·¯ï¼šåªæœ‰åŠ å‡æ³•ï¼Œæ‰€ä»¥æ‹¬å·é‡Œé¢éƒ¨åˆ†å¯ä»¥å½“åŠ æ•°å¤„ç†å’Œç¬¦å·ç›¸ä¹˜ã€‚ç¢°åˆ°æ‹¬å·æ—¶å‹æ ˆï¼ˆåŒ…æ‹¬ç¬¦å·å’Œå½“å‰æ•°å€¼ï¼Œ å¹¶é‡ç½® Result å’Œç¬¦å·ï¼‰ï¼Œåæ‹¬å·å‡ºæ ˆï¼Œç¬¬ä¸€ä¸ªæ˜¯ç¬¦å·ï¼Œç¬¬äºŒä¸ªæ˜¯å‹æ ˆå‰çš„ç»“æœï¼Œç¬¦å·ä¹˜å½“æ—¶ Result+å‹æ ˆå‰ç»“ æœå°±æ˜¯å½“å‰ç»“æœã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.length(), sign = <span class="number">1</span>, result = <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (Character.isDigit(s.charAt(i))) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; len &amp;&amp; Character.isDigit(s.charAt(i + <span class="number">1</span>))) &#123;</span><br><span class="line">                sum = sum * <span class="number">10</span> + s.charAt(i + <span class="number">1</span>) - <span class="string">'0'</span>;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            result += sum * sign;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'+'</span>)</span><br><span class="line">            sign = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'-'</span>)</span><br><span class="line">            sign = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'('</span>) &#123;</span><br><span class="line">            <span class="comment">//we push the result first, then sign;</span></span><br><span class="line">            stack.push(result);</span><br><span class="line">            stack.push(sign);</span><br><span class="line">            <span class="comment">//reset the sign and result for the value in the parenthesis</span></span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">            sign = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">')'</span>) &#123;  <span class="comment">//stack.pop() is the sign before the parenthesis and next stack.pop() is the result calculated before the parenthesis</span></span><br><span class="line">            result = result * stack.pop() + stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="227-Basic-Calculator-IIâœ¨"><a href="#227-Basic-Calculator-IIâœ¨" class="headerlink" title="227. Basic Calculator IIâœ¨"></a><a href="https://leetcode.com/problems/basic-calculator-ii/" target="_blank" rel="noopener">227. Basic Calculator IIâœ¨</a></h2><h3 id="Solution1-23"><a href="#Solution1-23" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Scan the input string <code>s</code> from left to right and evaluate the expressions based on the following rules</p>
<ol>
<li>If the current character is a digit <code>0-9</code> ( operand ), add it to the number <code>currentNumber</code>.</li>
<li>Otherwise, the current character must be an operation <code>(+,-,*, /)</code>. Evaluate the expression based on the type of operation.</li>
</ol>
<ul>
<li>Addition <code>(+)</code> or Subtraction <code>(-)</code>: We must evaluate the expression later based on the next operation. So, we must store the <code>currentNumber</code> to be used later. Letâ€™s push the currentNumber in the Stack.</li>
<li>Multiplication <code>(*)</code> or Division <code>(/)</code>: Pop the top values from the stack and evaluate the current expression. Push the evaluated value back to the stack.</li>
</ul>
<p>Once the string is scanned, pop from the stack and add to the <code>result</code>.</p>
</li>
<li><p>Time Complexity: \mathcal{O}(n)O(<em>n</em>), where n<em>n</em> is the length of the string s<em>s</em>. We iterate over the string s<em>s</em> at most twice.</p>
</li>
<li><p>Space Complexity: \mathcal{O}(n)O(<em>n</em>), where n<em>n</em> is the length of the string s<em>s</em>.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> operation = <span class="string">'+'</span>;</span><br><span class="line">    <span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (Character.isDigit(c)) &#123;</span><br><span class="line">            cur = cur * <span class="number">10</span> + (c - <span class="string">'0'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!Character.isDigit(c) &amp;&amp; c != <span class="string">' '</span> || i == s.length() - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (operation == <span class="string">'+'</span>) &#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operation == <span class="string">'-'</span>) &#123;</span><br><span class="line">                stack.push(-cur);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operation == <span class="string">'*'</span>) &#123;</span><br><span class="line">                stack.push(stack.pop() * cur);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operation == <span class="string">'/'</span>) &#123;</span><br><span class="line">                stack.push(stack.pop() / cur);</span><br><span class="line">            &#125;</span><br><span class="line">            operation = c;</span><br><span class="line">            cur = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : stack) &#123;</span><br><span class="line">        ans += num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1249-Minimum-Remove-to-Make-Valid-Parenthesesâœ¨"><a href="#1249-Minimum-Remove-to-Make-Valid-Parenthesesâœ¨" class="headerlink" title="1249. Minimum Remove to Make Valid Parenthesesâœ¨"></a><a href="https://leetcode.com/problems/minimum-remove-to-make-valid-parentheses/" target="_blank" rel="noopener">1249. Minimum Remove to Make Valid Parenthesesâœ¨</a></h2><h3 id="Solution1-24"><a href="#Solution1-24" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>To make the string valid with minimum removals, we need to get rid of all parentheses that do not have a matching pair.</p>
<p>Push char index into the stack when we see <code>&#39;(&#39;</code>.</p>
<p>Pop from the stack when we see <code>&#39;)&#39;</code>.</p>
<p>â€‹    If the stack is empty, then we have <code>&#39;)&#39;</code> without the pair, and it needs to be removed.</p>
<p>In the end, the stack will contain indexes of <code>&#39;(&#39;</code> without the pair, if any. We need to remove all of them too.</p>
</li>
<li><p>Time: O(n). We process each character once, or twice for â€˜singleâ€™ <code>&#39;(&#39;</code>.</p>
</li>
<li><p>Memory: O(n) for the stack.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minRemoveToMakeValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder(s);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">'('</span>) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">')'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!stack.isEmpty()) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                sb.setCharAt(i, <span class="string">'#'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> idx : stack) &#123;</span><br><span class="line">        sb.setCharAt(idx, <span class="string">'#'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString().replaceAll(<span class="string">"#"</span>, <span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Unsolved-726-Number-of-AtomsğŸ‚âœ¨"><a href="#Unsolved-726-Number-of-AtomsğŸ‚âœ¨" class="headerlink" title="Unsolved 726. Number of AtomsğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/number-of-atoms/" target="_blank" rel="noopener">Unsolved 726. Number of AtomsğŸ‚âœ¨</a></h2><h3 id="Solution1-25"><a href="#Solution1-25" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Java Solution using Stack and Map</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">countOfAtoms</span><span class="params">(String formula)</span> </span>&#123;</span><br><span class="line">    Stack&lt;Map&lt;String,Integer&gt;&gt; stack= <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    Map&lt;String,Integer&gt; map= <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, n = formula.length();</span><br><span class="line">    <span class="keyword">while</span>(i &lt; n)&#123;</span><br><span class="line">        <span class="keyword">char</span> c = formula.charAt(i);</span><br><span class="line">        i++;</span><br><span class="line">        <span class="keyword">if</span>(c == <span class="string">'('</span>)&#123;</span><br><span class="line">            stack.push(map);</span><br><span class="line">            map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">')'</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> val = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(i &lt; n &amp;&amp; Character.isDigit(formula.charAt(i)))</span><br><span class="line">                val = val * <span class="number">10</span> + formula.charAt(i++) - <span class="string">'0'</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(val == <span class="number">0</span>) val = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">                Map&lt;String,Integer&gt; temp = map;</span><br><span class="line">                map = stack.pop();</span><br><span class="line">                <span class="keyword">for</span>(String key: temp.keySet())</span><br><span class="line">                    map.put(key,map.getOrDefault(key,<span class="number">0</span>) + temp.get(key)*val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> start=i-<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(i&lt;n &amp;&amp; Character.isLowerCase(formula.charAt(i)))&#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            String s= formula.substring(start,i);</span><br><span class="line">            <span class="keyword">int</span> val=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(i&lt;n &amp;&amp; Character.isDigit(formula.charAt(i))) val=val*<span class="number">10</span>+ formula.charAt(i++)-<span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">if</span>(val==<span class="number">0</span>) val=<span class="number">1</span>;</span><br><span class="line">            map.put(s,map.getOrDefault(s,<span class="number">0</span>)+val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder sb= <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    List&lt;String&gt; list= <span class="keyword">new</span> ArrayList&lt;&gt;(map.keySet());</span><br><span class="line">    Collections.sort(list);</span><br><span class="line">    <span class="keyword">for</span>(String key: list)&#123; </span><br><span class="line">        sb.append(key);</span><br><span class="line">        <span class="keyword">if</span>(map.get(key)&gt;<span class="number">1</span>) sb.append(map.get(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-316-Remove-Duplicate-LettersğŸ‚âœ¨"><a href="#Unsolved-316-Remove-Duplicate-LettersğŸ‚âœ¨" class="headerlink" title="Unsolved 316. Remove Duplicate LettersğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/remove-duplicate-letters/?utm_source=AlgoTogether&utm_campaign=05bc9f4051-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_4&utm_medium=email&utm_term=0_38d4e2e3e2-05bc9f4051-231340480" target="_blank" rel="noopener">Unsolved 316. Remove Duplicate LettersğŸ‚âœ¨</a></h2><h1 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h1><h2 id="239-Sliding-Window-Maximumâ­"><a href="#239-Sliding-Window-Maximumâ­" class="headerlink" title="239. Sliding Window Maximumâ­"></a><a href="https://leetcode.com/problems/sliding-window-maximum/" target="_blank" rel="noopener">239. Sliding Window Maximumâ­</a></h2><h3 id="Solution0-1"><a href="#Solution0-1" class="headerlink" title="Solution0:"></a>Solution0:</h3><ol>
<li><p>Bruteforce(TLE)</p>
</li>
<li><p>The straightforward solution is to iterate over all sliding windows and find a maximum for each window. There are <code>N - k + 1</code> sliding windows and there are <code>k</code> elements in each window, that results in a quite bad time complexity O(Nk).</p>
<p>As you can imagine, this straightforward solution would result in <strong>TLE</strong> (Time Limit Exceed) exception.</p>
</li>
<li><p>Time complexity : O(Nk), where <code>N</code> is number of elements in the array.</p>
</li>
<li><p>Space complexity : O(Nâˆ’k+1) for an output array.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span> ||  k == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> [] output = <span class="keyword">new</span> <span class="keyword">int</span>[n - k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - k + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; i + k; j++) </span><br><span class="line">            max = Math.max(max, nums[j]);</span><br><span class="line">        output[i] = max;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> output;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-6"><a href="#Solution2-6" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>explaining the deque method (approach 2): <strong>You want to ensure the deque window only has decreasing elements. That way, the leftmost element is always the largest.</strong></li>
<li>takes O(n) time and O(k) space</li>
</ol>
<p>Using Monotonic Deque:</p>
<ol>
<li>Process the first <code>k</code> elements separately to initiate the deque.</li>
<li>Iterate over the array. At each step :<ul>
<li>Clean the deque :<ul>
<li>Keep only the indexes of elements from the current sliding window.</li>
<li>Remove indexes of all elements smaller than the current one, since they will not be the maximum ones.</li>
</ul>
</li>
<li>Append the current element to the deque.</li>
<li>Append <code>deque[0]</code> to the output.</li>
</ul>
</li>
<li>Return the output array.</li>
</ol>
<p><img src="https://zxi.mytechroad.com/blog/wp-content/uploads/2018/01/239-ep159-2.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/hot13399/leetcode-graphic-answer/master/239.%20Sliding%20Window%20Maximum.jpg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="comment">//error check</span></span><br><span class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || k &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] ans = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length - k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// store index</span></span><br><span class="line">    Deque&lt;Integer&gt; queue = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="comment">// remove numbers out of range k</span></span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; queue.peek() &lt; i - k + <span class="number">1</span>) &#123;</span><br><span class="line">            queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// remove smaller numbers in k range as they are useless</span></span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; nums[i] &gt; nums[queue.peekLast()]) &#123;</span><br><span class="line">            queue.pollLast();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// q contains index... r contains content</span></span><br><span class="line">        queue.offer(i);</span><br><span class="line">        <span class="keyword">if</span> (i &gt;= k - <span class="number">1</span>) &#123;</span><br><span class="line">            ans[idx++] = nums[queue.peek()];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Monotonic Queue</span></span><br><span class="line"><span class="comment">Window position                Max</span></span><br><span class="line"><span class="comment">---------------               -----</span></span><br><span class="line"><span class="comment">[1  3  -1] -3  5  3  6  7       3</span></span><br><span class="line"><span class="comment"> 1 [3  -1  -3] 5  3  6  7       3</span></span><br><span class="line"><span class="comment"> 1  3 [-1  -3  5] 3  6  7       5</span></span><br><span class="line"><span class="comment"> 1  3  -1 [-3  5  3] 6  7       5</span></span><br><span class="line"><span class="comment"> 1  3  -1  -3 [5  3  6] 7       6</span></span><br><span class="line"><span class="comment"> 1  3  -1  -3  5 [3  6  7]      7</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Window position                Queue</span></span><br><span class="line"><span class="comment">---------------               -----</span></span><br><span class="line"><span class="comment">[1] 3  -1  -3  5  3  6  7       1</span></span><br><span class="line"><span class="comment">[1  3] -1  -3  5  3  6  7       3</span></span><br><span class="line"><span class="comment">[1  3  -1] -3  5  3  6  7       3,-1</span></span><br><span class="line"><span class="comment"> 1 [3  -1  -3] 5  3  6  7       3,-1,-3</span></span><br><span class="line"><span class="comment"> 1  3 [-1  -3  5] 3  6  7       5</span></span><br><span class="line"><span class="comment"> 1  3  -1 [-3  5  3] 6  7       5,3</span></span><br><span class="line"><span class="comment"> 1  3  -1  -3 [5  3  6] 7       6</span></span><br><span class="line"><span class="comment"> 1  3  -1  -3  5 [3  6  7]      7</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Time complexity: O(n)</span></span><br><span class="line"><span class="comment">Space complexity: O(k)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Error check:</span></span><br><span class="line"><span class="comment">if num empty, k &lt; 0 return empty array</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Solution1:</span></span><br><span class="line"><span class="comment">nums = [1,3,-1,-3, 5, 3, 6,-&gt; 7], k = 3</span></span><br><span class="line"><span class="comment">res = []</span></span><br><span class="line"><span class="comment">tarverse [1,-&gt;3,-1,-3,5,3,6,7]</span></span><br><span class="line"><span class="comment">queue : [7(7)]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">while: prev &lt; current (1 &lt; 3)</span></span><br><span class="line"><span class="comment">if (traverse index &gt;= k) &#123;</span></span><br><span class="line"><span class="comment">    update the res</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">shrink the range of queue</span></span><br><span class="line"><span class="comment">while(queue first &lt; idx - k) poll the first until all element in queue</span></span><br><span class="line"><span class="comment">res = [3, 3, 5, 5, 6, 7]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">queue</span></span><br><span class="line"><span class="comment">Step1 : tarverse the element in array, each time add it to queue</span></span><br><span class="line"><span class="comment">Step2: check the range of the queue, size &lt; k, check first index in queue is not over bounded</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h2 id="346-Moving-Average-from-Data-Streamâ­"><a href="#346-Moving-Average-from-Data-Streamâ­" class="headerlink" title="346. Moving Average from Data Streamâ­"></a><a href="https://leetcode.com/problems/moving-average-from-data-stream" target="_blank" rel="noopener">346. Moving Average from Data Streamâ­</a></h2><p>Given a stream of integers and a window size, calculate the moving average of all integers in the sliding window. </p>
<p>For example,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MovingAverage m = <span class="keyword">new</span> MovingAverage(<span class="number">3</span>);</span><br><span class="line">m.next(<span class="number">1</span>) = <span class="number">1</span></span><br><span class="line">m.next(<span class="number">10</span>) = (<span class="number">1</span> + <span class="number">10</span>) / <span class="number">2</span></span><br><span class="line">m.next(<span class="number">3</span>) = (<span class="number">1</span> + <span class="number">10</span> + <span class="number">3</span>) / <span class="number">3</span></span><br><span class="line">m.next(<span class="number">5</span>) = (<span class="number">10</span> + <span class="number">3</span> + <span class="number">5</span>) / <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution1-26"><a href="#Solution1-26" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ï¼šç»´æŠ¤ä¸€ä¸ªå’Œå€¼ï¼Œæ¯æ¬¡å‡ºå…¥å…ƒç´ æ—¶å‡æˆ–åŠ è¯¥å…ƒç´ å€¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MovingAverage</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> maxSize;</span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Integer&gt; queue;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> sum;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MovingAverage</span><span class="params">(<span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">        maxSize = size;</span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        sum = <span class="number">0.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">next</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (queue.size() == maxSize) &#123;</span><br><span class="line">            sum -= queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        sum += val;</span><br><span class="line">        queue.add(val);</span><br><span class="line">        <span class="keyword">return</span> sum / queue.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1673-Find-the-Most-Competitive-SubsequenceğŸ’"><a href="#1673-Find-the-Most-Competitive-SubsequenceğŸ’" class="headerlink" title="1673. Find the Most Competitive SubsequenceğŸ’"></a><a href="https://leetcode.com/problems/find-the-most-competitive-subsequence/" target="_blank" rel="noopener">1673. Find the Most Competitive SubsequenceğŸ’</a></h2><p><a href="https://leetcode.com/problems/find-the-most-competitive-subsequence/discuss/952786/JavaC%2B%2BPython-One-Pass-Stack-Solution" target="_blank" rel="noopener">https://leetcode.com/problems/find-the-most-competitive-subsequence/discuss/952786/JavaC%2B%2BPython-One-Pass-Stack-Solution</a></p>
<p>More Good Stack Problems</p>
<p>Here are some problems that impressed me.<br>Good luck and have fun.</p>
<ul>
<li><ol>
<li><a href="https://leetcode.com/problems/find-the-most-competitive-subsequence/discuss/952786/javacpython-one-pass-stack-solution/776191" target="_blank" rel="noopener">Find the Most Competitive Subsequence</a></li>
</ol>
</li>
<li><ol>
<li><a href="https://leetcode.com/problems/constrained-subsequence-sum/discuss/597751/JavaC++Python-O(N)-Decreasing-Deque" target="_blank" rel="noopener">Constrained Subsequence Sum</a></li>
</ol>
</li>
<li><ol>
<li><a href="https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/discuss/339959/One-Pass-O(N)-Time-and-Space" target="_blank" rel="noopener">Minimum Cost Tree From Leaf Values</a></li>
</ol>
</li>
<li><ol>
<li><a href="https://leetcode.com/problems/sum-of-subarray-minimums/discuss/170750/C++JavaPython-Stack-Solution" target="_blank" rel="noopener">Sum of Subarray Minimums</a></li>
</ol>
</li>
<li><ol>
<li><a href="https://leetcode.com/problems/online-stock-span/discuss/168311/C++JavaPython-O(1)" target="_blank" rel="noopener">Online Stock Span</a></li>
</ol>
</li>
<li><ol>
<li><a href="https://leetcode.com/problems/score-of-parentheses/discuss/141777/C++JavaPython-O(1)-Space" target="_blank" rel="noopener">Score of Parentheses</a></li>
</ol>
</li>
<li><ol>
<li><a href="https://leetcode.com/problems/next-greater-element-ii/discuss/98270/JavaC++Python-Loop-Twice" target="_blank" rel="noopener">Next Greater Element II</a></li>
</ol>
</li>
<li><ol>
<li>Next Greater Element I</li>
</ol>
</li>
<li><ol>
<li>Largest Rectangle in Histogram</li>
</ol>
</li>
<li><ol>
<li>Trapping Rain Water</li>
</ol>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: nums &#x3D; [3,5,2,6], k &#x3D; 2</span><br><span class="line">Output: [2,6]</span><br><span class="line">Explanation: Among the set of every possible subsequence: &#123;[3,5], [3,2], [3,6], [5,2], [5,6], [2,6]&#125;, [2,6] is the most competitive.</span><br><span class="line"></span><br><span class="line">Input: nums &#x3D; [2,4,3,3,5,4,9,6], k &#x3D; 4</span><br><span class="line">Output: [2,3,3,4]</span><br></pre></td></tr></table></figure>

<h3 id="Solution1-27"><a href="#Solution1-27" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Monotonic Deque</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] mostCompetitive(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    Deque&lt;Integer&gt; queue = <span class="keyword">new</span> ArrayDeque&lt;Integer&gt;();</span><br><span class="line">    <span class="keyword">int</span> remain = nums.length - k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; queue.peekLast() &gt; nums[i] &amp;&amp; remain &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            queue.pollLast();</span><br><span class="line">            remain--;</span><br><span class="line">        &#125;</span><br><span class="line">        queue.addLast(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        res[i] = queue.pollFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-7"><a href="#Solution2-7" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li><p>Use a mono incrasing stack.Keep a mono incrasing stackas result.<br>If current element <code>a</code> is smaller then the last element in the stack, we can replace it to get a smaller sequence.</p>
<p>Before we do this, we need to check if we still have enough elements after.<br>After we pop the last element from <code>stack</code>, we have <code>stack.size() - 1</code> in the stack, there are <code>A.size() - i</code> can still be pushed.<br>if <code>stack.size() - 1 + A.size() - i &gt;= k</code>, we can pop the stack.</p>
<p>Then, is the stack not full with <code>k</code> element, we push <code>A[i]</code> into the stack.</p>
<p>Finally we return <code>stack</code> as the result directly.</p>
<p>Complexity: Time <code>O(n)</code> Space <code>O(k)</code></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] mostCompetitive(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stack.empty() &amp;&amp; nums[i] &lt; nums[stack.peek()] &amp;&amp; nums.length - i + stack.size() &gt; k) &#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (stack.size() &lt; k) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        result[i] = nums[stack.pop()];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Use array</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] mostCompetitive(<span class="keyword">int</span>[] A, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">int</span> stack[] = <span class="keyword">new</span> <span class="keyword">int</span>[k], n = A.length, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; stack[j - <span class="number">1</span>] &gt; A[i] &amp;&amp; j - <span class="number">1</span> + n - i &gt;= k)</span><br><span class="line">            j--;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; k)</span><br><span class="line">            stack[j++] = A[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1670-Design-Front-Middle-Back-QueueğŸƒ"><a href="#1670-Design-Front-Middle-Back-QueueğŸƒ" class="headerlink" title="1670. Design Front Middle Back QueueğŸƒ"></a><a href="https://leetcode.com/problems/design-front-middle-back-queue/" target="_blank" rel="noopener">1670. Design Front Middle Back QueueğŸƒ</a></h2><h3 id="Solution1-28"><a href="#Solution1-28" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li><p>Two Deque</p>
<p>Use two <code>deque&lt;int&gt; a, b</code> where <code>a</code> and <code>b</code> represent the first and second half of the numbers in queue, respectively.</p>
<p>Make sure <code>a.size()</code> be either <code>b.size()</code> or <code>b.size() - 1</code> so that when we <code>pushMiddle</code>, always push to <code>a</code>.</p>
<p><code>a2b</code> and <code>b2a</code> are two helper functions nudging numbers around to ensure the above criteria.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//keep balance, left size &lt;= right size</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FrontMiddleBackQueue</span> </span>&#123;</span><br><span class="line">    Deque&lt;Integer&gt; left, right;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FrontMiddleBackQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        left = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        right = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pushFront</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        left.addFirst(val);</span><br><span class="line">        <span class="keyword">if</span> (left.size() &gt; right.size()) right.addFirst(left.pollLast());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pushMiddle</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left.size() == right.size()) right.addFirst(val);</span><br><span class="line">        <span class="keyword">else</span> left.addLast(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pushBack</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left.size() &lt; right.size()) left.addLast(right.pollFirst());</span><br><span class="line">        right.addLast(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">popFront</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left.size() &lt; right.size()) left.addLast(right.pollFirst());</span><br><span class="line">        <span class="keyword">return</span> left.isEmpty()? -<span class="number">1</span> : left.pollFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">popMiddle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left.size() == right.size()) <span class="keyword">return</span> left.isEmpty() ? -<span class="number">1</span> : left.pollLast();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> right.isEmpty()? -<span class="number">1</span> : right.pollFirst();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">popBack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left.size() == right.size() &amp;&amp; !left.isEmpty()) right.addFirst(left.pollLast());</span><br><span class="line">        <span class="keyword">return</span> right.isEmpty() ? -<span class="number">1</span> : right.pollLast();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-933-Number-of-Recent-CallsğŸ‚"><a href="#Unsolved-933-Number-of-Recent-CallsğŸ‚" class="headerlink" title="Unsolved 933. Number of Recent CallsğŸ‚"></a><a href="https://leetcode.com/problems/number-of-recent-calls/" target="_blank" rel="noopener">Unsolved 933. Number of Recent CallsğŸ‚</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RecentCounter</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RecentCounter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ping</span><span class="params">(<span class="keyword">int</span> t)</span> </span>&#123;</span><br><span class="line">        queue.add(t);</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; queue.peek() &lt; t - <span class="number">3000</span>)&#123;</span><br><span class="line">            queue.remove();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> queue.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h1><h2 id="341-Flatten-Nested-List-IteratorğŸ‚âœ¨"><a href="#341-Flatten-Nested-List-IteratorğŸ‚âœ¨" class="headerlink" title="341. Flatten Nested List IteratorğŸ‚âœ¨"></a><a href="https://leetcode.com/problems/flatten-nested-list-iterator/" target="_blank" rel="noopener">341. Flatten Nested List IteratorğŸ‚âœ¨</a></h2><h3 id="Solution1-29"><a href="#Solution1-29" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>æ€è·¯ 1ï¼šåˆå§‹åŒ–æ—¶å°†ç»“æœå­˜å…¥ä¸€ç»´æ•°ç»„ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NestedIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NestedIterator</span><span class="params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;</span><br><span class="line">        helper(nestedList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(List&lt;NestedInteger&gt; list)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (list == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span> (NestedInteger in: list)&#123;</span><br><span class="line">            <span class="keyword">if</span> (in.isInteger())</span><br><span class="line">                queue.offer(in.getInteger());</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                helper(in.getList());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hasNext())&#123;</span><br><span class="line">            <span class="keyword">return</span> queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!queue.isEmpty())</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Solution2-8"><a href="#Solution2-8" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>æ€è·¯ 2ï¼šnext å‰æŠŠå½“å‰å…ƒç´ ï¼ˆå¦‚æœæ˜¯æ•°ç»„ï¼‰é‡æ–°æŒ‰å…ƒç´ é¡ºåºæ”¾åˆ°ç¼“å­˜æ•°ç»„æœ€å‰ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NestedIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    List&lt;NestedInteger&gt; l = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NestedIterator</span><span class="params">(List&lt;NestedInteger&gt; nestedList)</span> </span>&#123;</span><br><span class="line">        l = nestedList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!l.isEmpty()) &#123;</span><br><span class="line">            NestedInteger cur = l.remove(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (cur.isInteger())</span><br><span class="line">                <span class="keyword">return</span> cur.getInteger();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = cur.getList().size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">                NestedInteger v = cur.getList().get(i);</span><br><span class="line">                l.add(<span class="number">0</span>, v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!l.isEmpty()) &#123;</span><br><span class="line">            NestedInteger cur = l.get(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (cur.isInteger())</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            l.remove(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = cur.getList().size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">                NestedInteger v = cur.getList().get(i);</span><br><span class="line">                l.add(<span class="number">0</span>, v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-281-Zigzag-Iterator"><a href="#Unsolved-281-Zigzag-Iterator" class="headerlink" title="Unsolved 281.  Zigzag Iterator"></a><a href="https://leetcode.com/problems/zigzag-iterator/" target="_blank" rel="noopener">Unsolved 281.  Zigzag Iterator</a></h2><h2 id="Unsolved-565-Array-Nesting"><a href="#Unsolved-565-Array-Nesting" class="headerlink" title="Unsolved 565. Array Nesting"></a><a href="https://leetcode.com/problems/array-nesting/" target="_blank" rel="noopener">Unsolved 565. Array Nesting</a></h2><h2 id="Unsolved-385-Mini-Parser-1"><a href="#Unsolved-385-Mini-Parser-1" class="headerlink" title="Unsolved 385. Mini Parser"></a><a href="https://leetcode.com/problems/mini-parser/" target="_blank" rel="noopener">Unsolved 385. Mini Parser</a></h2><h2 id="251-Flatten-2D-Vector"><a href="#251-Flatten-2D-Vector" class="headerlink" title="251. Flatten 2D Vector"></a><a href="https://leetcode.com/problems/flatten-2d-vector/" target="_blank" rel="noopener">251. Flatten 2D Vector</a></h2><h3 id="Solution1-30"><a href="#Solution1-30" class="headerlink" title="Solution1:"></a>Solution1:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Constructor will put all the nums into this list.</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; nums = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// Keep track of where the Iterator is up to.</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> position = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// We need to iterate over the 2D vector, getting all the integers</span></span><br><span class="line">    <span class="comment">// out of it and putting them into nums (a field).</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(<span class="keyword">int</span>[][] v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] innerV : v) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : innerV) &#123;</span><br><span class="line">                nums.add(num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// In Java, we throw a NoSuchElementException when next() is called</span></span><br><span class="line">        <span class="comment">// on an exhausted Iterator.</span></span><br><span class="line">        <span class="keyword">if</span> (!hasNext()) <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException();</span><br><span class="line">        <span class="comment">// Store the number we need to return, as we still need to move position forward.</span></span><br><span class="line">        <span class="keyword">int</span> result = nums.get(position);</span><br><span class="line">        <span class="comment">// Move the position pointer forward by 1, so that it's ready for</span></span><br><span class="line">        <span class="comment">// the next call to next, and gives a correct hasNext result.</span></span><br><span class="line">        position++;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// There's nums left as long as position is a valid index of the list.</span></span><br><span class="line">        <span class="keyword">return</span> position &lt; nums.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your Vector2D object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * Vector2D obj = new Vector2D(v);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.next();</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.hasNext();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="Solution2-9"><a href="#Solution2-9" class="headerlink" title="Solution2:"></a>Solution2:</h3><ol>
<li>æ€è·¯ï¼šæ¯æ¬¡æŠŠæœ€å¤–é¢ä¸€å±‚çš„ Iterator æ‹¿å‡ºï¼Œç”¨å®Œåå†æ¢ä¸‹ä¸€ï¼Œç›´åˆ°å…¨éƒ¨ç”¨å°½ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Iterator&lt;List&lt;Integer&gt;&gt; i;</span><br><span class="line">    <span class="keyword">private</span> Iterator&lt;Integer&gt; j;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</span><br><span class="line">        i = vec2d.iterator();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        hasNext();</span><br><span class="line">        <span class="keyword">return</span> j.next();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> ((j == <span class="keyword">null</span> || !j.hasNext()) &amp;&amp; i.hasNext())</span><br><span class="line">            j = i.next().iterator();</span><br><span class="line">        <span class="keyword">return</span> j != <span class="keyword">null</span> &amp;&amp; j.hasNext();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Unsolved-862-Shortest-Subarray-with-Sum-at-Least-KğŸ‚"><a href="#Unsolved-862-Shortest-Subarray-with-Sum-at-Least-KğŸ‚" class="headerlink" title="Unsolved 862. Shortest Subarray with Sum at Least KğŸ‚"></a><a href="https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/?utm_source=AlgoTogether&utm_campaign=05bc9f4051-ALGOTOGETHER_2020Q4_PROGRAM_WEEK_4&utm_medium=email&utm_term=0_38d4e2e3e2-05bc9f4051-231340480" target="_blank" rel="noopener">Unsolved 862. Shortest Subarray with Sum at Least KğŸ‚</a></h2><h1 id="Queue-amp-Stack-Implementation"><a href="#Queue-amp-Stack-Implementation" class="headerlink" title="Queue &amp; Stack Implementation"></a>Queue &amp; Stack Implementation</h1><h2 id="Queue-Implementation"><a href="#Queue-Implementation" class="headerlink" title="Queue - Implementation"></a>Queue - Implementation</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Queue</span> </span>&#123;</span><br><span class="line">    <span class="comment">// store elements</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; queue;</span><br><span class="line">    <span class="comment">// a pointer to indicate the start position</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">public</span> MyQueue &#123;</span><br><span class="line">        queue = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        start = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Insert an element into the queue. Return true if the operation is successful. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> booelan <span class="title">enQueue</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        queue.add(n);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Delete an element from the queue. Return true if the operation is successful. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (queue.isEmpty()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        start++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Get the front item from the queue. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">front</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.get(start);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Checks whether the queue is empty or not. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> start &gt;= queue.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Circular-Queue-Implementation"><a href="#Circular-Queue-Implementation" class="headerlink" title="Circular Queue - Implementation"></a>Circular Queue - Implementation</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCircularQueue</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] data;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> head;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tail;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. Set the size of the queue to be k. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyCircularQueue</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        data = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        head = -<span class="number">1</span>;</span><br><span class="line">        tail = -<span class="number">1</span>;</span><br><span class="line">        size = k;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Insert an element into the circular queue. Return true if the operation is successful. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">enQueue</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isFull() == <span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty() == <span class="keyword">true</span>) &#123;</span><br><span class="line">            head = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tail = (tail + <span class="number">1</span>) % size;</span><br><span class="line">        data[tail] = value;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Delete an element from the circular queue. Return true if the operation is successful. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty() == <span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (head == tail) &#123;</span><br><span class="line">            head = -<span class="number">1</span>;</span><br><span class="line">            tail = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        head = (head + <span class="number">1</span>) % size;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the front item from the queue. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Front</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty() == <span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> data[head];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the last item from the queue. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Rear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty() == <span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> data[tail];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Checks whether the circular queue is empty or not. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> head == -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Checks whether the circular queue is full or not. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ((tail + <span class="number">1</span>) % size) == head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="622-Design-Circular-Queueâœ¨"><a href="#622-Design-Circular-Queueâœ¨" class="headerlink" title="622. Design Circular Queueâœ¨"></a><a href="https://leetcode.com/problems/design-circular-queue/" target="_blank" rel="noopener">622. Design Circular Queueâœ¨</a></h2><h3 id="Solution1-31"><a href="#Solution1-31" class="headerlink" title="Solution1:"></a>Solution1:</h3><ol>
<li>Implementation the <code>MyCircularQueue</code> class:<ul>
<li><code>MyCircularQueue(k)</code> Initializes the object with the size of the queue to be <code>k</code>.</li>
<li><code>int Front()</code> Gets the front item from the queue. If the queue is empty, return <code>-1</code>.</li>
<li><code>int Rear()</code> Gets the last item from the queue. If the queue is empty, return <code>-1</code>.</li>
<li><code>boolean enQueue(int value)</code> Inserts an element into the circular queue. Return <code>true</code> if the operation is successful.</li>
<li><code>boolean deQueue()</code> Deletes an element from the circular queue. Return <code>true</code> if the operation is successful.</li>
<li><code>boolean isEmpty()</code> Checks whether the circular queue is empty or not.</li>
<li><code>boolean isFull()</code> Checks whether the circular queue is full or not.</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCircularQueue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] queue;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> start;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyCircularQueue</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.queue = <span class="keyword">new</span> <span class="keyword">int</span>[k];</span><br><span class="line">        <span class="keyword">this</span>.size = k;</span><br><span class="line">        <span class="keyword">this</span>.count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.start = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">enQueue</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isFull()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        queue[(start + count) % size] = value;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">deQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(isEmpty()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        start = (start + <span class="number">1</span>) % size;</span><br><span class="line">        count--;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Front</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> queue[start];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Rear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> queue[(start + count - <span class="number">1</span>) % size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count == size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="BFS-Template"><a href="#BFS-Template" class="headerlink" title="BFS - Template"></a>BFS - Template</h2><h3 id="Template-I"><a href="#Template-I" class="headerlink" title="Template I"></a>Template I</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the length of the shortest path between root and target node.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(Node root, Node target)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Node&gt; queue;  <span class="comment">// store all nodes which are waiting to be processed</span></span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">0</span>;       <span class="comment">// number of steps neeeded from root to current node</span></span><br><span class="line">    <span class="comment">// initialize</span></span><br><span class="line">    add root to queue;</span><br><span class="line">    <span class="comment">// BFS</span></span><br><span class="line">    <span class="keyword">while</span> (queue is not empty) &#123;</span><br><span class="line">        step = step + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// iterate the nodes which are already in the queue</span></span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            Node cur = the first node in queue;</span><br><span class="line">            <span class="keyword">return</span> step <span class="keyword">if</span> cur is target;</span><br><span class="line">            <span class="keyword">for</span> (Node next : the neighbors of cur) &#123;</span><br><span class="line">                add next to queue;</span><br><span class="line">            &#125;</span><br><span class="line">            remove the first node from queue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;          <span class="comment">// there is no path from root to target</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Template-II"><a href="#Template-II" class="headerlink" title="Template II"></a>Template II</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Return the length of the shortest path between root and target node.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(Node root, Node target)</span> </span>&#123;</span><br><span class="line">    Queue&lt;Node&gt; queue;  <span class="comment">// store all nodes which are waiting to be processed</span></span><br><span class="line">    Set&lt;Node&gt; visited;  <span class="comment">// store all the nodes that we've visited</span></span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">0</span>;       <span class="comment">// number of steps neeeded from root to current node</span></span><br><span class="line">    <span class="comment">// initialize</span></span><br><span class="line">    add root to queue;</span><br><span class="line">    add root to visited;</span><br><span class="line">    <span class="comment">// BFS</span></span><br><span class="line">    <span class="keyword">while</span> (queue is not empty) &#123;</span><br><span class="line">        step = step + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// iterate the nodes which are already in the queue</span></span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; ++i) &#123;</span><br><span class="line">            Node cur = the first node in queue;</span><br><span class="line">            <span class="keyword">return</span> step <span class="keyword">if</span> cur is target;</span><br><span class="line">            <span class="keyword">for</span> (Node next : the neighbors of cur) &#123;</span><br><span class="line">                <span class="keyword">if</span> (next is not in used) &#123;</span><br><span class="line">                    add next to queue;</span><br><span class="line">                    add next to visited;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            remove the first node from queue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;          <span class="comment">// there is no path from root to target</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Stack-Implementation"><a href="#Stack-Implementation" class="headerlink" title="Stack - Implementation"></a>Stack - Implementation</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// "static void main" must be defined in a public class.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; data;               <span class="comment">// store elements</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        data = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Insert an element into the stack. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        data.add(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Checks whether the queue is empty or not. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Get the top item from the queue. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data.get(data.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Delete an element from the queue. Return true if the operation is successful. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        data.remove(data.size() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyStack s = <span class="keyword">new</span> MyStack();</span><br><span class="line">        s.push(<span class="number">1</span>);</span><br><span class="line">        s.push(<span class="number">2</span>);</span><br><span class="line">        s.push(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!s.isEmpty()) &#123;</span><br><span class="line">                System.out.println(s.top());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(s.pop());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>use LinkedList(æ¨è)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    Node next;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">stack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> Node dummy;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">stack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        dummy = <span class="keyword">new</span> Node(-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        Node node = <span class="keyword">new</span> Node(v);</span><br><span class="line">        node.next = dummy.next;</span><br><span class="line">        dummy.next = node;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ans = dummy.next.val;</span><br><span class="line">        dummy.next = dummy.next.next;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dummy.next.val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>use ArrayList</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">stack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; array;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">stack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        array = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        array.add(val);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = array.size();</span><br><span class="line">        <span class="keyword">return</span> array.remove(size - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = array.size();</span><br><span class="line">        <span class="keyword">return</span> array.get(size - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DFS-Template-I"><a href="#DFS-Template-I" class="headerlink" title="DFS - Template I"></a>DFS - Template I</h2><h3 id="Template-Recursion"><a href="#Template-Recursion" class="headerlink" title="Template - Recursion"></a>Template - Recursion</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Return true if there is a path from cur to target.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">DFS</span><span class="params">(Node cur, Node target, Set&lt;Node&gt; visited)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span> <span class="keyword">if</span> cur is target;</span><br><span class="line">    <span class="keyword">for</span> (next : each neighbor of cur) &#123;</span><br><span class="line">        <span class="keyword">if</span> (next is not in visited) &#123;</span><br><span class="line">            add next to visted;</span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="keyword">true</span> <span class="keyword">if</span> <span class="title">DFS</span><span class="params">(next, target, visited)</span> </span>== <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DFS-Template-II"><a href="#DFS-Template-II" class="headerlink" title="DFS - Template II"></a>DFS - Template II</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Return true if there is a path from cur to target.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> root, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">    Set&lt;Node&gt; visited;</span><br><span class="line">    Stack&lt;Node&gt; stack;</span><br><span class="line">    add root to stack;</span><br><span class="line">    <span class="keyword">while</span> (s is not empty) &#123;</span><br><span class="line">        Node cur = the top element in stack;</span><br><span class="line">        remove the cur from the stack;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span> <span class="keyword">if</span> cur is target;</span><br><span class="line">        <span class="keyword">for</span> (Node next : the neighbors of cur) &#123;</span><br><span class="line">            <span class="keyword">if</span> (next is not in visited) &#123;</span><br><span class="line">                add next to visited;</span><br><span class="line">                add next to stack;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Data-Structures-for-Coding-Interviews-in-Java"><a href="#Data-Structures-for-Coding-Interviews-in-Java" class="headerlink" title="Data Structures for Coding Interviews in Java"></a>Data Structures for Coding Interviews in Java</h1><h2 id="Challenge-1-Generate-Binary-Numbers-from-1-to-n-using-a-Queue"><a href="#Challenge-1-Generate-Binary-Numbers-from-1-to-n-using-a-Queue" class="headerlink" title="Challenge 1: Generate Binary Numbers from 1 to n using a Queue"></a>Challenge 1: Generate Binary Numbers from 1 to n using a Queue</h2><p>A positive integer <em>n</em>.</p>
<p>It returns binary numbers up to <em>n</em>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">3</span></span><br><span class="line">result = &#123;<span class="string">"1"</span>,<span class="string">"10"</span>,<span class="string">"11"</span>&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CheckBinary</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String[] findBin(<span class="keyword">int</span> number) &#123;</span><br><span class="line">        String[] result = <span class="keyword">new</span> String[number];</span><br><span class="line">        Queue&lt;String&gt; queue = <span class="keyword">new</span> Queue&lt;String&gt;(number + <span class="number">1</span>);</span><br><span class="line">        queue.enqueue(<span class="string">"1"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; number; i++) &#123;</span><br><span class="line">            result[i] = queue.dequeue();</span><br><span class="line">            String s1 = result[i] + <span class="string">"0"</span>;</span><br><span class="line">            String s2 = result[i] + <span class="string">"1"</span>;</span><br><span class="line">            queue.enqueue(s1);</span><br><span class="line">            queue.enqueue(s2);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result; <span class="comment">//For number = 3 , result = &#123;"1","10","11"&#125;;</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String[] output = findBin(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">            System.out.print(output[i] + <span class="string">" "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Challenge-2-Implement-Two-Stacks-using-one-Array"><a href="#Challenge-2-Implement-Two-Stacks-using-one-Array" class="headerlink" title="Challenge 2: Implement Two Stacks using one Array"></a>Challenge 2: Implement Two Stacks using one Array</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TwoStacks</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> maxSize;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> top1, top2; <span class="comment">//Store top value indices of Stack 1 and Stack 2</span></span><br><span class="line">    <span class="keyword">private</span> V[] array;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TwoStacks</span><span class="params">(<span class="keyword">int</span> max_size)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.maxSize = max_size;</span><br><span class="line">        <span class="keyword">this</span>.top1 = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">this</span>.top2 = max_size;</span><br><span class="line">        array = (V[]) <span class="keyword">new</span> Object[max_size];<span class="comment">//type casting Object[] to V[]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//insert at top of first stack</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push1</span><span class="params">(V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top1 &lt; top2 - <span class="number">1</span>) &#123;</span><br><span class="line">            array[++top1] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//insert at top of second stack</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push2</span><span class="params">(V value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top1 &lt; top2 - <span class="number">1</span>) &#123;</span><br><span class="line">            array[--top2] = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//remove and return value from top of first stack</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">pop1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top1 &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> array[top1--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//remove and return value from top of second stack</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> V <span class="title">pop2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top2 &lt; maxSize) &#123;</span><br><span class="line">            <span class="keyword">return</span> array[top2++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Challenge-3-Reversing-the-First-k-Elements-of-a-Queue"><a href="#Challenge-3-Reversing-the-First-k-Elements-of-a-Queue" class="headerlink" title="Challenge 3: Reversing the First k Elements of a Queue"></a>Challenge 3: Reversing the First k Elements of a Queue</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Step1. use stack store first k element in queue</span><br><span class="line">Step2. add ele in stack to queue</span><br><span class="line">Step3. queue.add(queue.poll())  queue.size() - k æ¬¡</span><br></pre></td></tr></table></figure>

<h2 id="Challenge-4-Implement-Queue-using-Stack"><a href="#Challenge-4-Implement-Queue-using-Stack" class="headerlink" title="Challenge 4: Implement Queue using Stack"></a>Challenge 4: Implement Queue using Stack</h2><h2 id="Challenge-5-Sort-the-Values-in-a-Stack"><a href="#Challenge-5-Sort-the-Values-in-a-Stack" class="headerlink" title="Challenge 5: Sort the Values in a Stack"></a>Challenge 5: Sort the Values in a Stack</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CheckSort</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sortStack</span><span class="params">(Stack&lt;Integer&gt; stack)</span> </span>&#123;</span><br><span class="line">        Stack&lt;Integer&gt; newStack = <span class="keyword">new</span> Stack&lt;&gt;(stack.getMaxSize());</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            Integer value = stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (!newStack.isEmpty() &amp;&amp; value &gt;= newStack.top()) &#123;</span><br><span class="line">                newStack.push(value);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (!newStack.isEmpty() &amp;&amp; newStack.top() &gt; value)</span><br><span class="line">                    stack.push(newStack.pop());</span><br><span class="line">                newStack.push(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!newStack.isEmpty())</span><br><span class="line">            stack.push(newStack.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;(<span class="number">7</span>);</span><br><span class="line">        stack.push(<span class="number">2</span>);</span><br><span class="line">        stack.push(<span class="number">97</span>);</span><br><span class="line">        stack.push(<span class="number">4</span>);</span><br><span class="line">        stack.push(<span class="number">42</span>);</span><br><span class="line">        stack.push(<span class="number">12</span>);</span><br><span class="line">        stack.push(<span class="number">60</span>);</span><br><span class="line">        stack.push(<span class="number">23</span>);</span><br><span class="line">        sortStack(stack);</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">            System.out.println(stack.pop());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Challenge-6-Evaluate-Postfix-Expressions-using-Stacks"><a href="#Challenge-6-Evaluate-Postfix-Expressions-using-Stacks" class="headerlink" title="Challenge 6: Evaluate Postfix Expressions using Stacks"></a>Challenge 6: Evaluate Postfix Expressions using Stacks</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expression = "921*-8-4+" # 9 - 2 * 1 - 8 + 4</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<h2 id="Challenge-7-Next-Greater-Element-using-Stack"><a href="#Challenge-7-Next-Greater-Element-using-Stack" class="headerlink" title="Challenge 7: Next Greater Element using Stack"></a>Challenge 7: Next Greater Element using Stack</h2><h2 id="Challenge-8-Solve-a-Celebrity-Problem-using-a-Stack"><a href="#Challenge-8-Solve-a-Celebrity-Problem-using-a-Stack" class="headerlink" title="Challenge 8: Solve a Celebrity Problem using a Stack"></a>Challenge 8: Solve a Celebrity Problem using a Stack</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FindCelebChallenge</span> </span>&#123;</span><br><span class="line">    <span class="comment">//returns true if x knows y else returns false</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">knows</span><span class="params">(<span class="keyword">int</span>[][] party, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (party[x][y] == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> celebrity = -<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Push all people in stack</span></span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="comment">//Take two people out of stack and check if they know each other</span></span><br><span class="line">            <span class="comment">//One who doesn't know the other, push it back in stack.</span></span><br><span class="line">            <span class="keyword">int</span> cur = stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                celebrity = cur;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> next = stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (knows(cur, next)) &#123;</span><br><span class="line">                <span class="comment">//x knows y , discard x and push y in stack</span></span><br><span class="line">                stack.push(next);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Check it to make sure it's the right celebrity</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (celebrity != i &amp;&amp; knows(celebrity, i) || !knows(i, celebrity)) &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> celebrity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> [][] party1 = &#123;</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,   </span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> [][] party2 = &#123;</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,   </span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> [][] party3 = &#123;</span><br><span class="line">            &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,   </span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.out.println(findCelebrity(party1,<span class="number">4</span>));</span><br><span class="line">        System.out.println(findCelebrity(party2,<span class="number">4</span>));</span><br><span class="line">        System.out.println(findCelebrity(party3,<span class="number">4</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Challenge-9-Check-for-Balanced-Parentheses-using-a-Stack"><a href="#Challenge-9-Check-for-Balanced-Parentheses-using-a-Stack" class="headerlink" title="Challenge 9: Check for Balanced Parentheses using a Stack"></a>Challenge 9: Check for Balanced Parentheses using a Stack</h2><h2 id="Challenge-10-Create-Stack-where-min-gives-minimum-in-O-1"><a href="#Challenge-10-Create-Stack-where-min-gives-minimum-in-O-1" class="headerlink" title="Challenge 10: Create Stack where min() gives minimum in O(1)"></a>Challenge 10: Create Stack where min() gives minimum in O(1)</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dejavu"
      src="/images/v2-f8df7dc974a522b119a385a0fc09311e_xll.jpg">
  <p class="site-author-name" itemprop="name">Dejavu</p>
  <div class="site-description" itemprop="description">Stay gold</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">72</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Dejavu-19" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Dejavu-19" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/liu.kunling19@gmail.com" title="E-Mail â†’ liu.kunling19@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 â€“ 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dejavu</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  















  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":false},"log":false});</script></body>
</html>
